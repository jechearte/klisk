(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Hl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var R0={exports:{}},Is={},D0={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),Yv=Symbol.for("react.portal"),Xv=Symbol.for("react.fragment"),Kv=Symbol.for("react.strict_mode"),qv=Symbol.for("react.profiler"),Qv=Symbol.for("react.provider"),Zv=Symbol.for("react.context"),Gv=Symbol.for("react.forward_ref"),Jv=Symbol.for("react.suspense"),ew=Symbol.for("react.memo"),tw=Symbol.for("react.lazy"),wf=Symbol.iterator;function nw(e){return e===null||typeof e!="object"?null:(e=wf&&e[wf]||e["@@iterator"],typeof e=="function"?e:null)}var O0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F0=Object.assign,$0={};function xi(e,t,n){this.props=e,this.context=t,this.refs=$0,this.updater=n||O0}xi.prototype.isReactComponent={};xi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function B0(){}B0.prototype=xi.prototype;function Tc(e,t,n){this.props=e,this.context=t,this.refs=$0,this.updater=n||O0}var Pc=Tc.prototype=new B0;Pc.constructor=Tc;F0(Pc,xi.prototype);Pc.isPureReactComponent=!0;var kf=Array.isArray,H0=Object.prototype.hasOwnProperty,zc={current:null},V0={key:!0,ref:!0,__self:!0,__source:!0};function U0(e,t,n){var r,i={},o=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)H0.call(t,r)&&!V0.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var a=Array(s),u=0;u<s;u++)a[u]=arguments[u+2];i.children=a}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Lo,type:e,key:o,ref:l,props:i,_owner:zc.current}}function rw(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Rc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var bf=/\/+/g;function da(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iw(""+e.key):t.toString(36)}function Sl(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Lo:case Yv:l=!0}}if(l)return l=e,i=i(l),e=r===""?"."+da(l,0):r,kf(i)?(n="",e!=null&&(n=e.replace(bf,"$&/")+"/"),Sl(i,t,n,"",function(u){return u})):i!=null&&(Rc(i)&&(i=rw(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(bf,"$&/")+"/")+e)),t.push(i)),1;if(l=0,r=r===""?".":r+":",kf(e))for(var s=0;s<e.length;s++){o=e[s];var a=r+da(o,s);l+=Sl(o,t,n,a,i)}else if(a=nw(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=r+da(o,s++),l+=Sl(o,t,n,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Xo(e,t,n){if(e==null)return e;var r=[],i=0;return Sl(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ow(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var lt={current:null},Cl={transition:null},lw={ReactCurrentDispatcher:lt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:zc};function W0(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Xo,forEach:function(e,t,n){Xo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xo(e,function(){t++}),t},toArray:function(e){return Xo(e,function(t){return t})||[]},only:function(e){if(!Rc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=xi;he.Fragment=Xv;he.Profiler=qv;he.PureComponent=Tc;he.StrictMode=Kv;he.Suspense=Jv;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lw;he.act=W0;he.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=F0({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=zc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)H0.call(t,a)&&!V0.hasOwnProperty(a)&&(r[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){s=Array(a);for(var u=0;u<a;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Lo,type:e.type,key:i,ref:o,props:r,_owner:l}};he.createContext=function(e){return e={$$typeof:Zv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qv,_context:e},e.Consumer=e};he.createElement=U0;he.createFactory=function(e){var t=U0.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:Gv,render:e}};he.isValidElement=Rc;he.lazy=function(e){return{$$typeof:tw,_payload:{_status:-1,_result:e},_init:ow}};he.memo=function(e,t){return{$$typeof:ew,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};he.unstable_act=W0;he.useCallback=function(e,t){return lt.current.useCallback(e,t)};he.useContext=function(e){return lt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return lt.current.useDeferredValue(e)};he.useEffect=function(e,t){return lt.current.useEffect(e,t)};he.useId=function(){return lt.current.useId()};he.useImperativeHandle=function(e,t,n){return lt.current.useImperativeHandle(e,t,n)};he.useInsertionEffect=function(e,t){return lt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return lt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return lt.current.useMemo(e,t)};he.useReducer=function(e,t,n){return lt.current.useReducer(e,t,n)};he.useRef=function(e){return lt.current.useRef(e)};he.useState=function(e){return lt.current.useState(e)};he.useSyncExternalStore=function(e,t,n){return lt.current.useSyncExternalStore(e,t,n)};he.useTransition=function(){return lt.current.useTransition()};he.version="18.3.1";D0.exports=he;var I=D0.exports;const Y0=js(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sw=I,aw=Symbol.for("react.element"),uw=Symbol.for("react.fragment"),cw=Object.prototype.hasOwnProperty,dw=sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fw={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)cw.call(t,r)&&!fw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:aw,type:e,key:o,ref:l,props:i,_owner:dw.current}}Is.Fragment=uw;Is.jsx=X0;Is.jsxs=X0;R0.exports=Is;var d=R0.exports,fu={},K0={exports:{}},Nt={},q0={exports:{}},Q0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,T){var S=L.length;L.push(T);e:for(;0<S;){var B=S-1>>>1,H=L[B];if(0<i(H,T))L[B]=T,L[S]=H,S=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var T=L[0],S=L.pop();if(S!==T){L[0]=S;e:for(var B=0,H=L.length,j=H>>>1;B<j;){var Y=2*(B+1)-1,Q=L[Y],q=Y+1,G=L[q];if(0>i(Q,S))q<H&&0>i(G,Q)?(L[B]=G,L[q]=S,B=q):(L[B]=Q,L[Y]=S,B=Y);else if(q<H&&0>i(G,S))L[B]=G,L[q]=S,B=q;else break e}}return T}function i(L,T){var S=L.sortIndex-T.sortIndex;return S!==0?S:L.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var a=[],u=[],f=1,c=null,h=3,p=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(L){for(var T=n(u);T!==null;){if(T.callback===null)r(u);else if(T.startTime<=L)r(u),T.sortIndex=T.expirationTime,t(a,T);else break;T=n(u)}}function k(L){if(v=!1,g(L),!x)if(n(a)!==null)x=!0,R(C);else{var T=n(u);T!==null&&F(k,T.startTime-L)}}function C(L,T){x=!1,v&&(v=!1,m(A),A=-1),p=!0;var S=h;try{for(g(T),c=n(a);c!==null&&(!(c.expirationTime>T)||L&&!M());){var B=c.callback;if(typeof B=="function"){c.callback=null,h=c.priorityLevel;var H=B(c.expirationTime<=T);T=e.unstable_now(),typeof H=="function"?c.callback=H:c===n(a)&&r(a),g(T)}else r(a);c=n(a)}if(c!==null)var j=!0;else{var Y=n(u);Y!==null&&F(k,Y.startTime-T),j=!1}return j}finally{c=null,h=S,p=!1}}var w=!1,N=null,A=-1,O=5,_=-1;function M(){return!(e.unstable_now()-_<O)}function z(){if(N!==null){var L=e.unstable_now();_=L;var T=!0;try{T=N(!0,L)}finally{T?D():(w=!1,N=null)}}else w=!1}var D;if(typeof y=="function")D=function(){y(z)};else if(typeof MessageChannel<"u"){var E=new MessageChannel,P=E.port2;E.port1.onmessage=z,D=function(){P.postMessage(null)}}else D=function(){b(z,0)};function R(L){N=L,w||(w=!0,D())}function F(L,T){A=b(function(){L(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,R(C))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(a)},e.unstable_next=function(L){switch(h){case 1:case 2:case 3:var T=3;break;default:T=h}var S=h;h=T;try{return L()}finally{h=S}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,T){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var S=h;h=L;try{return T()}finally{h=S}},e.unstable_scheduleCallback=function(L,T,S){var B=e.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?B+S:B):S=B,L){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=S+H,L={id:f++,callback:T,priorityLevel:L,startTime:S,expirationTime:H,sortIndex:-1},S>B?(L.sortIndex=S,t(u,L),n(a)===null&&L===n(u)&&(v?(m(A),A=-1):v=!0,F(k,S-B))):(L.sortIndex=H,t(a,L),x||p||(x=!0,R(C))),L},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(L){var T=h;return function(){var S=h;h=T;try{return L.apply(this,arguments)}finally{h=S}}}})(Q0);q0.exports=Q0;var hw=q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw=I,St=hw;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z0=new Set,to={};function Cr(e,t){ei(e,t),ei(e+"Capture",t)}function ei(e,t){for(to[e]=t,e=0;e<t.length;e++)Z0.add(t[e])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hu=Object.prototype.hasOwnProperty,gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sf={},Cf={};function mw(e){return hu.call(Cf,e)?!0:hu.call(Sf,e)?!1:gw.test(e)?Cf[e]=!0:(Sf[e]=!0,!1)}function xw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yw(e,t,n,r){if(t===null||typeof t>"u"||xw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,n,r,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dc=/[\-:]([a-z])/g;function Oc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dc,Oc);qe[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dc,Oc);qe[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dc,Oc);qe[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,t,n,r){var i=qe.hasOwnProperty(t)?qe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yw(t,n,i,r)&&(n=null),r||i===null?mw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Sn=pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),$c=Symbol.for("react.strict_mode"),pu=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),J0=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),gu=Symbol.for("react.suspense"),mu=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),eg=Symbol.for("react.offscreen"),Nf=Symbol.iterator;function Si(e){return e===null||typeof e!="object"?null:(e=Nf&&e[Nf]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,fa;function zi(e){if(fa===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fa=t&&t[1]||""}return`
`+fa+e}var ha=!1;function pa(e,t){if(!e||ha)return"";ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),l=i.length-1,s=o.length-1;1<=l&&0<=s&&i[l]!==o[s];)s--;for(;1<=l&&0<=s;l--,s--)if(i[l]!==o[s]){if(l!==1||s!==1)do if(l--,s--,0>s||i[l]!==o[s]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=s);break}}}finally{ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?zi(e):""}function vw(e){switch(e.tag){case 5:return zi(e.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 2:case 15:return e=pa(e.type,!1),e;case 11:return e=pa(e.type.render,!1),e;case 1:return e=pa(e.type,!0),e;default:return""}}function xu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Ar:return"Portal";case pu:return"Profiler";case $c:return"StrictMode";case gu:return"Suspense";case mu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J0:return(e.displayName||"Context")+".Consumer";case G0:return(e._context.displayName||"Context")+".Provider";case Bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hc:return t=e.displayName||null,t!==null?t:xu(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return xu(e(t))}catch{}}return null}function ww(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xu(t);case 8:return t===$c?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kw(e){var t=tg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qo(e){e._valueTracker||(e._valueTracker=kw(e))}function ng(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yu(e,t){var n=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ef(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rg(e,t){t=t.checked,t!=null&&Fc(e,"checked",t,!1)}function vu(e,t){rg(e,t);var n=Xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?wu(e,t.type,n):t.hasOwnProperty("defaultValue")&&wu(e,t.type,Xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _f(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function wu(e,t,n){(t!=="number"||Vl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ri=Array.isArray;function Wr(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ku(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(Ri(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xn(n)}}function ig(e,t){var n=Xn(t.value),r=Xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function If(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function og(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?og(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qo,lg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function no(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bw=["Webkit","ms","Moz","O"];Object.keys(Bi).forEach(function(e){bw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Bi[t]=Bi[e]})});function sg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Bi.hasOwnProperty(e)&&Bi[e]?(""+t).trim():t+"px"}function ag(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Sw=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Su(e,t){if(t){if(Sw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Cu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=null;function Vc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eu=null,Yr=null,Xr=null;function Mf(e){if(e=zo(e)){if(typeof Eu!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ps(t),Eu(e.stateNode,e.type,t))}}function ug(e){Yr?Xr?Xr.push(e):Xr=[e]:Yr=e}function cg(){if(Yr){var e=Yr,t=Xr;if(Xr=Yr=null,Mf(e),t)for(e=0;e<t.length;e++)Mf(t[e])}}function dg(e,t){return e(t)}function fg(){}var ga=!1;function hg(e,t,n){if(ga)return e(t,n);ga=!0;try{return dg(e,t,n)}finally{ga=!1,(Yr!==null||Xr!==null)&&(fg(),cg())}}function ro(e,t){var n=e.stateNode;if(n===null)return null;var r=Ps(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var _u=!1;if(yn)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){_u=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{_u=!1}function Cw(e,t,n,r,i,o,l,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var Hi=!1,Ul=null,Wl=!1,ju=null,Nw={onError:function(e){Hi=!0,Ul=e}};function Ew(e,t,n,r,i,o,l,s,a){Hi=!1,Ul=null,Cw.apply(Nw,arguments)}function _w(e,t,n,r,i,o,l,s,a){if(Ew.apply(this,arguments),Hi){if(Hi){var u=Ul;Hi=!1,Ul=null}else throw Error(U(198));Wl||(Wl=!0,ju=u)}}function Nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Af(e){if(Nr(e)!==e)throw Error(U(188))}function jw(e){var t=e.alternate;if(!t){if(t=Nr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Af(i),e;if(o===r)return Af(i),t;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var l=!1,s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function gg(e){return e=jw(e),e!==null?mg(e):null}function mg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mg(e);if(t!==null)return t;e=e.sibling}return null}var xg=St.unstable_scheduleCallback,Lf=St.unstable_cancelCallback,Iw=St.unstable_shouldYield,Mw=St.unstable_requestPaint,Fe=St.unstable_now,Aw=St.unstable_getCurrentPriorityLevel,Uc=St.unstable_ImmediatePriority,yg=St.unstable_UserBlockingPriority,Yl=St.unstable_NormalPriority,Lw=St.unstable_LowPriority,vg=St.unstable_IdlePriority,Ms=null,nn=null;function Tw(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ms,e,void 0,(e.current.flags&128)===128)}catch{}}var Wt=Math.clz32?Math.clz32:Rw,Pw=Math.log,zw=Math.LN2;function Rw(e){return e>>>=0,e===0?32:31-(Pw(e)/zw|0)|0}var Zo=64,Go=4194304;function Di(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var s=l&~i;s!==0?r=Di(s):(o&=l,o!==0&&(r=Di(o)))}else l=n&~i,l!==0?r=Di(l):o!==0&&(r=Di(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Wt(t),i=1<<n,r|=e[n],t&=~i;return r}function Dw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Wt(o),s=1<<l,a=i[l];a===-1?(!(s&n)||s&r)&&(i[l]=Dw(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function Iu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function wg(){var e=Zo;return Zo<<=1,!(Zo&4194240)&&(Zo=64),e}function ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function To(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wt(t),e[t]=n}function Fw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Wt(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Wc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Wt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Se=0;function kg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bg,Yc,Sg,Cg,Ng,Mu=!1,Jo=[],Fn=null,$n=null,Bn=null,io=new Map,oo=new Map,Pn=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tf(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":io.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function Ni(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zo(t),t!==null&&Yc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Bw(e,t,n,r,i){switch(t){case"focusin":return Fn=Ni(Fn,e,t,n,r,i),!0;case"dragenter":return $n=Ni($n,e,t,n,r,i),!0;case"mouseover":return Bn=Ni(Bn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return io.set(o,Ni(io.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,oo.set(o,Ni(oo.get(o)||null,e,t,n,r,i)),!0}return!1}function Eg(e){var t=lr(e.target);if(t!==null){var n=Nr(t);if(n!==null){if(t=n.tag,t===13){if(t=pg(n),t!==null){e.blockedOn=t,Ng(e.priority,function(){Sg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Au(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Nu=r,n.target.dispatchEvent(r),Nu=null}else return t=zo(n),t!==null&&Yc(t),e.blockedOn=n,!1;t.shift()}return!0}function Pf(e,t,n){Nl(e)&&n.delete(t)}function Hw(){Mu=!1,Fn!==null&&Nl(Fn)&&(Fn=null),$n!==null&&Nl($n)&&($n=null),Bn!==null&&Nl(Bn)&&(Bn=null),io.forEach(Pf),oo.forEach(Pf)}function Ei(e,t){e.blockedOn===t&&(e.blockedOn=null,Mu||(Mu=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,Hw)))}function lo(e){function t(i){return Ei(i,e)}if(0<Jo.length){Ei(Jo[0],e);for(var n=1;n<Jo.length;n++){var r=Jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&Ei(Fn,e),$n!==null&&Ei($n,e),Bn!==null&&Ei(Bn,e),io.forEach(t),oo.forEach(t),n=0;n<Pn.length;n++)r=Pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Eg(n),n.blockedOn===null&&Pn.shift()}var Kr=Sn.ReactCurrentBatchConfig,Kl=!0;function Vw(e,t,n,r){var i=Se,o=Kr.transition;Kr.transition=null;try{Se=1,Xc(e,t,n,r)}finally{Se=i,Kr.transition=o}}function Uw(e,t,n,r){var i=Se,o=Kr.transition;Kr.transition=null;try{Se=4,Xc(e,t,n,r)}finally{Se=i,Kr.transition=o}}function Xc(e,t,n,r){if(Kl){var i=Au(e,t,n,r);if(i===null)Ea(e,t,r,ql,n),Tf(e,r);else if(Bw(i,e,t,n,r))r.stopPropagation();else if(Tf(e,r),t&4&&-1<$w.indexOf(e)){for(;i!==null;){var o=zo(i);if(o!==null&&bg(o),o=Au(e,t,n,r),o===null&&Ea(e,t,r,ql,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ea(e,t,r,null,n)}}var ql=null;function Au(e,t,n,r){if(ql=null,e=Vc(r),e=lr(e),e!==null)if(t=Nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=pg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ql=e,null}function _g(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Aw()){case Uc:return 1;case yg:return 4;case Yl:case Lw:return 16;case vg:return 536870912;default:return 16}default:return 16}}var Dn=null,Kc=null,El=null;function jg(){if(El)return El;var e,t=Kc,n=t.length,r,i="value"in Dn?Dn.value:Dn.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===i[o-r];r++);return El=i.slice(e,1<r?1-r:void 0)}function _l(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function zf(){return!1}function Et(e){function t(n,r,i,o,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?el:zf,this.isPropagationStopped=zf,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=Et(yi),Po=ze({},yi,{view:0,detail:0}),Ww=Et(Po),xa,ya,_i,As=ze({},Po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(xa=e.screenX-_i.screenX,ya=e.screenY-_i.screenY):ya=xa=0,_i=e),xa)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Rf=Et(As),Yw=ze({},As,{dataTransfer:0}),Xw=Et(Yw),Kw=ze({},Po,{relatedTarget:0}),va=Et(Kw),qw=ze({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qw=Et(qw),Zw=ze({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gw=Et(Zw),Jw=ze({},yi,{data:0}),Df=Et(Jw),ek={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nk[e])?!!t[e]:!1}function Qc(){return rk}var ik=ze({},Po,{key:function(e){if(e.key){var t=ek[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_l(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?_l(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_l(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ok=Et(ik),lk=ze({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Of=Et(lk),sk=ze({},Po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),ak=Et(sk),uk=ze({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ck=Et(uk),dk=ze({},As,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=Et(dk),hk=[9,13,27,32],Zc=yn&&"CompositionEvent"in window,Vi=null;yn&&"documentMode"in document&&(Vi=document.documentMode);var pk=yn&&"TextEvent"in window&&!Vi,Ig=yn&&(!Zc||Vi&&8<Vi&&11>=Vi),Ff=" ",$f=!1;function Mg(e,t){switch(e){case"keyup":return hk.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tr=!1;function gk(e,t){switch(e){case"compositionend":return Ag(t);case"keypress":return t.which!==32?null:($f=!0,Ff);case"textInput":return e=t.data,e===Ff&&$f?null:e;default:return null}}function mk(e,t){if(Tr)return e==="compositionend"||!Zc&&Mg(e,t)?(e=jg(),El=Kc=Dn=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ig&&t.locale!=="ko"?null:t.data;default:return null}}var xk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xk[e.type]:t==="textarea"}function Lg(e,t,n,r){ug(r),t=Ql(t,"onChange"),0<t.length&&(n=new qc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ui=null,so=null;function yk(e){Vg(e,0)}function Ls(e){var t=Rr(e);if(ng(t))return e}function vk(e,t){if(e==="change")return t}var Tg=!1;if(yn){var wa;if(yn){var ka="oninput"in document;if(!ka){var Hf=document.createElement("div");Hf.setAttribute("oninput","return;"),ka=typeof Hf.oninput=="function"}wa=ka}else wa=!1;Tg=wa&&(!document.documentMode||9<document.documentMode)}function Vf(){Ui&&(Ui.detachEvent("onpropertychange",Pg),so=Ui=null)}function Pg(e){if(e.propertyName==="value"&&Ls(so)){var t=[];Lg(t,so,e,Vc(e)),hg(yk,t)}}function wk(e,t,n){e==="focusin"?(Vf(),Ui=t,so=n,Ui.attachEvent("onpropertychange",Pg)):e==="focusout"&&Vf()}function kk(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(so)}function bk(e,t){if(e==="click")return Ls(t)}function Sk(e,t){if(e==="input"||e==="change")return Ls(t)}function Ck(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Ck;function ao(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hu.call(t,i)||!Kt(e[i],t[i]))return!1}return!0}function Uf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wf(e,t){var n=Uf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uf(n)}}function zg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rg(){for(var e=window,t=Vl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Nk(e){var t=Rg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&zg(n.ownerDocument.documentElement,n)){if(r!==null&&Gc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Wf(n,o);var l=Wf(n,r);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ek=yn&&"documentMode"in document&&11>=document.documentMode,Pr=null,Lu=null,Wi=null,Tu=!1;function Yf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tu||Pr==null||Pr!==Vl(r)||(r=Pr,"selectionStart"in r&&Gc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wi&&ao(Wi,r)||(Wi=r,r=Ql(Lu,"onSelect"),0<r.length&&(t=new qc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pr)))}function tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zr={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},ba={},Dg={};yn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ts(e){if(ba[e])return ba[e];if(!zr[e])return e;var t=zr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Dg)return ba[e]=t[n];return e}var Og=Ts("animationend"),Fg=Ts("animationiteration"),$g=Ts("animationstart"),Bg=Ts("transitionend"),Hg=new Map,Xf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){Hg.set(e,t),Cr(t,[e])}for(var Sa=0;Sa<Xf.length;Sa++){var Ca=Xf[Sa],_k=Ca.toLowerCase(),jk=Ca[0].toUpperCase()+Ca.slice(1);qn(_k,"on"+jk)}qn(Og,"onAnimationEnd");qn(Fg,"onAnimationIteration");qn($g,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Bg,"onTransitionEnd");ei("onMouseEnter",["mouseout","mouseover"]);ei("onMouseLeave",["mouseout","mouseover"]);ei("onPointerEnter",["pointerout","pointerover"]);ei("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oi));function Kf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,_w(r,t,void 0,e),e.currentTarget=null}function Vg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var l=r.length-1;0<=l;l--){var s=r[l],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==o&&i.isPropagationStopped())break e;Kf(i,s,u),o=a}else for(l=0;l<r.length;l++){if(s=r[l],a=s.instance,u=s.currentTarget,s=s.listener,a!==o&&i.isPropagationStopped())break e;Kf(i,s,u),o=a}}}if(Wl)throw e=ju,Wl=!1,ju=null,e}function je(e,t){var n=t[Ou];n===void 0&&(n=t[Ou]=new Set);var r=e+"__bubble";n.has(r)||(Ug(t,e,2,!1),n.add(r))}function Na(e,t,n){var r=0;t&&(r|=4),Ug(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function uo(e){if(!e[nl]){e[nl]=!0,Z0.forEach(function(n){n!=="selectionchange"&&(Ik.has(n)||Na(n,!1,e),Na(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,Na("selectionchange",!1,t))}}function Ug(e,t,n,r){switch(_g(t)){case 1:var i=Vw;break;case 4:i=Uw;break;default:i=Xc}n=i.bind(null,t,n,e),i=void 0,!_u||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ea(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;s!==null;){if(l=lr(s),l===null)return;if(a=l.tag,a===5||a===6){r=o=l;continue e}s=s.parentNode}}r=r.return}hg(function(){var u=o,f=Vc(n),c=[];e:{var h=Hg.get(e);if(h!==void 0){var p=qc,x=e;switch(e){case"keypress":if(_l(n)===0)break e;case"keydown":case"keyup":p=ok;break;case"focusin":x="focus",p=va;break;case"focusout":x="blur",p=va;break;case"beforeblur":case"afterblur":p=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ak;break;case Og:case Fg:case $g:p=Qw;break;case Bg:p=ck;break;case"scroll":p=Ww;break;case"wheel":p=fk;break;case"copy":case"cut":case"paste":p=Gw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Of}var v=(t&4)!==0,b=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,g;y!==null;){g=y;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,m!==null&&(k=ro(y,m),k!=null&&v.push(co(y,k,g)))),b)break;y=y.return}0<v.length&&(h=new p(h,x,null,n,f),c.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Nu&&(x=n.relatedTarget||n.fromElement)&&(lr(x)||x[vn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=n.relatedTarget||n.toElement,p=u,x=x?lr(x):null,x!==null&&(b=Nr(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(v=Rf,k="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=Of,k="onPointerLeave",m="onPointerEnter",y="pointer"),b=p==null?h:Rr(p),g=x==null?h:Rr(x),h=new v(k,y+"leave",p,n,f),h.target=b,h.relatedTarget=g,k=null,lr(f)===u&&(v=new v(m,y+"enter",x,n,f),v.target=g,v.relatedTarget=b,k=v),b=k,p&&x)t:{for(v=p,m=x,y=0,g=v;g;g=_r(g))y++;for(g=0,k=m;k;k=_r(k))g++;for(;0<y-g;)v=_r(v),y--;for(;0<g-y;)m=_r(m),g--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=_r(v),m=_r(m)}v=null}else v=null;p!==null&&qf(c,h,p,v,!1),x!==null&&b!==null&&qf(c,b,x,v,!0)}}e:{if(h=u?Rr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var C=vk;else if(Bf(h))if(Tg)C=Sk;else{C=kk;var w=wk}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=bk);if(C&&(C=C(e,u))){Lg(c,C,n,f);break e}w&&w(e,h,u),e==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&wu(h,"number",h.value)}switch(w=u?Rr(u):window,e){case"focusin":(Bf(w)||w.contentEditable==="true")&&(Pr=w,Lu=u,Wi=null);break;case"focusout":Wi=Lu=Pr=null;break;case"mousedown":Tu=!0;break;case"contextmenu":case"mouseup":case"dragend":Tu=!1,Yf(c,n,f);break;case"selectionchange":if(Ek)break;case"keydown":case"keyup":Yf(c,n,f)}var N;if(Zc)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Tr?Mg(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Ig&&n.locale!=="ko"&&(Tr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Tr&&(N=jg()):(Dn=f,Kc="value"in Dn?Dn.value:Dn.textContent,Tr=!0)),w=Ql(u,A),0<w.length&&(A=new Df(A,e,null,n,f),c.push({event:A,listeners:w}),N?A.data=N:(N=Ag(n),N!==null&&(A.data=N)))),(N=pk?gk(e,n):mk(e,n))&&(u=Ql(u,"onBeforeInput"),0<u.length&&(f=new Df("onBeforeInput","beforeinput",null,n,f),c.push({event:f,listeners:u}),f.data=N))}Vg(c,t)})}function co(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ql(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ro(e,n),o!=null&&r.unshift(co(e,o,i)),o=ro(e,t),o!=null&&r.push(co(e,o,i))),e=e.return}return r}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qf(e,t,n,r,i){for(var o=t._reactName,l=[];n!==null&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(a!==null&&a===r)break;s.tag===5&&u!==null&&(s=u,i?(a=ro(n,o),a!=null&&l.unshift(co(n,a,s))):i||(a=ro(n,o),a!=null&&l.push(co(n,a,s)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Mk=/\r\n?/g,Ak=/\u0000|\uFFFD/g;function Qf(e){return(typeof e=="string"?e:""+e).replace(Mk,`
`).replace(Ak,"")}function rl(e,t,n){if(t=Qf(t),Qf(e)!==t&&n)throw Error(U(425))}function Zl(){}var Pu=null,zu=null;function Ru(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,Tk=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(e){return Zf.resolve(null).then(e).catch(Pk)}:Du;function Pk(e){setTimeout(function(){throw e})}function _a(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lo(t)}function Hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var vi=Math.random().toString(36).slice(2),en="__reactFiber$"+vi,fo="__reactProps$"+vi,vn="__reactContainer$"+vi,Ou="__reactEvents$"+vi,zk="__reactListeners$"+vi,Rk="__reactHandles$"+vi;function lr(e){var t=e[en];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vn]||n[en]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Gf(e);e!==null;){if(n=e[en])return n;e=Gf(e)}return t}e=n,n=e.parentNode}return null}function zo(e){return e=e[en]||e[vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ps(e){return e[fo]||null}var Fu=[],Dr=-1;function Qn(e){return{current:e}}function Ie(e){0>Dr||(e.current=Fu[Dr],Fu[Dr]=null,Dr--)}function _e(e,t){Dr++,Fu[Dr]=e.current,e.current=t}var Kn={},et=Qn(Kn),ft=Qn(!1),pr=Kn;function ti(e,t){var n=e.type.contextTypes;if(!n)return Kn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ht(e){return e=e.childContextTypes,e!=null}function Gl(){Ie(ft),Ie(et)}function Jf(e,t,n){if(et.current!==Kn)throw Error(U(168));_e(et,t),_e(ft,n)}function Wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(U(108,ww(e)||"Unknown",i));return ze({},n,r)}function Jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kn,pr=et.current,_e(et,e),_e(ft,ft.current),!0}function eh(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Wg(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,Ie(ft),Ie(et),_e(et,e)):Ie(ft),_e(ft,n)}var fn=null,zs=!1,ja=!1;function Yg(e){fn===null?fn=[e]:fn.push(e)}function Dk(e){zs=!0,Yg(e)}function Zn(){if(!ja&&fn!==null){ja=!0;var e=0,t=Se;try{var n=fn;for(Se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fn=null,zs=!1}catch(i){throw fn!==null&&(fn=fn.slice(e+1)),xg(Uc,Zn),i}finally{Se=t,ja=!1}}return null}var Or=[],Fr=0,es=null,ts=0,_t=[],jt=0,gr=null,hn=1,pn="";function nr(e,t){Or[Fr++]=ts,Or[Fr++]=es,es=e,ts=t}function Xg(e,t,n){_t[jt++]=hn,_t[jt++]=pn,_t[jt++]=gr,gr=e;var r=hn;e=pn;var i=32-Wt(r)-1;r&=~(1<<i),n+=1;var o=32-Wt(t)+i;if(30<o){var l=i-i%5;o=(r&(1<<l)-1).toString(32),r>>=l,i-=l,hn=1<<32-Wt(t)+i|n<<i|r,pn=o+e}else hn=1<<o|n<<i|r,pn=e}function Jc(e){e.return!==null&&(nr(e,1),Xg(e,1,0))}function ed(e){for(;e===es;)es=Or[--Fr],Or[Fr]=null,ts=Or[--Fr],Or[Fr]=null;for(;e===gr;)gr=_t[--jt],_t[jt]=null,pn=_t[--jt],_t[jt]=null,hn=_t[--jt],_t[jt]=null}var kt=null,wt=null,Me=!1,Bt=null;function Kg(e,t){var n=Mt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function th(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kt=e,wt=Hn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kt=e,wt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gr!==null?{id:hn,overflow:pn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Mt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kt=e,wt=null,!0):!1;default:return!1}}function $u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bu(e){if(Me){var t=wt;if(t){var n=t;if(!th(e,t)){if($u(e))throw Error(U(418));t=Hn(n.nextSibling);var r=kt;t&&th(e,t)?Kg(r,n):(e.flags=e.flags&-4097|2,Me=!1,kt=e)}}else{if($u(e))throw Error(U(418));e.flags=e.flags&-4097|2,Me=!1,kt=e}}}function nh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kt=e}function il(e){if(e!==kt)return!1;if(!Me)return nh(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ru(e.type,e.memoizedProps)),t&&(t=wt)){if($u(e))throw qg(),Error(U(418));for(;t;)Kg(e,t),t=Hn(t.nextSibling)}if(nh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){wt=Hn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}wt=null}}else wt=kt?Hn(e.stateNode.nextSibling):null;return!0}function qg(){for(var e=wt;e;)e=Hn(e.nextSibling)}function ni(){wt=kt=null,Me=!1}function td(e){Bt===null?Bt=[e]:Bt.push(e)}var Ok=Sn.ReactCurrentBatchConfig;function ji(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var s=i.refs;l===null?delete s[o]:s[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function ol(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rh(e){var t=e._init;return t(e._payload)}function Qg(e){function t(m,y){if(e){var g=m.deletions;g===null?(m.deletions=[y],m.flags|=16):g.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Yn(m,y),m.index=0,m.sibling=null,m}function o(m,y,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<y?(m.flags|=2,y):g):(m.flags|=2,y)):(m.flags|=1048576,y)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function s(m,y,g,k){return y===null||y.tag!==6?(y=za(g,m.mode,k),y.return=m,y):(y=i(y,g),y.return=m,y)}function a(m,y,g,k){var C=g.type;return C===Lr?f(m,y,g.props.children,k,g.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&rh(C)===y.type)?(k=i(y,g.props),k.ref=ji(m,y,g),k.return=m,k):(k=Pl(g.type,g.key,g.props,null,m.mode,k),k.ref=ji(m,y,g),k.return=m,k)}function u(m,y,g,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=Ra(g,m.mode,k),y.return=m,y):(y=i(y,g.children||[]),y.return=m,y)}function f(m,y,g,k,C){return y===null||y.tag!==7?(y=dr(g,m.mode,k,C),y.return=m,y):(y=i(y,g),y.return=m,y)}function c(m,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=za(""+y,m.mode,g),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ko:return g=Pl(y.type,y.key,y.props,null,m.mode,g),g.ref=ji(m,null,y),g.return=m,g;case Ar:return y=Ra(y,m.mode,g),y.return=m,y;case Ln:var k=y._init;return c(m,k(y._payload),g)}if(Ri(y)||Si(y))return y=dr(y,m.mode,g,null),y.return=m,y;ol(m,y)}return null}function h(m,y,g,k){var C=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:s(m,y,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ko:return g.key===C?a(m,y,g,k):null;case Ar:return g.key===C?u(m,y,g,k):null;case Ln:return C=g._init,h(m,y,C(g._payload),k)}if(Ri(g)||Si(g))return C!==null?null:f(m,y,g,k,null);ol(m,g)}return null}function p(m,y,g,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(g)||null,s(y,m,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ko:return m=m.get(k.key===null?g:k.key)||null,a(y,m,k,C);case Ar:return m=m.get(k.key===null?g:k.key)||null,u(y,m,k,C);case Ln:var w=k._init;return p(m,y,g,w(k._payload),C)}if(Ri(k)||Si(k))return m=m.get(g)||null,f(y,m,k,C,null);ol(y,k)}return null}function x(m,y,g,k){for(var C=null,w=null,N=y,A=y=0,O=null;N!==null&&A<g.length;A++){N.index>A?(O=N,N=null):O=N.sibling;var _=h(m,N,g[A],k);if(_===null){N===null&&(N=O);break}e&&N&&_.alternate===null&&t(m,N),y=o(_,y,A),w===null?C=_:w.sibling=_,w=_,N=O}if(A===g.length)return n(m,N),Me&&nr(m,A),C;if(N===null){for(;A<g.length;A++)N=c(m,g[A],k),N!==null&&(y=o(N,y,A),w===null?C=N:w.sibling=N,w=N);return Me&&nr(m,A),C}for(N=r(m,N);A<g.length;A++)O=p(N,m,A,g[A],k),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?A:O.key),y=o(O,y,A),w===null?C=O:w.sibling=O,w=O);return e&&N.forEach(function(M){return t(m,M)}),Me&&nr(m,A),C}function v(m,y,g,k){var C=Si(g);if(typeof C!="function")throw Error(U(150));if(g=C.call(g),g==null)throw Error(U(151));for(var w=C=null,N=y,A=y=0,O=null,_=g.next();N!==null&&!_.done;A++,_=g.next()){N.index>A?(O=N,N=null):O=N.sibling;var M=h(m,N,_.value,k);if(M===null){N===null&&(N=O);break}e&&N&&M.alternate===null&&t(m,N),y=o(M,y,A),w===null?C=M:w.sibling=M,w=M,N=O}if(_.done)return n(m,N),Me&&nr(m,A),C;if(N===null){for(;!_.done;A++,_=g.next())_=c(m,_.value,k),_!==null&&(y=o(_,y,A),w===null?C=_:w.sibling=_,w=_);return Me&&nr(m,A),C}for(N=r(m,N);!_.done;A++,_=g.next())_=p(N,m,A,_.value,k),_!==null&&(e&&_.alternate!==null&&N.delete(_.key===null?A:_.key),y=o(_,y,A),w===null?C=_:w.sibling=_,w=_);return e&&N.forEach(function(z){return t(m,z)}),Me&&nr(m,A),C}function b(m,y,g,k){if(typeof g=="object"&&g!==null&&g.type===Lr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ko:e:{for(var C=g.key,w=y;w!==null;){if(w.key===C){if(C=g.type,C===Lr){if(w.tag===7){n(m,w.sibling),y=i(w,g.props.children),y.return=m,m=y;break e}}else if(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Ln&&rh(C)===w.type){n(m,w.sibling),y=i(w,g.props),y.ref=ji(m,w,g),y.return=m,m=y;break e}n(m,w);break}else t(m,w);w=w.sibling}g.type===Lr?(y=dr(g.props.children,m.mode,k,g.key),y.return=m,m=y):(k=Pl(g.type,g.key,g.props,null,m.mode,k),k.ref=ji(m,y,g),k.return=m,m=k)}return l(m);case Ar:e:{for(w=g.key;y!==null;){if(y.key===w)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(m,y.sibling),y=i(y,g.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Ra(g,m.mode,k),y.return=m,m=y}return l(m);case Ln:return w=g._init,b(m,y,w(g._payload),k)}if(Ri(g))return x(m,y,g,k);if(Si(g))return v(m,y,g,k);ol(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,g),y.return=m,m=y):(n(m,y),y=za(g,m.mode,k),y.return=m,m=y),l(m)):n(m,y)}return b}var ri=Qg(!0),Zg=Qg(!1),ns=Qn(null),rs=null,$r=null,nd=null;function rd(){nd=$r=rs=null}function id(e){var t=ns.current;Ie(ns),e._currentValue=t}function Hu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qr(e,t){rs=e,nd=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function Lt(e){var t=e._currentValue;if(nd!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(rs===null)throw Error(U(308));$r=e,rs.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var sr=null;function od(e){sr===null?sr=[e]:sr.push(e)}function Gg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,od(t)):(n.next=i.next,i.next=n),t.interleaved=n,wn(e,r)}function wn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Tn=!1;function ld(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,wn(e,n)}return i=r.interleaved,i===null?(t.next=t,od(r)):(t.next=i.next,i.next=t),r.interleaved=t,wn(e,n)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wc(e,n)}}function ih(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function is(e,t,n,r){var i=e.updateQueue;Tn=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var a=s,u=a.next;a.next=null,l===null?o=u:l.next=u,l=a;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==l&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=a))}if(o!==null){var c=i.baseState;l=0,f=u=a=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var x=e,v=s;switch(h=t,p=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){c=x.call(p,c,h);break e}c=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,h=typeof x=="function"?x.call(p,c,h):x,h==null)break e;c=ze({},c,h);break e;case 2:Tn=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=p,a=c):f=f.next=p,l|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(a=c),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);xr|=l,e.lanes=l,e.memoizedState=c}}function oh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Ro={},rn=Qn(Ro),ho=Qn(Ro),po=Qn(Ro);function ar(e){if(e===Ro)throw Error(U(174));return e}function sd(e,t){switch(_e(po,t),_e(ho,e),_e(rn,Ro),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=bu(t,e)}Ie(rn),_e(rn,t)}function ii(){Ie(rn),Ie(ho),Ie(po)}function em(e){ar(po.current);var t=ar(rn.current),n=bu(t,e.type);t!==n&&(_e(ho,e),_e(rn,n))}function ad(e){ho.current===e&&(Ie(rn),Ie(ho))}var Te=Qn(0);function os(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ia=[];function ud(){for(var e=0;e<Ia.length;e++)Ia[e]._workInProgressVersionPrimary=null;Ia.length=0}var Il=Sn.ReactCurrentDispatcher,Ma=Sn.ReactCurrentBatchConfig,mr=0,Pe=null,Ve=null,We=null,ls=!1,Yi=!1,go=0,Fk=0;function Qe(){throw Error(U(321))}function cd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function dd(e,t,n,r,i,o){if(mr=o,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Il.current=e===null||e.memoizedState===null?Vk:Uk,e=n(r,i),Yi){o=0;do{if(Yi=!1,go=0,25<=o)throw Error(U(301));o+=1,We=Ve=null,t.updateQueue=null,Il.current=Wk,e=n(r,i)}while(Yi)}if(Il.current=ss,t=Ve!==null&&Ve.next!==null,mr=0,We=Ve=Pe=null,ls=!1,t)throw Error(U(300));return e}function fd(){var e=go!==0;return go=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function Tt(){if(Ve===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,Ve=e;else{if(e===null)throw Error(U(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function mo(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=Tt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=Ve,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=l=null,a=null,u=o;do{var f=u.lane;if((mr&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(s=a=c,l=r):a=a.next=c,Pe.lanes|=f,xr|=f}u=u.next}while(u!==null&&u!==o);a===null?l=r:a.next=s,Kt(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=a,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Pe.lanes|=o,xr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function La(e){var t=Tt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Kt(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function tm(){}function nm(e,t){var n=Pe,r=Tt(),i=t(),o=!Kt(r.memoizedState,i);if(o&&(r.memoizedState=i,ct=!0),r=r.queue,hd(om.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,xo(9,im.bind(null,n,r,i,t),void 0,null),Ye===null)throw Error(U(349));mr&30||rm(n,t,i)}return i}function rm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function im(e,t,n,r){t.value=n,t.getSnapshot=r,lm(t)&&sm(e)}function om(e,t,n){return n(function(){lm(t)&&sm(e)})}function lm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function sm(e){var t=wn(e,1);t!==null&&Yt(t,e,1,-1)}function lh(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=Hk.bind(null,Pe,e),[t.memoizedState,e]}function xo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function am(){return Tt().memoizedState}function Ml(e,t,n,r){var i=Zt();Pe.flags|=e,i.memoizedState=xo(1|t,n,void 0,r===void 0?null:r)}function Rs(e,t,n,r){var i=Tt();r=r===void 0?null:r;var o=void 0;if(Ve!==null){var l=Ve.memoizedState;if(o=l.destroy,r!==null&&cd(r,l.deps)){i.memoizedState=xo(t,n,o,r);return}}Pe.flags|=e,i.memoizedState=xo(1|t,n,o,r)}function sh(e,t){return Ml(8390656,8,e,t)}function hd(e,t){return Rs(2048,8,e,t)}function um(e,t){return Rs(4,2,e,t)}function cm(e,t){return Rs(4,4,e,t)}function dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fm(e,t,n){return n=n!=null?n.concat([e]):null,Rs(4,4,dm.bind(null,t,e),n)}function pd(){}function hm(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function pm(e,t){var n=Tt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&cd(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gm(e,t,n){return mr&21?(Kt(n,t)||(n=wg(),Pe.lanes|=n,xr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function $k(e,t){var n=Se;Se=n!==0&&4>n?n:4,e(!0);var r=Ma.transition;Ma.transition={};try{e(!1),t()}finally{Se=n,Ma.transition=r}}function mm(){return Tt().memoizedState}function Bk(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xm(e))ym(t,n);else if(n=Gg(e,t,n,r),n!==null){var i=ot();Yt(n,e,r,i),vm(n,t,r)}}function Hk(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xm(e))ym(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,s=o(l,n);if(i.hasEagerState=!0,i.eagerState=s,Kt(s,l)){var a=t.interleaved;a===null?(i.next=i,od(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}n=Gg(e,t,i,r),n!==null&&(i=ot(),Yt(n,e,r,i),vm(n,t,r))}}function xm(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function ym(e,t){Yi=ls=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Wc(e,n)}}var ss={readContext:Lt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Vk={readContext:Lt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Lt,useEffect:sh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ml(4194308,4,dm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ml(4,2,e,t)},useMemo:function(e,t){var n=Zt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Bk.bind(null,Pe,e),[r.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:lh,useDebugValue:pd,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=lh(!1),t=e[0];return e=$k.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Pe,i=Zt();if(Me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ye===null)throw Error(U(349));mr&30||rm(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,sh(om.bind(null,r,o,e),[e]),r.flags|=2048,xo(9,im.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Zt(),t=Ye.identifierPrefix;if(Me){var n=pn,r=hn;n=(r&~(1<<32-Wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Fk++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Uk={readContext:Lt,useCallback:hm,useContext:Lt,useEffect:hd,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:Aa,useRef:am,useState:function(){return Aa(mo)},useDebugValue:pd,useDeferredValue:function(e){var t=Tt();return gm(t,Ve.memoizedState,e)},useTransition:function(){var e=Aa(mo)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:tm,useSyncExternalStore:nm,useId:mm,unstable_isNewReconciler:!1},Wk={readContext:Lt,useCallback:hm,useContext:Lt,useEffect:hd,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:cm,useMemo:pm,useReducer:La,useRef:am,useState:function(){return La(mo)},useDebugValue:pd,useDeferredValue:function(e){var t=Tt();return Ve===null?t.memoizedState=e:gm(t,Ve.memoizedState,e)},useTransition:function(){var e=La(mo)[0],t=Tt().memoizedState;return[e,t]},useMutableSource:tm,useSyncExternalStore:nm,useId:mm,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ze({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ds={isMounted:function(e){return(e=e._reactInternals)?Nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ot(),i=Wn(e),o=mn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Vn(e,o,i),t!==null&&(Yt(t,e,i,r),jl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ot(),i=Wn(e),o=mn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vn(e,o,i),t!==null&&(Yt(t,e,i,r),jl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ot(),r=Wn(e),i=mn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Vn(e,i,r),t!==null&&(Yt(t,e,r,n),jl(t,e,r))}};function ah(e,t,n,r,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,l):t.prototype&&t.prototype.isPureReactComponent?!ao(n,r)||!ao(i,o):!0}function wm(e,t,n){var r=!1,i=Kn,o=t.contextType;return typeof o=="object"&&o!==null?o=Lt(o):(i=ht(t)?pr:et.current,r=t.contextTypes,o=(r=r!=null)?ti(e,i):Kn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ds,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function uh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ds.enqueueReplaceState(t,t.state,null)}function Uu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ld(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Lt(o):(o=ht(t)?pr:et.current,i.context=ti(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Vu(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ds.enqueueReplaceState(i,i.state,null),is(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oi(e,t){try{var n="",r=t;do n+=vw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Ta(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yk=typeof WeakMap=="function"?WeakMap:Map;function km(e,t,n){n=mn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){us||(us=!0,tc=r),Wu(e,t)},n}function bm(e,t,n){n=mn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Wu(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wu(e,t),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function ch(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yk;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=l2.bind(null,e,t,n),t.then(e,e))}function dh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mn(-1,1),t.tag=2,Vn(n,t,1))),n.lanes|=1),e)}var Xk=Sn.ReactCurrentOwner,ct=!1;function rt(e,t,n,r){t.child=e===null?Zg(t,null,n,r):ri(t,e.child,n,r)}function hh(e,t,n,r,i){n=n.render;var o=t.ref;return qr(t,i),r=dd(e,t,n,r,o,i),n=fd(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(Me&&n&&Jc(t),t.flags|=1,rt(e,t,r,i),t.child)}function ph(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!bd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Sm(e,t,o,r,i)):(e=Pl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:ao,n(l,r)&&e.ref===t.ref)return kn(e,t,i)}return t.flags|=1,e=Yn(o,r),e.ref=t.ref,e.return=t,t.child=e}function Sm(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(ao(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,kn(e,t,i)}return Yu(e,t,n,r,i)}function Cm(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Hr,yt),yt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Hr,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Hr,yt),yt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,_e(Hr,yt),yt|=r;return rt(e,t,i,n),t.child}function Nm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Yu(e,t,n,r,i){var o=ht(n)?pr:et.current;return o=ti(t,o),qr(t,i),n=dd(e,t,n,r,o,i),r=fd(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kn(e,t,i)):(Me&&r&&Jc(t),t.flags|=1,rt(e,t,n,i),t.child)}function gh(e,t,n,r,i){if(ht(n)){var o=!0;Jl(t)}else o=!1;if(qr(t,i),t.stateNode===null)Al(e,t),wm(t,n,r),Uu(t,n,r,i),r=!0;else if(e===null){var l=t.stateNode,s=t.memoizedProps;l.props=s;var a=l.context,u=n.contextType;typeof u=="object"&&u!==null?u=Lt(u):(u=ht(n)?pr:et.current,u=ti(t,u));var f=n.getDerivedStateFromProps,c=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";c||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==r||a!==u)&&uh(t,l,r,u),Tn=!1;var h=t.memoizedState;l.state=h,is(t,r,l,i),a=t.memoizedState,s!==r||h!==a||ft.current||Tn?(typeof f=="function"&&(Vu(t,n,f,r),a=t.memoizedState),(s=Tn||ah(t,n,s,r,h,a,u))?(c||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),l.props=r,l.state=a,l.context=u,r=s):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Jg(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Ot(t.type,s),l.props=u,c=t.pendingProps,h=l.context,a=n.contextType,typeof a=="object"&&a!==null?a=Lt(a):(a=ht(n)?pr:et.current,a=ti(t,a));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(s!==c||h!==a)&&uh(t,l,r,a),Tn=!1,h=t.memoizedState,l.state=h,is(t,r,l,i);var x=t.memoizedState;s!==c||h!==x||ft.current||Tn?(typeof p=="function"&&(Vu(t,n,p,r),x=t.memoizedState),(u=Tn||ah(t,n,u,r,h,x,a)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=a,r=u):(typeof l.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Xu(e,t,n,r,o,i)}function Xu(e,t,n,r,i,o){Nm(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return i&&eh(t,n,!1),kn(e,t,o);r=t.stateNode,Xk.current=t;var s=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=ri(t,e.child,null,o),t.child=ri(t,null,s,o)):rt(e,t,s,o),t.memoizedState=r.state,i&&eh(t,n,!0),t.child}function Em(e){var t=e.stateNode;t.pendingContext?Jf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Jf(e,t.context,!1),sd(e,t.containerInfo)}function mh(e,t,n,r,i){return ni(),td(i),t.flags|=256,rt(e,t,n,r),t.child}var Ku={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function _m(e,t,n){var r=t.pendingProps,i=Te.current,o=!1,l=(t.flags&128)!==0,s;if((s=l)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Te,i&1),e===null)return Bu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=$s(l,r,0,null),e=dr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=qu(n),t.memoizedState=Ku,e):gd(t,l));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Kk(e,t,l,r,s,i,n);if(o){o=r.fallback,l=t.mode,i=e.child,s=i.sibling;var a={mode:"hidden",children:r.children};return!(l&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=a,t.deletions=null):(r=Yn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Yn(s,o):(o=dr(o,l,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=e.child.memoizedState,l=l===null?qu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Ku,r}return o=e.child,e=o.sibling,r=Yn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function gd(e,t){return t=$s({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ll(e,t,n,r){return r!==null&&td(r),ri(t,e.child,null,n),e=gd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Kk(e,t,n,r,i,o,l){if(n)return t.flags&256?(t.flags&=-257,r=Ta(Error(U(422))),ll(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=$s({mode:"visible",children:r.children},i,0,null),o=dr(o,i,l,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ri(t,e.child,null,l),t.child.memoizedState=qu(l),t.memoizedState=Ku,o);if(!(t.mode&1))return ll(e,t,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(U(419)),r=Ta(o,r,void 0),ll(e,t,l,r)}if(s=(l&e.childLanes)!==0,ct||s){if(r=Ye,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,wn(e,i),Yt(r,e,i,-1))}return kd(),r=Ta(Error(U(421))),ll(e,t,l,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=s2.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,wt=Hn(i.nextSibling),kt=t,Me=!0,Bt=null,e!==null&&(_t[jt++]=hn,_t[jt++]=pn,_t[jt++]=gr,hn=e.id,pn=e.overflow,gr=t),t=gd(t,r.children),t.flags|=4096,t)}function xh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Hu(e.return,t,n)}function Pa(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function jm(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(rt(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xh(e,n,t);else if(e.tag===19)xh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&os(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pa(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&os(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pa(t,!0,n,null,o);break;case"together":Pa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Al(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qk(e,t,n){switch(t.tag){case 3:Em(t),ni();break;case 5:em(t);break;case 1:ht(t.type)&&Jl(t);break;case 4:sd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_e(ns,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?_m(e,t,n):(_e(Te,Te.current&1),e=kn(e,t,n),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jm(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,Cm(e,t,n)}return kn(e,t,n)}var Im,Qu,Mm,Am;Im=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qu=function(){};Mm=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ar(rn.current);var o=null;switch(n){case"input":i=yu(e,i),r=yu(e,r),o=[];break;case"select":i=ze({},i,{value:void 0}),r=ze({},r,{value:void 0}),o=[];break;case"textarea":i=ku(e,i),r=ku(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zl)}Su(n,r);var l;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(l in s)s.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(to.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==s&&(a!=null||s!=null))if(u==="style")if(s){for(l in s)!s.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in a)a.hasOwnProperty(l)&&s[l]!==a[l]&&(n||(n={}),n[l]=a[l])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(to.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&je("scroll",e),o||s===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Am=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ii(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qk(e,t,n){var r=t.pendingProps;switch(ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return ht(t.type)&&Gl(),Ze(t),null;case 3:return r=t.stateNode,ii(),Ie(ft),Ie(et),ud(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(il(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(ic(Bt),Bt=null))),Qu(e,t),Ze(t),null;case 5:ad(t);var i=ar(po.current);if(n=t.type,e!==null&&t.stateNode!=null)Mm(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ze(t),null}if(e=ar(rn.current),il(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[en]=t,r[fo]=o,e=(t.mode&1)!==0,n){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(i=0;i<Oi.length;i++)je(Oi[i],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":Ef(r,o),je("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},je("invalid",r);break;case"textarea":jf(r,o),je("invalid",r)}Su(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var s=o[l];l==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&rl(r.textContent,s,e),i=["children",""+s]):to.hasOwnProperty(l)&&s!=null&&l==="onScroll"&&je("scroll",r)}switch(n){case"input":qo(r),_f(r,o,!0);break;case"textarea":qo(r),If(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Zl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=og(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[en]=t,e[fo]=r,Im(e,t,!1,!1),t.stateNode=e;e:{switch(l=Cu(n,r),n){case"dialog":je("cancel",e),je("close",e),i=r;break;case"iframe":case"object":case"embed":je("load",e),i=r;break;case"video":case"audio":for(i=0;i<Oi.length;i++)je(Oi[i],e);i=r;break;case"source":je("error",e),i=r;break;case"img":case"image":case"link":je("error",e),je("load",e),i=r;break;case"details":je("toggle",e),i=r;break;case"input":Ef(e,r),i=yu(e,r),je("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ze({},r,{value:void 0}),je("invalid",e);break;case"textarea":jf(e,r),i=ku(e,r),je("invalid",e);break;default:i=r}Su(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?ag(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lg(e,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&no(e,a):typeof a=="number"&&no(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(to.hasOwnProperty(o)?a!=null&&o==="onScroll"&&je("scroll",e):a!=null&&Fc(e,o,a,l))}switch(n){case"input":qo(e),_f(e,r,!1);break;case"textarea":qo(e),If(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Wr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Wr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Am(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=ar(po.current),ar(rn.current),il(t)){if(r=t.stateNode,n=t.memoizedProps,r[en]=t,(o=r.nodeValue!==n)&&(e=kt,e!==null))switch(e.tag){case 3:rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[en]=t,t.stateNode=r}return Ze(t),null;case 13:if(Ie(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&wt!==null&&t.mode&1&&!(t.flags&128))qg(),ni(),t.flags|=98560,o=!1;else if(o=il(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(U(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[en]=t}else ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),o=!1}else Bt!==null&&(ic(Bt),Bt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ue===0&&(Ue=3):kd())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return ii(),Qu(e,t),e===null&&uo(t.stateNode.containerInfo),Ze(t),null;case 10:return id(t.type._context),Ze(t),null;case 17:return ht(t.type)&&Gl(),Ze(t),null;case 19:if(Ie(Te),o=t.memoizedState,o===null)return Ze(t),null;if(r=(t.flags&128)!==0,l=o.rendering,l===null)if(r)Ii(o,!1);else{if(Ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=os(e),l!==null){for(t.flags|=128,Ii(o,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>li&&(t.flags|=128,r=!0,Ii(o,!1),t.lanes=4194304)}else{if(!r)if(e=os(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ii(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Me)return Ze(t),null}else 2*Fe()-o.renderingStartTime>li&&n!==1073741824&&(t.flags|=128,r=!0,Ii(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Te.current,_e(Te,r?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return wd(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?yt&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Zk(e,t){switch(ed(t),t.tag){case 1:return ht(t.type)&&Gl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ii(),Ie(ft),Ie(et),ud(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ad(t),null;case 13:if(Ie(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ie(Te),null;case 4:return ii(),null;case 10:return id(t.type._context),null;case 22:case 23:return wd(),null;case 24:return null;default:return null}}var sl=!1,Ge=!1,Gk=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(e,t,r)}else n.current=null}function Zu(e,t,n){try{n()}catch(r){De(e,t,r)}}var yh=!1;function Jk(e,t){if(Pu=Kl,e=Rg(),Gc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,s=-1,a=-1,u=0,f=0,c=e,h=null;t:for(;;){for(var p;c!==n||i!==0&&c.nodeType!==3||(s=l+i),c!==o||r!==0&&c.nodeType!==3||(a=l+r),c.nodeType===3&&(l+=c.nodeValue.length),(p=c.firstChild)!==null;)h=c,c=p;for(;;){if(c===e)break t;if(h===n&&++u===i&&(s=l),h===o&&++f===r&&(a=l),(p=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=p}n=s===-1||a===-1?null:{start:s,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:e,selectionRange:n},Kl=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ot(t.type,v),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(k){De(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return x=yh,yh=!1,x}function Xi(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Zu(t,n,o)}i=i.next}while(i!==r)}}function Os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lm(e){var t=e.alternate;t!==null&&(e.alternate=null,Lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[fo],delete t[Ou],delete t[zk],delete t[Rk])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tm(e){return e.tag===5||e.tag===3||e.tag===4}function vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zl));else if(r!==4&&(e=e.child,e!==null))for(Ju(e,t,n),e=e.sibling;e!==null;)Ju(e,t,n),e=e.sibling}function ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ec(e,t,n),e=e.sibling;e!==null;)ec(e,t,n),e=e.sibling}var Xe=null,Ft=!1;function _n(e,t,n){for(n=n.child;n!==null;)Pm(e,t,n),n=n.sibling}function Pm(e,t,n){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ms,n)}catch{}switch(n.tag){case 5:Ge||Br(n,t);case 6:var r=Xe,i=Ft;Xe=null,_n(e,t,n),Xe=r,Ft=i,Xe!==null&&(Ft?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Ft?(e=Xe,n=n.stateNode,e.nodeType===8?_a(e.parentNode,n):e.nodeType===1&&_a(e,n),lo(e)):_a(Xe,n.stateNode));break;case 4:r=Xe,i=Ft,Xe=n.stateNode.containerInfo,Ft=!0,_n(e,t,n),Xe=r,Ft=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Zu(n,t,l),i=i.next}while(i!==r)}_n(e,t,n);break;case 1:if(!Ge&&(Br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){De(n,t,s)}_n(e,t,n);break;case 21:_n(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,_n(e,t,n),Ge=r):_n(e,t,n);break;default:_n(e,t,n)}}function wh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Gk),t.forEach(function(r){var i=a2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 5:Xe=s.stateNode,Ft=!1;break e;case 3:Xe=s.stateNode.containerInfo,Ft=!0;break e;case 4:Xe=s.stateNode.containerInfo,Ft=!0;break e}s=s.return}if(Xe===null)throw Error(U(160));Pm(o,l,i),Xe=null,Ft=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){De(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Qt(e),r&4){try{Xi(3,e,e.return),Os(3,e)}catch(v){De(e,e.return,v)}try{Xi(5,e,e.return)}catch(v){De(e,e.return,v)}}break;case 1:Rt(t,e),Qt(e),r&512&&n!==null&&Br(n,n.return);break;case 5:if(Rt(t,e),Qt(e),r&512&&n!==null&&Br(n,n.return),e.flags&32){var i=e.stateNode;try{no(i,"")}catch(v){De(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&rg(i,o),Cu(s,l);var u=Cu(s,o);for(l=0;l<a.length;l+=2){var f=a[l],c=a[l+1];f==="style"?ag(i,c):f==="dangerouslySetInnerHTML"?lg(i,c):f==="children"?no(i,c):Fc(i,f,c,u)}switch(s){case"input":vu(i,o);break;case"textarea":ig(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wr(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Wr(i,!!o.multiple,o.defaultValue,!0):Wr(i,!!o.multiple,o.multiple?[]:"",!1))}i[fo]=o}catch(v){De(e,e.return,v)}}break;case 6:if(Rt(t,e),Qt(e),r&4){if(e.stateNode===null)throw Error(U(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){De(e,e.return,v)}}break;case 3:if(Rt(t,e),Qt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(v){De(e,e.return,v)}break;case 4:Rt(t,e),Qt(e);break;case 13:Rt(t,e),Qt(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(yd=Fe())),r&4&&wh(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(u=Ge)||f,Rt(t,e),Ge=u):Rt(t,e),Qt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Z=e,f=e.child;f!==null;){for(c=Z=f;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xi(4,h,h.return);break;case 1:Br(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){De(r,n,v)}}break;case 5:Br(h,h.return);break;case 22:if(h.memoizedState!==null){bh(c);continue}}p!==null?(p.return=h,Z=p):bh(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{i=c.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=c.stateNode,a=c.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=sg("display",l))}catch(v){De(e,e.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){De(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Rt(t,e),Qt(e),r&4&&wh(e);break;case 21:break;default:Rt(t,e),Qt(e)}}function Qt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Tm(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(no(i,""),r.flags&=-33);var o=vh(e);ec(e,o,i);break;case 3:case 4:var l=r.stateNode.containerInfo,s=vh(e);Ju(e,s,l);break;default:throw Error(U(161))}}catch(a){De(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function e2(e,t,n){Z=e,Rm(e)}function Rm(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||sl;if(!l){var s=i.alternate,a=s!==null&&s.memoizedState!==null||Ge;s=sl;var u=Ge;if(sl=l,(Ge=a)&&!u)for(Z=i;Z!==null;)l=Z,a=l.child,l.tag===22&&l.memoizedState!==null?Sh(i):a!==null?(a.return=l,Z=a):Sh(i);for(;o!==null;)Z=o,Rm(o),o=o.sibling;Z=i,sl=s,Ge=u}kh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Z=o):kh(e)}}function kh(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||Os(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&oh(t,o,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oh(t,l,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&lo(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ge||t.flags&512&&Gu(t)}catch(h){De(t,t.return,h)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function bh(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function Sh(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Os(4,t)}catch(a){De(t,n,a)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(a){De(t,i,a)}}var o=t.return;try{Gu(t)}catch(a){De(t,o,a)}break;case 5:var l=t.return;try{Gu(t)}catch(a){De(t,l,a)}}}catch(a){De(t,t.return,a)}if(t===e){Z=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Z=s;break}Z=t.return}}var t2=Math.ceil,as=Sn.ReactCurrentDispatcher,md=Sn.ReactCurrentOwner,At=Sn.ReactCurrentBatchConfig,ye=0,Ye=null,Be=null,Ke=0,yt=0,Hr=Qn(0),Ue=0,yo=null,xr=0,Fs=0,xd=0,Ki=null,ut=null,yd=0,li=1/0,dn=null,us=!1,tc=null,Un=null,al=!1,On=null,cs=0,qi=0,nc=null,Ll=-1,Tl=0;function ot(){return ye&6?Fe():Ll!==-1?Ll:Ll=Fe()}function Wn(e){return e.mode&1?ye&2&&Ke!==0?Ke&-Ke:Ok.transition!==null?(Tl===0&&(Tl=wg()),Tl):(e=Se,e!==0||(e=window.event,e=e===void 0?16:_g(e.type)),e):1}function Yt(e,t,n,r){if(50<qi)throw qi=0,nc=null,Error(U(185));To(e,n,r),(!(ye&2)||e!==Ye)&&(e===Ye&&(!(ye&2)&&(Fs|=n),Ue===4&&zn(e,Ke)),pt(e,r),n===1&&ye===0&&!(t.mode&1)&&(li=Fe()+500,zs&&Zn()))}function pt(e,t){var n=e.callbackNode;Ow(e,t);var r=Xl(e,e===Ye?Ke:0);if(r===0)n!==null&&Lf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lf(n),t===1)e.tag===0?Dk(Ch.bind(null,e)):Yg(Ch.bind(null,e)),Tk(function(){!(ye&6)&&Zn()}),n=null;else{switch(kg(r)){case 1:n=Uc;break;case 4:n=yg;break;case 16:n=Yl;break;case 536870912:n=vg;break;default:n=Yl}n=Um(n,Dm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Dm(e,t){if(Ll=-1,Tl=0,ye&6)throw Error(U(327));var n=e.callbackNode;if(Qr()&&e.callbackNode!==n)return null;var r=Xl(e,e===Ye?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ds(e,r);else{t=r;var i=ye;ye|=2;var o=Fm();(Ye!==e||Ke!==t)&&(dn=null,li=Fe()+500,cr(e,t));do try{i2();break}catch(s){Om(e,s)}while(!0);rd(),as.current=o,ye=i,Be!==null?t=0:(Ye=null,Ke=0,t=Ue)}if(t!==0){if(t===2&&(i=Iu(e),i!==0&&(r=i,t=rc(e,i))),t===1)throw n=yo,cr(e,0),zn(e,r),pt(e,Fe()),n;if(t===6)zn(e,r);else{if(i=e.current.alternate,!(r&30)&&!n2(i)&&(t=ds(e,r),t===2&&(o=Iu(e),o!==0&&(r=o,t=rc(e,o))),t===1))throw n=yo,cr(e,0),zn(e,r),pt(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:rr(e,ut,dn);break;case 3:if(zn(e,r),(r&130023424)===r&&(t=yd+500-Fe(),10<t)){if(Xl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ot(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Du(rr.bind(null,e,ut,dn),t);break}rr(e,ut,dn);break;case 4:if(zn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var l=31-Wt(r);o=1<<l,l=t[l],l>i&&(i=l),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*t2(r/1960))-r,10<r){e.timeoutHandle=Du(rr.bind(null,e,ut,dn),r);break}rr(e,ut,dn);break;case 5:rr(e,ut,dn);break;default:throw Error(U(329))}}}return pt(e,Fe()),e.callbackNode===n?Dm.bind(null,e):null}function rc(e,t){var n=Ki;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=ds(e,t),e!==2&&(t=ut,ut=n,t!==null&&ic(t)),e}function ic(e){ut===null?ut=e:ut.push.apply(ut,e)}function n2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Kt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zn(e,t){for(t&=~xd,t&=~Fs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function Ch(e){if(ye&6)throw Error(U(327));Qr();var t=Xl(e,0);if(!(t&1))return pt(e,Fe()),null;var n=ds(e,t);if(e.tag!==0&&n===2){var r=Iu(e);r!==0&&(t=r,n=rc(e,r))}if(n===1)throw n=yo,cr(e,0),zn(e,t),pt(e,Fe()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,rr(e,ut,dn),pt(e,Fe()),null}function vd(e,t){var n=ye;ye|=1;try{return e(t)}finally{ye=n,ye===0&&(li=Fe()+500,zs&&Zn())}}function yr(e){On!==null&&On.tag===0&&!(ye&6)&&Qr();var t=ye;ye|=1;var n=At.transition,r=Se;try{if(At.transition=null,Se=1,e)return e()}finally{Se=r,At.transition=n,ye=t,!(ye&6)&&Zn()}}function wd(){yt=Hr.current,Ie(Hr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lk(n)),Be!==null)for(n=Be.return;n!==null;){var r=n;switch(ed(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gl();break;case 3:ii(),Ie(ft),Ie(et),ud();break;case 5:ad(r);break;case 4:ii();break;case 13:Ie(Te);break;case 19:Ie(Te);break;case 10:id(r.type._context);break;case 22:case 23:wd()}n=n.return}if(Ye=e,Be=e=Yn(e.current,null),Ke=yt=t,Ue=0,yo=null,xd=Fs=xr=0,ut=Ki=null,sr!==null){for(t=0;t<sr.length;t++)if(n=sr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,r.next=l}n.pending=r}sr=null}return e}function Om(e,t){do{var n=Be;try{if(rd(),Il.current=ss,ls){for(var r=Pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ls=!1}if(mr=0,We=Ve=Pe=null,Yi=!1,go=0,md.current=null,n===null||n.return===null){Ue=1,yo=t,Be=null;break}e:{var o=e,l=n.return,s=n,a=t;if(t=Ke,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=dh(l);if(p!==null){p.flags&=-257,fh(p,l,s,o,t),p.mode&1&&ch(o,u,t),t=p,a=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(a),t.updateQueue=v}else x.add(a);break e}else{if(!(t&1)){ch(o,u,t),kd();break e}a=Error(U(426))}}else if(Me&&s.mode&1){var b=dh(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fh(b,l,s,o,t),td(oi(a,s));break e}}o=a=oi(a,s),Ue!==4&&(Ue=2),Ki===null?Ki=[o]:Ki.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=km(o,a,t);ih(o,m);break e;case 1:s=a;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Un===null||!Un.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=bm(o,s,t);ih(o,k);break e}}o=o.return}while(o!==null)}Bm(n)}catch(C){t=C,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Fm(){var e=as.current;return as.current=ss,e===null?ss:e}function kd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ye===null||!(xr&268435455)&&!(Fs&268435455)||zn(Ye,Ke)}function ds(e,t){var n=ye;ye|=2;var r=Fm();(Ye!==e||Ke!==t)&&(dn=null,cr(e,t));do try{r2();break}catch(i){Om(e,i)}while(!0);if(rd(),ye=n,as.current=r,Be!==null)throw Error(U(261));return Ye=null,Ke=0,Ue}function r2(){for(;Be!==null;)$m(Be)}function i2(){for(;Be!==null&&!Iw();)$m(Be)}function $m(e){var t=Vm(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?Bm(e):Be=t,md.current=null}function Bm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Zk(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ue=6,Be=null;return}}else if(n=Qk(n,t,yt),n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);Ue===0&&(Ue=5)}function rr(e,t,n){var r=Se,i=At.transition;try{At.transition=null,Se=1,o2(e,t,n,r)}finally{At.transition=i,Se=r}return null}function o2(e,t,n,r){do Qr();while(On!==null);if(ye&6)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Fw(e,o),e===Ye&&(Be=Ye=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||al||(al=!0,Um(Yl,function(){return Qr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var l=Se;Se=1;var s=ye;ye|=4,md.current=null,Jk(e,n),zm(n,e),Nk(zu),Kl=!!Pu,zu=Pu=null,e.current=n,e2(n),Mw(),ye=s,Se=l,At.transition=o}else e.current=n;if(al&&(al=!1,On=e,cs=i),o=e.pendingLanes,o===0&&(Un=null),Tw(n.stateNode),pt(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(us)throw us=!1,e=tc,tc=null,e;return cs&1&&e.tag!==0&&Qr(),o=e.pendingLanes,o&1?e===nc?qi++:(qi=0,nc=e):qi=0,Zn(),null}function Qr(){if(On!==null){var e=kg(cs),t=At.transition,n=Se;try{if(At.transition=null,Se=16>e?16:e,On===null)var r=!1;else{if(e=On,On=null,cs=0,ye&6)throw Error(U(331));var i=ye;for(ye|=4,Z=e.current;Z!==null;){var o=Z,l=o.child;if(Z.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var u=s[a];for(Z=u;Z!==null;){var f=Z;switch(f.tag){case 0:case 11:case 15:Xi(8,f,o)}var c=f.child;if(c!==null)c.return=f,Z=c;else for(;Z!==null;){f=Z;var h=f.sibling,p=f.return;if(Lm(f),f===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Z=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Z=l;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Xi(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,Z=m;break e}Z=o.return}}var y=e.current;for(Z=y;Z!==null;){l=Z;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,Z=g;else e:for(l=y;Z!==null;){if(s=Z,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Os(9,s)}}catch(C){De(s,s.return,C)}if(s===l){Z=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,Z=k;break e}Z=s.return}}if(ye=i,Zn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ms,e)}catch{}r=!0}return r}finally{Se=n,At.transition=t}}return!1}function Nh(e,t,n){t=oi(n,t),t=km(e,t,1),e=Vn(e,t,1),t=ot(),e!==null&&(To(e,1,t),pt(e,t))}function De(e,t,n){if(e.tag===3)Nh(e,e,n);else for(;t!==null;){if(t.tag===3){Nh(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){e=oi(n,e),e=bm(t,e,1),t=Vn(t,e,1),e=ot(),t!==null&&(To(t,1,e),pt(t,e));break}}t=t.return}}function l2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ot(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(Ke&n)===n&&(Ue===4||Ue===3&&(Ke&130023424)===Ke&&500>Fe()-yd?cr(e,0):xd|=n),pt(e,t)}function Hm(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var n=ot();e=wn(e,t),e!==null&&(To(e,t,n),pt(e,n))}function s2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hm(e,n)}function a2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Hm(e,n)}var Vm;Vm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ft.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,qk(e,t,n);ct=!!(e.flags&131072)}else ct=!1,Me&&t.flags&1048576&&Xg(t,ts,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Al(e,t),e=t.pendingProps;var i=ti(t,et.current);qr(t,n),i=dd(null,t,r,e,i,n);var o=fd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ht(r)?(o=!0,Jl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ld(t),i.updater=Ds,t.stateNode=i,i._reactInternals=t,Uu(t,r,e,n),t=Xu(null,t,r,!0,o,n)):(t.tag=0,Me&&o&&Jc(t),rt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Al(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=c2(r),e=Ot(r,e),i){case 0:t=Yu(null,t,r,e,n);break e;case 1:t=gh(null,t,r,e,n);break e;case 11:t=hh(null,t,r,e,n);break e;case 14:t=ph(null,t,r,Ot(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Yu(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),gh(e,t,r,i,n);case 3:e:{if(Em(t),e===null)throw Error(U(387));r=t.pendingProps,o=t.memoizedState,i=o.element,Jg(e,t),is(t,r,null,n);var l=t.memoizedState;if(r=l.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=oi(Error(U(423)),t),t=mh(e,t,r,n,i);break e}else if(r!==i){i=oi(Error(U(424)),t),t=mh(e,t,r,n,i);break e}else for(wt=Hn(t.stateNode.containerInfo.firstChild),kt=t,Me=!0,Bt=null,n=Zg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ni(),r===i){t=kn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return em(t),e===null&&Bu(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,Ru(r,i)?l=null:o!==null&&Ru(r,o)&&(t.flags|=32),Nm(e,t),rt(e,t,l,n),t.child;case 6:return e===null&&Bu(t),null;case 13:return _m(e,t,n);case 4:return sd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ri(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),hh(e,t,r,i,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,_e(ns,r._currentValue),r._currentValue=l,o!==null)if(Kt(o.value,l)){if(o.children===i.children&&!ft.current){t=kn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var a=s.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=mn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hu(o.return,n,t),s.lanes|=n;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(U(341));l.lanes|=n,s=l.alternate,s!==null&&(s.lanes|=n),Hu(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}rt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,qr(t,n),i=Lt(i),r=r(i),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,i=Ot(r,t.pendingProps),i=Ot(r.type,i),ph(e,t,r,i,n);case 15:return Sm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ot(r,i),Al(e,t),t.tag=1,ht(r)?(e=!0,Jl(t)):e=!1,qr(t,n),wm(t,r,i),Uu(t,r,i,n),Xu(null,t,r,!0,e,n);case 19:return jm(e,t,n);case 22:return Cm(e,t,n)}throw Error(U(156,t.tag))};function Um(e,t){return xg(e,t)}function u2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(e,t,n,r){return new u2(e,t,n,r)}function bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function c2(e){if(typeof e=="function")return bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===Hc)return 14}return 2}function Yn(e,t){var n=e.alternate;return n===null?(n=Mt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,o){var l=2;if(r=e,typeof e=="function")bd(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Lr:return dr(n.children,i,o,t);case $c:l=8,i|=8;break;case pu:return e=Mt(12,n,t,i|2),e.elementType=pu,e.lanes=o,e;case gu:return e=Mt(13,n,t,i),e.elementType=gu,e.lanes=o,e;case mu:return e=Mt(19,n,t,i),e.elementType=mu,e.lanes=o,e;case eg:return $s(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G0:l=10;break e;case J0:l=9;break e;case Bc:l=11;break e;case Hc:l=14;break e;case Ln:l=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Mt(l,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function dr(e,t,n,r){return e=Mt(7,e,r,t),e.lanes=n,e}function $s(e,t,n,r){return e=Mt(22,e,r,t),e.elementType=eg,e.lanes=n,e.stateNode={isHidden:!1},e}function za(e,t,n){return e=Mt(6,e,null,t),e.lanes=n,e}function Ra(e,t,n){return t=Mt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function d2(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sd(e,t,n,r,i,o,l,s,a){return e=new d2(e,t,n,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Mt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ld(o),e}function f2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Wm(e){if(!e)return Kn;e=e._reactInternals;e:{if(Nr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(ht(n))return Wg(e,n,t)}return t}function Ym(e,t,n,r,i,o,l,s,a){return e=Sd(n,r,!0,e,i,o,l,s,a),e.context=Wm(null),n=e.current,r=ot(),i=Wn(n),o=mn(r,i),o.callback=t??null,Vn(n,o,i),e.current.lanes=i,To(e,i,r),pt(e,r),e}function Bs(e,t,n,r){var i=t.current,o=ot(),l=Wn(i);return n=Wm(n),t.context===null?t.context=n:t.pendingContext=n,t=mn(o,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vn(i,t,l),e!==null&&(Yt(e,i,l,o),jl(e,i,l)),l}function fs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Cd(e,t){Eh(e,t),(e=e.alternate)&&Eh(e,t)}function h2(){return null}var Xm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Nd(e){this._internalRoot=e}Hs.prototype.render=Nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Bs(e,t,null,null)};Hs.prototype.unmount=Nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Bs(null,e,null,null)}),t[vn]=null}};function Hs(e){this._internalRoot=e}Hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pn.length&&t!==0&&t<Pn[n].priority;n++);Pn.splice(n,0,e),n===0&&Eg(e)}};function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _h(){}function p2(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=fs(l);o.call(u)}}var l=Ym(t,r,e,0,null,!1,!1,"",_h);return e._reactRootContainer=l,e[vn]=l.current,uo(e.nodeType===8?e.parentNode:e),yr(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=fs(a);s.call(u)}}var a=Sd(e,0,!1,null,null,!1,!1,"",_h);return e._reactRootContainer=a,e[vn]=a.current,uo(e.nodeType===8?e.parentNode:e),yr(function(){Bs(t,a,n,r)}),a}function Us(e,t,n,r,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var s=i;i=function(){var a=fs(l);s.call(a)}}Bs(t,l,e,i)}else l=p2(n,t,e,i,r);return fs(l)}bg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Di(t.pendingLanes);n!==0&&(Wc(t,n|1),pt(t,Fe()),!(ye&6)&&(li=Fe()+500,Zn()))}break;case 13:yr(function(){var r=wn(e,1);if(r!==null){var i=ot();Yt(r,e,1,i)}}),Cd(e,1)}};Yc=function(e){if(e.tag===13){var t=wn(e,134217728);if(t!==null){var n=ot();Yt(t,e,134217728,n)}Cd(e,134217728)}};Sg=function(e){if(e.tag===13){var t=Wn(e),n=wn(e,t);if(n!==null){var r=ot();Yt(n,e,t,r)}Cd(e,t)}};Cg=function(){return Se};Ng=function(e,t){var n=Se;try{return Se=e,t()}finally{Se=n}};Eu=function(e,t,n){switch(t){case"input":if(vu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ps(r);if(!i)throw Error(U(90));ng(r),vu(r,i)}}}break;case"textarea":ig(e,n);break;case"select":t=n.value,t!=null&&Wr(e,!!n.multiple,t,!1)}};dg=vd;fg=yr;var g2={usingClientEntryPoint:!1,Events:[zo,Rr,Ps,ug,cg,vd]},Mi={findFiberByHostInstance:lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m2={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gg(e),e===null?null:e.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||h2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{Ms=ul.inject(m2),nn=ul}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;Nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(t))throw Error(U(200));return f2(e,t,null,n)};Nt.createRoot=function(e,t){if(!Ed(e))throw Error(U(299));var n=!1,r="",i=Xm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Sd(e,1,!1,null,null,n,!1,r,i),e[vn]=t.current,uo(e.nodeType===8?e.parentNode:e),new Nd(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=gg(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return yr(e)};Nt.hydrate=function(e,t,n){if(!Vs(t))throw Error(U(200));return Us(null,e,t,!0,n)};Nt.hydrateRoot=function(e,t,n){if(!Ed(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",l=Xm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Ym(t,null,e,1,n??null,i,!1,o,l),e[vn]=t.current,uo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Hs(t)};Nt.render=function(e,t,n){if(!Vs(t))throw Error(U(200));return Us(null,e,t,!1,n)};Nt.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(U(40));return e._reactRootContainer?(yr(function(){Us(null,null,e,!1,function(){e._reactRootContainer=null,e[vn]=null})}),!0):!1};Nt.unstable_batchedUpdates=vd;Nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Vs(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Us(e,t,n,!1,r)};Nt.version="18.3.1-next-f1338f8080-20240426";function Km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Km)}catch(e){console.error(e)}}Km(),K0.exports=Nt;var x2=K0.exports,jh=x2;fu.createRoot=jh.createRoot,fu.hydrateRoot=jh.hydrateRoot;function He(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=He(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var y2={value:()=>{}};function Ws(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new zl(n)}function zl(e){this._=e}function v2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}zl.prototype=Ws.prototype={constructor:zl,on:function(e,t){var n=this._,r=v2(e+"",n),i,o=-1,l=r.length;if(arguments.length<2){for(;++o<l;)if((i=(e=r[o]).type)&&(i=w2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<l;)if(i=(e=r[o]).type)n[i]=Ih(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ih(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new zl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function w2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ih(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=y2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var oc="http://www.w3.org/1999/xhtml";const Mh={svg:"http://www.w3.org/2000/svg",xhtml:oc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ys(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Mh.hasOwnProperty(t)?{space:Mh[t],local:e}:e}function k2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===oc&&t.documentElement.namespaceURI===oc?t.createElement(e):t.createElementNS(n,e)}}function b2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qm(e){var t=Ys(e);return(t.local?b2:k2)(t)}function S2(){}function _d(e){return e==null?S2:function(){return this.querySelector(e)}}function C2(e){typeof e!="function"&&(e=_d(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=new Array(l),a,u,f=0;f<l;++f)(a=o[f])&&(u=e.call(a,a.__data__,f,o))&&("__data__"in a&&(u.__data__=a.__data__),s[f]=u);return new Ct(r,this._parents)}function N2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function E2(){return[]}function Qm(e){return e==null?E2:function(){return this.querySelectorAll(e)}}function _2(e){return function(){return N2(e.apply(this,arguments))}}function j2(e){typeof e=="function"?e=_2(e):e=Qm(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var l=t[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&(r.push(e.call(a,a.__data__,u,l)),i.push(a));return new Ct(r,i)}function Zm(e){return function(){return this.matches(e)}}function Gm(e){return function(t){return t.matches(e)}}var I2=Array.prototype.find;function M2(e){return function(){return I2.call(this.children,e)}}function A2(){return this.firstElementChild}function L2(e){return this.select(e==null?A2:M2(typeof e=="function"?e:Gm(e)))}var T2=Array.prototype.filter;function P2(){return Array.from(this.children)}function z2(e){return function(){return T2.call(this.children,e)}}function R2(e){return this.selectAll(e==null?P2:z2(typeof e=="function"?e:Gm(e)))}function D2(e){typeof e!="function"&&(e=Zm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new Ct(r,this._parents)}function Jm(e){return new Array(e.length)}function O2(){return new Ct(this._enter||this._groups.map(Jm),this._parents)}function hs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}hs.prototype={constructor:hs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function F2(e){return function(){return e}}function $2(e,t,n,r,i,o){for(var l=0,s,a=t.length,u=o.length;l<u;++l)(s=t[l])?(s.__data__=o[l],r[l]=s):n[l]=new hs(e,o[l]);for(;l<a;++l)(s=t[l])&&(i[l]=s)}function B2(e,t,n,r,i,o,l){var s,a,u=new Map,f=t.length,c=o.length,h=new Array(f),p;for(s=0;s<f;++s)(a=t[s])&&(h[s]=p=l.call(a,a.__data__,s,t)+"",u.has(p)?i[s]=a:u.set(p,a));for(s=0;s<c;++s)p=l.call(e,o[s],s,o)+"",(a=u.get(p))?(r[s]=a,a.__data__=o[s],u.delete(p)):n[s]=new hs(e,o[s]);for(s=0;s<f;++s)(a=t[s])&&u.get(h[s])===a&&(i[s]=a)}function H2(e){return e.__data__}function V2(e,t){if(!arguments.length)return Array.from(this,H2);var n=t?B2:$2,r=this._parents,i=this._groups;typeof e!="function"&&(e=F2(e));for(var o=i.length,l=new Array(o),s=new Array(o),a=new Array(o),u=0;u<o;++u){var f=r[u],c=i[u],h=c.length,p=U2(e.call(f,f&&f.__data__,u,r)),x=p.length,v=s[u]=new Array(x),b=l[u]=new Array(x),m=a[u]=new Array(h);n(f,c,v,b,m,p,t);for(var y=0,g=0,k,C;y<x;++y)if(k=v[y]){for(y>=g&&(g=y+1);!(C=b[g])&&++g<x;);k._next=C||null}}return l=new Ct(l,r),l._enter=s,l._exit=a,l}function U2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function W2(){return new Ct(this._exit||this._groups.map(Jm),this._parents)}function Y2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function X2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,l=Math.min(i,o),s=new Array(i),a=0;a<l;++a)for(var u=n[a],f=r[a],c=u.length,h=s[a]=new Array(c),p,x=0;x<c;++x)(p=u[x]||f[x])&&(h[x]=p);for(;a<i;++a)s[a]=n[a];return new Ct(s,this._parents)}function K2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],l;--i>=0;)(l=r[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function q2(e){e||(e=Q2);function t(c,h){return c&&h?e(c.__data__,h.__data__):!c-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var l=n[o],s=l.length,a=i[o]=new Array(s),u,f=0;f<s;++f)(u=l[f])&&(a[f]=u);a.sort(t)}return new Ct(i,this._parents).order()}function Q2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Z2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function G2(){return Array.from(this)}function J2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var l=r[i];if(l)return l}return null}function e5(){let e=0;for(const t of this)++e;return e}function t5(){return!this.node()}function n5(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,l=i.length,s;o<l;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function r5(e){return function(){this.removeAttribute(e)}}function i5(e){return function(){this.removeAttributeNS(e.space,e.local)}}function o5(e,t){return function(){this.setAttribute(e,t)}}function l5(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function s5(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function a5(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function u5(e,t){var n=Ys(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?i5:r5:typeof t=="function"?n.local?a5:s5:n.local?l5:o5)(n,t))}function ex(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function c5(e){return function(){this.style.removeProperty(e)}}function d5(e,t,n){return function(){this.style.setProperty(e,t,n)}}function f5(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function h5(e,t,n){return arguments.length>1?this.each((t==null?c5:typeof t=="function"?f5:d5)(e,t,n??"")):si(this.node(),e)}function si(e,t){return e.style.getPropertyValue(t)||ex(e).getComputedStyle(e,null).getPropertyValue(t)}function p5(e){return function(){delete this[e]}}function g5(e,t){return function(){this[e]=t}}function m5(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function x5(e,t){return arguments.length>1?this.each((t==null?p5:typeof t=="function"?m5:g5)(e,t)):this.node()[e]}function tx(e){return e.trim().split(/^|\s+/)}function jd(e){return e.classList||new nx(e)}function nx(e){this._node=e,this._names=tx(e.getAttribute("class")||"")}nx.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function rx(e,t){for(var n=jd(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ix(e,t){for(var n=jd(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function y5(e){return function(){rx(this,e)}}function v5(e){return function(){ix(this,e)}}function w5(e,t){return function(){(t.apply(this,arguments)?rx:ix)(this,e)}}function k5(e,t){var n=tx(e+"");if(arguments.length<2){for(var r=jd(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?w5:t?y5:v5)(n,t))}function b5(){this.textContent=""}function S5(e){return function(){this.textContent=e}}function C5(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function N5(e){return arguments.length?this.each(e==null?b5:(typeof e=="function"?C5:S5)(e)):this.node().textContent}function E5(){this.innerHTML=""}function _5(e){return function(){this.innerHTML=e}}function j5(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function I5(e){return arguments.length?this.each(e==null?E5:(typeof e=="function"?j5:_5)(e)):this.node().innerHTML}function M5(){this.nextSibling&&this.parentNode.appendChild(this)}function A5(){return this.each(M5)}function L5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function T5(){return this.each(L5)}function P5(e){var t=typeof e=="function"?e:qm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function z5(){return null}function R5(e,t){var n=typeof e=="function"?e:qm(e),r=t==null?z5:typeof t=="function"?t:_d(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function D5(){var e=this.parentNode;e&&e.removeChild(this)}function O5(){return this.each(D5)}function F5(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function $5(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function B5(e){return this.select(e?$5:F5)}function H5(e){return arguments.length?this.property("__data__",e):this.node().__data__}function V5(e){return function(t){e.call(this,t,this.__data__)}}function U5(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function W5(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Y5(e,t,n){return function(){var r=this.__on,i,o=V5(t);if(r){for(var l=0,s=r.length;l<s;++l)if((i=r[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function X5(e,t,n){var r=U5(e+""),i,o=r.length,l;if(arguments.length<2){var s=this.node().__on;if(s){for(var a=0,u=s.length,f;a<u;++a)for(i=0,f=s[a];i<o;++i)if((l=r[i]).type===f.type&&l.name===f.name)return f.value}return}for(s=t?Y5:W5,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function ox(e,t,n){var r=ex(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function K5(e,t){return function(){return ox(this,e,t)}}function q5(e,t){return function(){return ox(this,e,t.apply(this,arguments))}}function Q5(e,t){return this.each((typeof t=="function"?q5:K5)(e,t))}function*Z5(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,l;i<o;++i)(l=r[i])&&(yield l)}var lx=[null];function Ct(e,t){this._groups=e,this._parents=t}function Do(){return new Ct([[document.documentElement]],lx)}function G5(){return this}Ct.prototype=Do.prototype={constructor:Ct,select:C2,selectAll:j2,selectChild:L2,selectChildren:R2,filter:D2,data:V2,enter:O2,exit:W2,join:Y2,merge:X2,selection:G5,order:K2,sort:q2,call:Z2,nodes:G2,node:J2,size:e5,empty:t5,each:n5,attr:u5,style:h5,property:x5,classed:k5,text:N5,html:I5,raise:A5,lower:T5,append:P5,insert:R5,remove:O5,clone:B5,datum:H5,on:X5,dispatch:Q5,[Symbol.iterator]:Z5};function vt(e){return typeof e=="string"?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],lx)}function J5(e){let t;for(;t=e.sourceEvent;)e=t;return e}function $t(e,t){if(e=J5(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const eb={passive:!1},vo={capture:!0,passive:!1};function Da(e){e.stopImmediatePropagation()}function Zr(e){e.preventDefault(),e.stopImmediatePropagation()}function sx(e){var t=e.document.documentElement,n=vt(e).on("dragstart.drag",Zr,vo);"onselectstart"in t?n.on("selectstart.drag",Zr,vo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ax(e,t){var n=e.document.documentElement,r=vt(e).on("dragstart.drag",null);t&&(r.on("click.drag",Zr,vo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const cl=e=>()=>e;function lc(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:l,y:s,dx:a,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}lc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function tb(e){return!e.ctrlKey&&!e.button}function nb(){return this.parentNode}function rb(e,t){return t??{x:e.x,y:e.y}}function ib(){return navigator.maxTouchPoints||"ontouchstart"in this}function ux(){var e=tb,t=nb,n=rb,r=ib,i={},o=Ws("start","drag","end"),l=0,s,a,u,f,c=0;function h(k){k.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,eb).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,C){if(!(f||!e.call(this,k,C))){var w=g(this,t.call(this,k,C),k,C,"mouse");w&&(vt(k.view).on("mousemove.drag",x,vo).on("mouseup.drag",v,vo),sx(k.view),Da(k),u=!1,s=k.clientX,a=k.clientY,w("start",k))}}function x(k){if(Zr(k),!u){var C=k.clientX-s,w=k.clientY-a;u=C*C+w*w>c}i.mouse("drag",k)}function v(k){vt(k.view).on("mousemove.drag mouseup.drag",null),ax(k.view,u),Zr(k),i.mouse("end",k)}function b(k,C){if(e.call(this,k,C)){var w=k.changedTouches,N=t.call(this,k,C),A=w.length,O,_;for(O=0;O<A;++O)(_=g(this,N,k,C,w[O].identifier,w[O]))&&(Da(k),_("start",k,w[O]))}}function m(k){var C=k.changedTouches,w=C.length,N,A;for(N=0;N<w;++N)(A=i[C[N].identifier])&&(Zr(k),A("drag",k,C[N]))}function y(k){var C=k.changedTouches,w=C.length,N,A;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),N=0;N<w;++N)(A=i[C[N].identifier])&&(Da(k),A("end",k,C[N]))}function g(k,C,w,N,A,O){var _=o.copy(),M=$t(O||w,C),z,D,E;if((E=n.call(k,new lc("beforestart",{sourceEvent:w,target:h,identifier:A,active:l,x:M[0],y:M[1],dx:0,dy:0,dispatch:_}),N))!=null)return z=E.x-M[0]||0,D=E.y-M[1]||0,function P(R,F,L){var T=M,S;switch(R){case"start":i[A]=P,S=l++;break;case"end":delete i[A],--l;case"drag":M=$t(L||F,C),S=l;break}_.call(R,k,new lc(R,{sourceEvent:F,subject:E,target:h,identifier:A,active:S,x:M[0]+z,y:M[1]+D,dx:M[0]-T[0],dy:M[1]-T[1],dispatch:_}),N)}}return h.filter=function(k){return arguments.length?(e=typeof k=="function"?k:cl(!!k),h):e},h.container=function(k){return arguments.length?(t=typeof k=="function"?k:cl(k),h):t},h.subject=function(k){return arguments.length?(n=typeof k=="function"?k:cl(k),h):n},h.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:cl(!!k),h):r},h.on=function(){var k=o.on.apply(o,arguments);return k===o?h:k},h.clickDistance=function(k){return arguments.length?(c=(k=+k)*k,h):Math.sqrt(c)},h}function Id(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function cx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Oo(){}var wo=.7,ps=1/wo,Gr="\\s*([+-]?\\d+)\\s*",ko="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",on="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ob=/^#([0-9a-f]{3,8})$/,lb=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),sb=new RegExp(`^rgb\\(${on},${on},${on}\\)$`),ab=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${ko}\\)$`),ub=new RegExp(`^rgba\\(${on},${on},${on},${ko}\\)$`),cb=new RegExp(`^hsl\\(${ko},${on},${on}\\)$`),db=new RegExp(`^hsla\\(${ko},${on},${on},${ko}\\)$`),Ah={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Id(Oo,vr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lh,formatHex:Lh,formatHex8:fb,formatHsl:hb,formatRgb:Th,toString:Th});function Lh(){return this.rgb().formatHex()}function fb(){return this.rgb().formatHex8()}function hb(){return dx(this).formatHsl()}function Th(){return this.rgb().formatRgb()}function vr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ob.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ph(t):n===3?new dt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lb.exec(e))?new dt(t[1],t[2],t[3],1):(t=sb.exec(e))?new dt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ab.exec(e))?dl(t[1],t[2],t[3],t[4]):(t=ub.exec(e))?dl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cb.exec(e))?Dh(t[1],t[2]/100,t[3]/100,1):(t=db.exec(e))?Dh(t[1],t[2]/100,t[3]/100,t[4]):Ah.hasOwnProperty(e)?Ph(Ah[e]):e==="transparent"?new dt(NaN,NaN,NaN,0):null}function Ph(e){return new dt(e>>16&255,e>>8&255,e&255,1)}function dl(e,t,n,r){return r<=0&&(e=t=n=NaN),new dt(e,t,n,r)}function pb(e){return e instanceof Oo||(e=vr(e)),e?(e=e.rgb(),new dt(e.r,e.g,e.b,e.opacity)):new dt}function sc(e,t,n,r){return arguments.length===1?pb(e):new dt(e,t,n,r??1)}function dt(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Id(dt,sc,cx(Oo,{brighter(e){return e=e==null?ps:Math.pow(ps,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new dt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dt(fr(this.r),fr(this.g),fr(this.b),gs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zh,formatHex:zh,formatHex8:gb,formatRgb:Rh,toString:Rh}));function zh(){return`#${ur(this.r)}${ur(this.g)}${ur(this.b)}`}function gb(){return`#${ur(this.r)}${ur(this.g)}${ur(this.b)}${ur((isNaN(this.opacity)?1:this.opacity)*255)}`}function Rh(){const e=gs(this.opacity);return`${e===1?"rgb(":"rgba("}${fr(this.r)}, ${fr(this.g)}, ${fr(this.b)}${e===1?")":`, ${e})`}`}function gs(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ur(e){return e=fr(e),(e<16?"0":"")+e.toString(16)}function Dh(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ht(e,t,n,r)}function dx(e){if(e instanceof Ht)return new Ht(e.h,e.s,e.l,e.opacity);if(e instanceof Oo||(e=vr(e)),!e)return new Ht;if(e instanceof Ht)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),l=NaN,s=o-i,a=(o+i)/2;return s?(t===o?l=(n-r)/s+(n<r)*6:n===o?l=(r-t)/s+2:l=(t-n)/s+4,s/=a<.5?o+i:2-o-i,l*=60):s=a>0&&a<1?0:l,new Ht(l,s,a,e.opacity)}function mb(e,t,n,r){return arguments.length===1?dx(e):new Ht(e,t,n,r??1)}function Ht(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Id(Ht,mb,cx(Oo,{brighter(e){return e=e==null?ps:Math.pow(ps,e),new Ht(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wo:Math.pow(wo,e),new Ht(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new dt(Oa(e>=240?e-240:e+120,i,r),Oa(e,i,r),Oa(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ht(Oh(this.h),fl(this.s),fl(this.l),gs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=gs(this.opacity);return`${e===1?"hsl(":"hsla("}${Oh(this.h)}, ${fl(this.s)*100}%, ${fl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Oh(e){return e=(e||0)%360,e<0?e+360:e}function fl(e){return Math.max(0,Math.min(1,e||0))}function Oa(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Md=e=>()=>e;function xb(e,t){return function(n){return e+n*t}}function yb(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function vb(e){return(e=+e)==1?fx:function(t,n){return n-t?yb(t,n,e):Md(isNaN(t)?n:t)}}function fx(e,t){var n=t-e;return n?xb(e,n):Md(isNaN(e)?t:e)}const ms=function e(t){var n=vb(t);function r(i,o){var l=n((i=sc(i)).r,(o=sc(o)).r),s=n(i.g,o.g),a=n(i.b,o.b),u=fx(i.opacity,o.opacity);return function(f){return i.r=l(f),i.g=s(f),i.b=a(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function wb(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function kb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bb(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=Qi(e[l],t[l]);for(;l<n;++l)o[l]=t[l];return function(s){for(l=0;l<r;++l)o[l]=i[l](s);return o}}function Sb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Jt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cb(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Qi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ac=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fa=new RegExp(ac.source,"g");function Nb(e){return function(){return e}}function Eb(e){return function(t){return e(t)+""}}function hx(e,t){var n=ac.lastIndex=Fa.lastIndex=0,r,i,o,l=-1,s=[],a=[];for(e=e+"",t=t+"";(r=ac.exec(e))&&(i=Fa.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[l]?s[l]+=o:s[++l]=o),(r=r[0])===(i=i[0])?s[l]?s[l]+=i:s[++l]=i:(s[++l]=null,a.push({i:l,x:Jt(r,i)})),n=Fa.lastIndex;return n<t.length&&(o=t.slice(n),s[l]?s[l]+=o:s[++l]=o),s.length<2?a[0]?Eb(a[0].x):Nb(t):(t=a.length,function(u){for(var f=0,c;f<t;++f)s[(c=a[f]).i]=c.x(u);return s.join("")})}function Qi(e,t){var n=typeof t,r;return t==null||n==="boolean"?Md(t):(n==="number"?Jt:n==="string"?(r=vr(t))?(t=r,ms):hx:t instanceof vr?ms:t instanceof Date?Sb:kb(t)?wb:Array.isArray(t)?bb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cb:Jt)(e,t)}var Fh=180/Math.PI,uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function px(e,t,n,r,i,o){var l,s,a;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(a=e*n+t*r)&&(n-=e*a,r-=t*a),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,a/=s),e*r<t*n&&(e=-e,t=-t,a=-a,l=-l),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Fh,skewX:Math.atan(a)*Fh,scaleX:l,scaleY:s}}var hl;function _b(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?uc:px(t.a,t.b,t.c,t.d,t.e,t.f)}function jb(e){return e==null||(hl||(hl=document.createElementNS("http://www.w3.org/2000/svg","g")),hl.setAttribute("transform",e),!(e=hl.transform.baseVal.consolidate()))?uc:(e=e.matrix,px(e.a,e.b,e.c,e.d,e.e,e.f))}function gx(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,c,h,p,x){if(u!==c||f!==h){var v=p.push("translate(",null,t,null,n);x.push({i:v-4,x:Jt(u,c)},{i:v-2,x:Jt(f,h)})}else(c||h)&&p.push("translate("+c+t+h+n)}function l(u,f,c,h){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),h.push({i:c.push(i(c)+"rotate(",null,r)-2,x:Jt(u,f)})):f&&c.push(i(c)+"rotate("+f+r)}function s(u,f,c,h){u!==f?h.push({i:c.push(i(c)+"skewX(",null,r)-2,x:Jt(u,f)}):f&&c.push(i(c)+"skewX("+f+r)}function a(u,f,c,h,p,x){if(u!==c||f!==h){var v=p.push(i(p)+"scale(",null,",",null,")");x.push({i:v-4,x:Jt(u,c)},{i:v-2,x:Jt(f,h)})}else(c!==1||h!==1)&&p.push(i(p)+"scale("+c+","+h+")")}return function(u,f){var c=[],h=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,c,h),l(u.rotate,f.rotate,c,h),s(u.skewX,f.skewX,c,h),a(u.scaleX,u.scaleY,f.scaleX,f.scaleY,c,h),u=f=null,function(p){for(var x=-1,v=h.length,b;++x<v;)c[(b=h[x]).i]=b.x(p);return c.join("")}}}var Ib=gx(_b,"px, ","px)","deg)"),Mb=gx(jb,", ",")",")"),Ab=1e-12;function $h(e){return((e=Math.exp(e))+1/e)/2}function Lb(e){return((e=Math.exp(e))-1/e)/2}function Tb(e){return((e=Math.exp(2*e))-1)/(e+1)}const Rl=function e(t,n,r){function i(o,l){var s=o[0],a=o[1],u=o[2],f=l[0],c=l[1],h=l[2],p=f-s,x=c-a,v=p*p+x*x,b,m;if(v<Ab)m=Math.log(h/u)/t,b=function(N){return[s+N*p,a+N*x,u*Math.exp(t*N*m)]};else{var y=Math.sqrt(v),g=(h*h-u*u+r*v)/(2*u*n*y),k=(h*h-u*u-r*v)/(2*h*n*y),C=Math.log(Math.sqrt(g*g+1)-g),w=Math.log(Math.sqrt(k*k+1)-k);m=(w-C)/t,b=function(N){var A=N*m,O=$h(C),_=u/(n*y)*(O*Tb(t*A+C)-Lb(C));return[s+_*p,a+_*x,u*O/$h(t*A+C)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return i.rho=function(o){var l=Math.max(.001,+o),s=l*l,a=s*s;return e(l,s,a)},i}(Math.SQRT2,2,4);var ai=0,Fi=0,Ai=0,mx=1e3,xs,$i,ys=0,wr=0,Xs=0,bo=typeof performance=="object"&&performance.now?performance:Date,xx=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ad(){return wr||(xx(Pb),wr=bo.now()+Xs)}function Pb(){wr=0}function vs(){this._call=this._time=this._next=null}vs.prototype=yx.prototype={constructor:vs,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ad():+n)+(t==null?0:+t),!this._next&&$i!==this&&($i?$i._next=this:xs=this,$i=this),this._call=e,this._time=n,cc()},stop:function(){this._call&&(this._call=null,this._time=1/0,cc())}};function yx(e,t,n){var r=new vs;return r.restart(e,t,n),r}function zb(){Ad(),++ai;for(var e=xs,t;e;)(t=wr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ai}function Bh(){wr=(ys=bo.now())+Xs,ai=Fi=0;try{zb()}finally{ai=0,Db(),wr=0}}function Rb(){var e=bo.now(),t=e-ys;t>mx&&(Xs-=t,ys=e)}function Db(){for(var e,t=xs,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:xs=n);$i=e,cc(r)}function cc(e){if(!ai){Fi&&(Fi=clearTimeout(Fi));var t=e-wr;t>24?(e<1/0&&(Fi=setTimeout(Bh,e-bo.now()-Xs)),Ai&&(Ai=clearInterval(Ai))):(Ai||(ys=bo.now(),Ai=setInterval(Rb,mx)),ai=1,xx(Bh))}}function Hh(e,t,n){var r=new vs;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Ob=Ws("start","end","cancel","interrupt"),Fb=[],vx=0,Vh=1,dc=2,Dl=3,Uh=4,fc=5,Ol=6;function Ks(e,t,n,r,i,o){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;$b(e,n,{name:t,index:r,group:i,on:Ob,tween:Fb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:vx})}function Ld(e,t){var n=qt(e,t);if(n.state>vx)throw new Error("too late; already scheduled");return n}function sn(e,t){var n=qt(e,t);if(n.state>Dl)throw new Error("too late; already running");return n}function qt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function $b(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=yx(o,0,n.time);function o(u){n.state=Vh,n.timer.restart(l,n.delay,n.time),n.delay<=u&&l(u-n.delay)}function l(u){var f,c,h,p;if(n.state!==Vh)return a();for(f in r)if(p=r[f],p.name===n.name){if(p.state===Dl)return Hh(l);p.state===Uh?(p.state=Ol,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=Ol,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(Hh(function(){n.state===Dl&&(n.state=Uh,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=dc,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dc){for(n.state=Dl,i=new Array(h=n.tween.length),f=0,c=-1;f<h;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++c]=p);i.length=c+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(a),n.state=fc,1),c=-1,h=i.length;++c<h;)i[c].call(e,f);n.state===fc&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){n.state=Ol,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Fl(e,t){var n=e.__transition,r,i,o=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){o=!1;continue}i=r.state>dc&&r.state<fc,r.state=Ol,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}o&&delete e.__transition}}function Bb(e){return this.each(function(){Fl(this,e)})}function Hb(e,t){var n,r;return function(){var i=sn(this,e),o=i.tween;if(o!==n){r=n=o;for(var l=0,s=r.length;l<s;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}i.tween=r}}function Vb(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=sn(this,e),l=o.tween;if(l!==r){i=(r=l).slice();for(var s={name:t,value:n},a=0,u=i.length;a<u;++a)if(i[a].name===t){i[a]=s;break}a===u&&i.push(s)}o.tween=i}}function Ub(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=qt(this.node(),n).tween,i=0,o=r.length,l;i<o;++i)if((l=r[i]).name===e)return l.value;return null}return this.each((t==null?Hb:Vb)(n,e,t))}function Td(e,t,n){var r=e._id;return e.each(function(){var i=sn(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return qt(i,r).value[t]}}function wx(e,t){var n;return(typeof t=="number"?Jt:t instanceof vr?ms:(n=vr(t))?(t=n,ms):hx)(e,t)}function Wb(e){return function(){this.removeAttribute(e)}}function Yb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xb(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===r?o:o=t(r=l,n)}}function Kb(e,t,n){var r,i=n+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===r?o:o=t(r=l,n)}}function qb(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttribute(e):(l=this.getAttribute(e),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Qb(e,t,n){var r,i,o;return function(){var l,s=n(this),a;return s==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),a=s+"",l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s)))}}function Zb(e,t){var n=Ys(e),r=n==="transform"?Mb:wx;return this.attrTween(e,typeof t=="function"?(n.local?Qb:qb)(n,r,Td(this,"attr."+e,t)):t==null?(n.local?Yb:Wb)(n):(n.local?Kb:Xb)(n,r,t))}function Gb(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Jb(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function e4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Jb(e,o)),n}return i._value=t,i}function t4(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Gb(e,o)),n}return i._value=t,i}function n4(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ys(e);return this.tween(n,(r.local?e4:t4)(r,t))}function r4(e,t){return function(){Ld(this,e).delay=+t.apply(this,arguments)}}function i4(e,t){return t=+t,function(){Ld(this,e).delay=t}}function o4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?r4:i4)(t,e)):qt(this.node(),t).delay}function l4(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function s4(e,t){return t=+t,function(){sn(this,e).duration=t}}function a4(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?l4:s4)(t,e)):qt(this.node(),t).duration}function u4(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function c4(e){var t=this._id;return arguments.length?this.each(u4(t,e)):qt(this.node(),t).ease}function d4(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;sn(this,e).ease=n}}function f4(e){if(typeof e!="function")throw new Error;return this.each(d4(this._id,e))}function h4(e){typeof e!="function"&&(e=Zm(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],l=o.length,s=r[i]=[],a,u=0;u<l;++u)(a=o[u])&&e.call(a,a.__data__,u,o)&&s.push(a);return new bn(r,this._parents,this._name,this._id)}function p4(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),l=new Array(r),s=0;s<o;++s)for(var a=t[s],u=n[s],f=a.length,c=l[s]=new Array(f),h,p=0;p<f;++p)(h=a[p]||u[p])&&(c[p]=h);for(;s<r;++s)l[s]=t[s];return new bn(l,this._parents,this._name,this._id)}function g4(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function m4(e,t,n){var r,i,o=g4(t)?Ld:sn;return function(){var l=o(this,e),s=l.on;s!==r&&(i=(r=s).copy()).on(t,n),l.on=i}}function x4(e,t){var n=this._id;return arguments.length<2?qt(this.node(),n).on.on(e):this.each(m4(n,e,t))}function y4(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function v4(){return this.on("end.remove",y4(this._id))}function w4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_d(e));for(var r=this._groups,i=r.length,o=new Array(i),l=0;l<i;++l)for(var s=r[l],a=s.length,u=o[l]=new Array(a),f,c,h=0;h<a;++h)(f=s[h])&&(c=e.call(f,f.__data__,h,s))&&("__data__"in f&&(c.__data__=f.__data__),u[h]=c,Ks(u[h],t,n,h,u,qt(f,n)));return new bn(o,this._parents,t,n)}function k4(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qm(e));for(var r=this._groups,i=r.length,o=[],l=[],s=0;s<i;++s)for(var a=r[s],u=a.length,f,c=0;c<u;++c)if(f=a[c]){for(var h=e.call(f,f.__data__,c,a),p,x=qt(f,n),v=0,b=h.length;v<b;++v)(p=h[v])&&Ks(p,t,n,v,h,x);o.push(h),l.push(f)}return new bn(o,l,t,n)}var b4=Do.prototype.constructor;function S4(){return new b4(this._groups,this._parents)}function C4(e,t){var n,r,i;return function(){var o=si(this,e),l=(this.style.removeProperty(e),si(this,e));return o===l?null:o===n&&l===r?i:i=t(n=o,r=l)}}function kx(e){return function(){this.style.removeProperty(e)}}function N4(e,t,n){var r,i=n+"",o;return function(){var l=si(this,e);return l===i?null:l===r?o:o=t(r=l,n)}}function E4(e,t,n){var r,i,o;return function(){var l=si(this,e),s=n(this),a=s+"";return s==null&&(a=s=(this.style.removeProperty(e),si(this,e))),l===a?null:l===r&&a===i?o:(i=a,o=t(r=l,s))}}function _4(e,t){var n,r,i,o="style."+t,l="end."+o,s;return function(){var a=sn(this,e),u=a.on,f=a.value[o]==null?s||(s=kx(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(l,i=f),a.on=r}}function j4(e,t,n){var r=(e+="")=="transform"?Ib:wx;return t==null?this.styleTween(e,C4(e,r)).on("end.style."+e,kx(e)):typeof t=="function"?this.styleTween(e,E4(e,r,Td(this,"style."+e,t))).each(_4(this._id,e)):this.styleTween(e,N4(e,r,t),n).on("end.style."+e,null)}function I4(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function M4(e,t,n){var r,i;function o(){var l=t.apply(this,arguments);return l!==i&&(r=(i=l)&&I4(e,l,n)),r}return o._value=t,o}function A4(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,M4(e,t,n??""))}function L4(e){return function(){this.textContent=e}}function T4(e){return function(){var t=e(this);this.textContent=t??""}}function P4(e){return this.tween("text",typeof e=="function"?T4(Td(this,"text",e)):L4(e==null?"":e+""))}function z4(e){return function(t){this.textContent=e.call(this,t)}}function R4(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&z4(i)),t}return r._value=e,r}function D4(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,R4(e))}function O4(){for(var e=this._name,t=this._id,n=bx(),r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)if(a=l[u]){var f=qt(a,t);Ks(a,e,n,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new bn(r,this._parents,e,n)}function F4(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,l){var s={value:l},a={value:function(){--i===0&&o()}};n.each(function(){var u=sn(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(a)),u.on=t}),i===0&&o()})}var $4=0;function bn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bx(){return++$4}var cn=Do.prototype;bn.prototype={constructor:bn,select:w4,selectAll:k4,selectChild:cn.selectChild,selectChildren:cn.selectChildren,filter:h4,merge:p4,selection:S4,transition:O4,call:cn.call,nodes:cn.nodes,node:cn.node,size:cn.size,empty:cn.empty,each:cn.each,on:x4,attr:Zb,attrTween:n4,style:j4,styleTween:A4,text:P4,textTween:D4,remove:v4,tween:Ub,delay:o4,duration:a4,ease:c4,easeVarying:f4,end:F4,[Symbol.iterator]:cn[Symbol.iterator]};function B4(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var H4={time:null,delay:0,duration:250,ease:B4};function V4(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function U4(e){var t,n;e instanceof bn?(t=e._id,e=e._name):(t=bx(),(n=H4).time=Ad(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var l=r[o],s=l.length,a,u=0;u<s;++u)(a=l[u])&&Ks(a,e,t,u,l,n||V4(a,t));return new bn(r,this._parents,e,t)}Do.prototype.interrupt=Bb;Do.prototype.transition=U4;const pl=e=>()=>e;function W4(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function gn(e,t,n){this.k=e,this.x=t,this.y=n}gn.prototype={constructor:gn,scale:function(e){return e===1?this:new gn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new gn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qs=new gn(1,0,0);Sx.prototype=gn.prototype;function Sx(e){for(;!e.__zoom;)if(!(e=e.parentNode))return qs;return e.__zoom}function $a(e){e.stopImmediatePropagation()}function Li(e){e.preventDefault(),e.stopImmediatePropagation()}function Y4(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function X4(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wh(){return this.__zoom||qs}function K4(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function q4(){return navigator.maxTouchPoints||"ontouchstart"in this}function Q4(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function Cx(){var e=Y4,t=X4,n=Q4,r=K4,i=q4,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],s=250,a=Rl,u=Ws("start","zoom","end"),f,c,h,p=500,x=150,v=0,b=10;function m(E){E.property("__zoom",Wh).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",_).filter(i).on("touchstart.zoom",M).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(E,P,R,F){var L=E.selection?E.selection():E;L.property("__zoom",Wh),E!==L?C(E,P,R,F):L.interrupt().each(function(){w(this,arguments).event(F).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},m.scaleBy=function(E,P,R,F){m.scaleTo(E,function(){var L=this.__zoom.k,T=typeof P=="function"?P.apply(this,arguments):P;return L*T},R,F)},m.scaleTo=function(E,P,R,F){m.transform(E,function(){var L=t.apply(this,arguments),T=this.__zoom,S=R==null?k(L):typeof R=="function"?R.apply(this,arguments):R,B=T.invert(S),H=typeof P=="function"?P.apply(this,arguments):P;return n(g(y(T,H),S,B),L,l)},R,F)},m.translateBy=function(E,P,R,F){m.transform(E,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),l)},null,F)},m.translateTo=function(E,P,R,F,L){m.transform(E,function(){var T=t.apply(this,arguments),S=this.__zoom,B=F==null?k(T):typeof F=="function"?F.apply(this,arguments):F;return n(qs.translate(B[0],B[1]).scale(S.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof R=="function"?-R.apply(this,arguments):-R),T,l)},F,L)};function y(E,P){return P=Math.max(o[0],Math.min(o[1],P)),P===E.k?E:new gn(P,E.x,E.y)}function g(E,P,R){var F=P[0]-R[0]*E.k,L=P[1]-R[1]*E.k;return F===E.x&&L===E.y?E:new gn(E.k,F,L)}function k(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function C(E,P,R,F){E.on("start.zoom",function(){w(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).event(F).end()}).tween("zoom",function(){var L=this,T=arguments,S=w(L,T).event(F),B=t.apply(L,T),H=R==null?k(B):typeof R=="function"?R.apply(L,T):R,j=Math.max(B[1][0]-B[0][0],B[1][1]-B[0][1]),Y=L.__zoom,Q=typeof P=="function"?P.apply(L,T):P,q=a(Y.invert(H).concat(j/Y.k),Q.invert(H).concat(j/Q.k));return function(G){if(G===1)G=Q;else{var V=q(G),J=j/V[2];G=new gn(J,H[0]-V[0]*J,H[1]-V[1]*J)}S.zoom(null,G)}})}function w(E,P,R){return!R&&E.__zooming||new N(E,P)}function N(E,P){this.that=E,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,P),this.taps=0}N.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,P){return this.mouse&&E!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var P=vt(this.that).datum();u.call(E,this.that,new W4(E,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),P)}};function A(E,...P){if(!e.apply(this,arguments))return;var R=w(this,P).event(E),F=this.__zoom,L=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),T=$t(E);if(R.wheel)(R.mouse[0][0]!==T[0]||R.mouse[0][1]!==T[1])&&(R.mouse[1]=F.invert(R.mouse[0]=T)),clearTimeout(R.wheel);else{if(F.k===L)return;R.mouse=[T,F.invert(T)],Fl(this),R.start()}Li(E),R.wheel=setTimeout(S,x),R.zoom("mouse",n(g(y(F,L),R.mouse[0],R.mouse[1]),R.extent,l));function S(){R.wheel=null,R.end()}}function O(E,...P){if(h||!e.apply(this,arguments))return;var R=E.currentTarget,F=w(this,P,!0).event(E),L=vt(E.view).on("mousemove.zoom",H,!0).on("mouseup.zoom",j,!0),T=$t(E,R),S=E.clientX,B=E.clientY;sx(E.view),$a(E),F.mouse=[T,this.__zoom.invert(T)],Fl(this),F.start();function H(Y){if(Li(Y),!F.moved){var Q=Y.clientX-S,q=Y.clientY-B;F.moved=Q*Q+q*q>v}F.event(Y).zoom("mouse",n(g(F.that.__zoom,F.mouse[0]=$t(Y,R),F.mouse[1]),F.extent,l))}function j(Y){L.on("mousemove.zoom mouseup.zoom",null),ax(Y.view,F.moved),Li(Y),F.event(Y).end()}}function _(E,...P){if(e.apply(this,arguments)){var R=this.__zoom,F=$t(E.changedTouches?E.changedTouches[0]:E,this),L=R.invert(F),T=R.k*(E.shiftKey?.5:2),S=n(g(y(R,T),F,L),t.apply(this,P),l);Li(E),s>0?vt(this).transition().duration(s).call(C,S,F,E):vt(this).call(m.transform,S,F,E)}}function M(E,...P){if(e.apply(this,arguments)){var R=E.touches,F=R.length,L=w(this,P,E.changedTouches.length===F).event(E),T,S,B,H;for($a(E),S=0;S<F;++S)B=R[S],H=$t(B,this),H=[H,this.__zoom.invert(H),B.identifier],L.touch0?!L.touch1&&L.touch0[2]!==H[2]&&(L.touch1=H,L.taps=0):(L.touch0=H,T=!0,L.taps=1+!!f);f&&(f=clearTimeout(f)),T&&(L.taps<2&&(c=H[0],f=setTimeout(function(){f=null},p)),Fl(this),L.start())}}function z(E,...P){if(this.__zooming){var R=w(this,P).event(E),F=E.changedTouches,L=F.length,T,S,B,H;for(Li(E),T=0;T<L;++T)S=F[T],B=$t(S,this),R.touch0&&R.touch0[2]===S.identifier?R.touch0[0]=B:R.touch1&&R.touch1[2]===S.identifier&&(R.touch1[0]=B);if(S=R.that.__zoom,R.touch1){var j=R.touch0[0],Y=R.touch0[1],Q=R.touch1[0],q=R.touch1[1],G=(G=Q[0]-j[0])*G+(G=Q[1]-j[1])*G,V=(V=q[0]-Y[0])*V+(V=q[1]-Y[1])*V;S=y(S,Math.sqrt(G/V)),B=[(j[0]+Q[0])/2,(j[1]+Q[1])/2],H=[(Y[0]+q[0])/2,(Y[1]+q[1])/2]}else if(R.touch0)B=R.touch0[0],H=R.touch0[1];else return;R.zoom("touch",n(g(S,B,H),R.extent,l))}}function D(E,...P){if(this.__zooming){var R=w(this,P).event(E),F=E.changedTouches,L=F.length,T,S;for($a(E),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),T=0;T<L;++T)S=F[T],R.touch0&&R.touch0[2]===S.identifier?delete R.touch0:R.touch1&&R.touch1[2]===S.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(S=$t(S,this),Math.hypot(c[0]-S[0],c[1]-S[1])<b)){var B=vt(this).on("dblclick.zoom");B&&B.apply(this,arguments)}}}return m.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:pl(+E),m):r},m.filter=function(E){return arguments.length?(e=typeof E=="function"?E:pl(!!E),m):e},m.touchable=function(E){return arguments.length?(i=typeof E=="function"?E:pl(!!E),m):i},m.extent=function(E){return arguments.length?(t=typeof E=="function"?E:pl([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),m):t},m.scaleExtent=function(E){return arguments.length?(o[0]=+E[0],o[1]=+E[1],m):[o[0],o[1]]},m.translateExtent=function(E){return arguments.length?(l[0][0]=+E[0][0],l[1][0]=+E[1][0],l[0][1]=+E[0][1],l[1][1]=+E[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(E){return arguments.length?(n=E,m):n},m.duration=function(E){return arguments.length?(s=+E,m):s},m.interpolate=function(E){return arguments.length?(a=E,m):a},m.on=function(){var E=u.on.apply(u,arguments);return E===u?m:E},m.clickDistance=function(E){return arguments.length?(v=(E=+E)*E,m):Math.sqrt(v)},m.tapDistance=function(E){return arguments.length?(b=+E,m):b},m}const ln={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},So=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Nx=["Enter"," ","Escape"],Ex={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var ui;(function(e){e.Strict="strict",e.Loose="loose"})(ui||(ui={}));var hr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(hr||(hr={}));var Co;(function(e){e.Partial="partial",e.Full="full"})(Co||(Co={}));const _x={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Rn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Rn||(Rn={}));var ws;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(ws||(ws={}));var ee;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ee||(ee={}));const Yh={[ee.Left]:ee.Right,[ee.Right]:ee.Left,[ee.Top]:ee.Bottom,[ee.Bottom]:ee.Top};function jx(e){return e===null?null:e?"valid":"invalid"}const Ix=e=>"id"in e&&"source"in e&&"target"in e,Z4=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Pd=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Fo=(e,t=[0,0])=>{const{width:n,height:r}=Cn(e),i=e.origin??t,o=n*i[0],l=r*i[1];return{x:e.position.x-o,y:e.position.y-l}},G4=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let l=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(l=o?t.nodeLookup.get(i):Pd(i)?i:t.nodeLookup.get(i.id));const s=l?ks(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Qs(r,s)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Zs(n)},$o=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(i=>{(t.filter===void 0||t.filter(i))&&(n=Qs(n,ks(i)),r=!0)}),r?Zs(n):{x:0,y:0,width:0,height:0}},zd=(e,t,[n,r,i]=[0,0,1],o=!1,l=!1)=>{const s={...Ho(t,[n,r,i]),width:t.width/i,height:t.height/i},a=[];for(const u of e.values()){const{measured:f,selectable:c=!0,hidden:h=!1}=u;if(l&&!c||h)continue;const p=f.width??u.width??u.initialWidth??null,x=f.height??u.height??u.initialHeight??null,v=No(s,di(u)),b=(p??0)*(x??0),m=o&&v>0;(!u.internals.handleBounds||m||v>=b||u.dragging)&&a.push(u)}return a},J4=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function e3(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function t3({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},l){if(e.size===0)return Promise.resolve(!0);const s=e3(e,l),a=$o(s),u=Rd(a,t,n,(l==null?void 0:l.minZoom)??i,(l==null?void 0:l.maxZoom)??o,(l==null?void 0:l.padding)??.1);return await r.setViewport(u,{duration:l==null?void 0:l.duration,ease:l==null?void 0:l.ease,interpolate:l==null?void 0:l.interpolate}),Promise.resolve(!0)}function Mx({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const l=n.get(e),s=l.parentId?n.get(l.parentId):void 0,{x:a,y:u}=s?s.internals.positionAbsolute:{x:0,y:0},f=l.origin??r;let c=l.extent||i;if(l.extent==="parent"&&!l.expandParent)if(!s)o==null||o("005",ln.error005());else{const p=s.measured.width,x=s.measured.height;p&&x&&(c=[[a,u],[a+p,u+x]])}else s&&fi(l.extent)&&(c=[[l.extent[0][0]+a,l.extent[0][1]+u],[l.extent[1][0]+a,l.extent[1][1]+u]]);const h=fi(c)?kr(t,c,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&(o==null||o("015",ln.error015())),{position:{x:h.x-a+(l.measured.width??0)*f[0],y:h.y-u+(l.measured.height??0)*f[1]},positionAbsolute:h}}async function n3({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(h=>h.id)),l=[];for(const h of n){if(h.deletable===!1)continue;const p=o.has(h.id),x=!p&&h.parentId&&l.find(v=>v.id===h.parentId);(p||x)&&l.push(h)}const s=new Set(t.map(h=>h.id)),a=r.filter(h=>h.deletable!==!1),f=J4(l,a);for(const h of a)s.has(h.id)&&!f.find(x=>x.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:l};const c=await i({nodes:l,edges:f});return typeof c=="boolean"?c?{edges:f,nodes:l}:{edges:[],nodes:[]}:c}const ci=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),kr=(e={x:0,y:0},t,n)=>({x:ci(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:ci(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function Ax(e,t,n){const{width:r,height:i}=Cn(n),{x:o,y:l}=n.internals.positionAbsolute;return kr(e,[[o,l],[o+r,l+i]],t)}const Xh=(e,t,n)=>e<t?ci(Math.abs(e-t),1,t)/t:e>n?-ci(Math.abs(e-n),1,t)/t:0,Lx=(e,t,n=15,r=40)=>{const i=Xh(e.x,r,t.width-r)*n,o=Xh(e.y,r,t.height-r)*n;return[i,o]},Qs=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),hc=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Zs=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),di=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Pd(e)?e.internals.positionAbsolute:Fo(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},ks=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=Pd(e)?e.internals.positionAbsolute:Fo(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},Tx=(e,t)=>Zs(Qs(hc(e),hc(t))),No=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Kh=e=>Vt(e.width)&&Vt(e.height)&&Vt(e.x)&&Vt(e.y),Vt=e=>!isNaN(e)&&isFinite(e),r3=(e,t)=>{},Bo=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Ho=({x:e,y:t},[n,r,i],o=!1,l=[1,1])=>{const s={x:(e-n)/i,y:(t-r)/i};return o?Bo(s,l):s},bs=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function jr(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function i3(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=jr(e,n),i=jr(e,t);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof e=="object"){const r=jr(e.top??e.y??0,n),i=jr(e.bottom??e.y??0,n),o=jr(e.left??e.x??0,t),l=jr(e.right??e.x??0,t);return{top:r,right:l,bottom:i,left:o,x:o+l,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function o3(e,t,n,r,i,o){const{x:l,y:s}=bs(e,[t,n,r]),{x:a,y:u}=bs({x:e.x+e.width,y:e.y+e.height},[t,n,r]),f=i-a,c=o-u;return{left:Math.floor(l),top:Math.floor(s),right:Math.floor(f),bottom:Math.floor(c)}}const Rd=(e,t,n,r,i,o)=>{const l=i3(o,t,n),s=(t-l.x)/e.width,a=(n-l.y)/e.height,u=Math.min(s,a),f=ci(u,r,i),c=e.x+e.width/2,h=e.y+e.height/2,p=t/2-c*f,x=n/2-h*f,v=o3(e,p,x,f,t,n),b={left:Math.min(v.left-l.left,0),top:Math.min(v.top-l.top,0),right:Math.min(v.right-l.right,0),bottom:Math.min(v.bottom-l.bottom,0)};return{x:p-b.left+b.right,y:x-b.top+b.bottom,zoom:f}},Eo=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function fi(e){return e!=null&&e!=="parent"}function Cn(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function Px(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function zx(e,t={width:0,height:0},n,r,i){const o={...e},l=r.get(n);if(l){const s=l.origin||i;o.x+=l.internals.positionAbsolute.x-(t.width??0)*s[0],o.y+=l.internals.positionAbsolute.y-(t.height??0)*s[1]}return o}function qh(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function l3(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function s3(e){return{...Ex,...e||{}}}function Zi(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:l}=Ut(e),s=Ho({x:o-((i==null?void 0:i.left)??0),y:l-((i==null?void 0:i.top)??0)},r),{x:a,y:u}=n?Bo(s,t):s;return{xSnapped:a,ySnapped:u,...s}}const Dd=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rx=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},a3=["INPUT","SELECT","TEXTAREA"];function Dx(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:a3.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const Ox=e=>"clientX"in e,Ut=(e,t)=>{var o,l;const n=Ox(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(l=e.touches)==null?void 0:l[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},Qh=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(l=>{const s=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:i,position:l.getAttribute("data-handlepos"),x:(s.left-n.left)/r,y:(s.top-n.top)/r,...Dd(l)}})};function Fx({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:l,targetControlY:s}){const a=e*.125+i*.375+l*.375+n*.125,u=t*.125+o*.375+s*.375+r*.125,f=Math.abs(a-e),c=Math.abs(u-t);return[a,u,f,c]}function gl(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Zh({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ee.Left:return[t-gl(t-r,o),n];case ee.Right:return[t+gl(r-t,o),n];case ee.Top:return[t,n-gl(n-i,o)];case ee.Bottom:return[t,n+gl(i-n,o)]}}function $x({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,curvature:l=.25}){const[s,a]=Zh({pos:n,x1:e,y1:t,x2:r,y2:i,c:l}),[u,f]=Zh({pos:o,x1:r,y1:i,x2:e,y2:t,c:l}),[c,h,p,x]=Fx({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:u,targetControlY:f});return[`M${e},${t} C${s},${a} ${u},${f} ${r},${i}`,c,h,p,x]}function Bx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,l=Math.abs(r-t)/2,s=r<t?r+l:r-l;return[o,s,i,l]}function u3({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1,zIndexMode:o="basic"}){if(o==="manual")return r;const l=i&&n?r+1e3:r,s=Math.max(e.parentId||i&&e.selected?e.internals.z:0,t.parentId||i&&t.selected?t.internals.z:0);return l+s}function c3({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=Qs(ks(e),ks(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const l={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return No(l,Zs(o))>0}const d3=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,f3=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),h3=(e,t,n={})=>{if(!e.source||!e.target)return t;const r=n.getEdgeId||d3;let i;return Ix(e)?i={...e}:i={...e,id:r(e)},f3(i,t)?t:(i.sourceHandle===null&&delete i.sourceHandle,i.targetHandle===null&&delete i.targetHandle,t.concat(i))};function Hx({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,l,s]=Bx({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,l,s]}const Gh={[ee.Left]:{x:-1,y:0},[ee.Right]:{x:1,y:0},[ee.Top]:{x:0,y:-1},[ee.Bottom]:{x:0,y:1}},p3=({source:e,sourcePosition:t=ee.Bottom,target:n})=>t===ee.Left||t===ee.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},Jh=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function g3({source:e,sourcePosition:t=ee.Bottom,target:n,targetPosition:r=ee.Top,center:i,offset:o,stepPosition:l}){const s=Gh[t],a=Gh[r],u={x:e.x+s.x*o,y:e.y+s.y*o},f={x:n.x+a.x*o,y:n.y+a.y*o},c=p3({source:u,sourcePosition:t,target:f}),h=c.x!==0?"x":"y",p=c[h];let x=[],v,b;const m={x:0,y:0},y={x:0,y:0},[,,g,k]=Bx({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*a[h]===-1){h==="x"?(v=i.x??u.x+(f.x-u.x)*l,b=i.y??(u.y+f.y)/2):(v=i.x??(u.x+f.x)/2,b=i.y??u.y+(f.y-u.y)*l);const w=[{x:v,y:u.y},{x:v,y:f.y}],N=[{x:u.x,y:b},{x:f.x,y:b}];s[h]===p?x=h==="x"?w:N:x=h==="x"?N:w}else{const w=[{x:u.x,y:f.y}],N=[{x:f.x,y:u.y}];if(h==="x"?x=s.x===p?N:w:x=s.y===p?w:N,t===r){const z=Math.abs(e[h]-n[h]);if(z<=o){const D=Math.min(o-1,o-z);s[h]===p?m[h]=(u[h]>e[h]?-1:1)*D:y[h]=(f[h]>n[h]?-1:1)*D}}if(t!==r){const z=h==="x"?"y":"x",D=s[h]===a[z],E=u[z]>f[z],P=u[z]<f[z];(s[h]===1&&(!D&&E||D&&P)||s[h]!==1&&(!D&&P||D&&E))&&(x=h==="x"?w:N)}const A={x:u.x+m.x,y:u.y+m.y},O={x:f.x+y.x,y:f.y+y.y},_=Math.max(Math.abs(A.x-x[0].x),Math.abs(O.x-x[0].x)),M=Math.max(Math.abs(A.y-x[0].y),Math.abs(O.y-x[0].y));_>=M?(v=(A.x+O.x)/2,b=x[0].y):(v=x[0].x,b=(A.y+O.y)/2)}return[[e,{x:u.x+m.x,y:u.y+m.y},...x,{x:f.x+y.x,y:f.y+y.y},n],v,b,g,k]}function m3(e,t,n,r){const i=Math.min(Jh(e,t)/2,Jh(t,n)/2,r),{x:o,y:l}=t;if(e.x===o&&o===n.x||e.y===l&&l===n.y)return`L${o} ${l}`;if(e.y===l){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*u},${l}Q ${o},${l} ${o},${l+i*f}`}const s=e.x<n.x?1:-1,a=e.y<n.y?-1:1;return`L ${o},${l+i*a}Q ${o},${l} ${o+i*s},${l}`}function pc({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top,borderRadius:l=5,centerX:s,centerY:a,offset:u=20,stepPosition:f=.5}){const[c,h,p,x,v]=g3({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:a},offset:u,stepPosition:f});return[c.reduce((m,y,g)=>{let k="";return g>0&&g<c.length-1?k=m3(c[g-1],y,c[g+1],l):k=`${g===0?"M":"L"}${y.x} ${y.y}`,m+=k,m},""),h,p,x,v]}function ep(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function x3(e){var c;const{sourceNode:t,targetNode:n}=e;if(!ep(t)||!ep(n))return null;const r=t.internals.handleBounds||tp(t.handles),i=n.internals.handleBounds||tp(n.handles),o=np((r==null?void 0:r.source)??[],e.sourceHandle),l=np(e.connectionMode===ui.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!l)return(c=e.onError)==null||c.call(e,"008",ln.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const s=(o==null?void 0:o.position)||ee.Bottom,a=(l==null?void 0:l.position)||ee.Top,u=br(t,o,s),f=br(n,l,a);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:s,targetPosition:a}}function tp(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function br(e,t,n=ee.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:l,height:s}=t??Cn(e);if(r)return{x:i+l/2,y:o+s/2};switch((t==null?void 0:t.position)??n){case ee.Top:return{x:i+l/2,y:o};case ee.Right:return{x:i+l,y:o+s/2};case ee.Bottom:return{x:i+l/2,y:o+s};case ee.Left:return{x:i,y:o+s/2}}}function np(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function gc(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function y3(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((l,s)=>([s.markerStart||r,s.markerEnd||i].forEach(a=>{if(a&&typeof a=="object"){const u=gc(a,t);o.has(u)||(l.push({id:u,color:a.color||n,...a}),o.add(u))}}),l),[]).sort((l,s)=>l.id.localeCompare(s.id))}const Vx=1e3,v3=10,Od={nodeOrigin:[0,0],nodeExtent:So,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},w3={...Od,checkEquality:!0};function Fd(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function k3(e,t,n){const r=Fd(Od,n);for(const i of e.values())if(i.parentId)Bd(i,e,t,r);else{const o=Fo(i,r.nodeOrigin),l=fi(i.extent)?i.extent:r.nodeExtent,s=kr(o,l,Cn(i));i.internals.positionAbsolute=s}}function b3(e,t){if(!e.handles)return e.measured?t==null?void 0:t.internals.handleBounds:void 0;const n=[],r=[];for(const i of e.handles){const o={id:i.id,width:i.width??1,height:i.height??1,nodeId:e.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(o):i.type==="target"&&r.push(o)}return{source:n,target:r}}function $d(e){return e==="manual"}function mc(e,t,n,r={}){var u,f;const i=Fd(w3,r),o={i:0},l=new Map(t),s=i!=null&&i.elevateNodesOnSelect&&!$d(i.zIndexMode)?Vx:0;let a=e.length>0;t.clear(),n.clear();for(const c of e){let h=l.get(c.id);if(i.checkEquality&&c===(h==null?void 0:h.internals.userNode))t.set(c.id,h);else{const p=Fo(c,i.nodeOrigin),x=fi(c.extent)?c.extent:i.nodeExtent,v=kr(p,x,Cn(c));h={...i.defaults,...c,measured:{width:(u=c.measured)==null?void 0:u.width,height:(f=c.measured)==null?void 0:f.height},internals:{positionAbsolute:v,handleBounds:b3(c,h),z:Ux(c,s,i.zIndexMode),userNode:c}},t.set(c.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(a=!1),c.parentId&&Bd(h,t,n,r,o)}return a}function S3(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function Bd(e,t,n,r,i){const{elevateNodesOnSelect:o,nodeOrigin:l,nodeExtent:s,zIndexMode:a}=Fd(Od,r),u=e.parentId,f=t.get(u);if(!f){console.warn(`Parent node ${u} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}S3(e,n),i&&!f.parentId&&f.internals.rootParentIndex===void 0&&a==="auto"&&(f.internals.rootParentIndex=++i.i,f.internals.z=f.internals.z+i.i*v3),i&&f.internals.rootParentIndex!==void 0&&(i.i=f.internals.rootParentIndex);const c=o&&!$d(a)?Vx:0,{x:h,y:p,z:x}=C3(e,f,l,s,c,a),{positionAbsolute:v}=e.internals,b=h!==v.x||p!==v.y;(b||x!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:b?{x:h,y:p}:v,z:x}})}function Ux(e,t,n){const r=Vt(e.zIndex)?e.zIndex:0;return $d(n)?r:r+(e.selected?t:0)}function C3(e,t,n,r,i,o){const{x:l,y:s}=t.internals.positionAbsolute,a=Cn(e),u=Fo(e,n),f=fi(e.extent)?kr(u,e.extent,a):u;let c=kr({x:l+f.x,y:s+f.y},r,a);e.extent==="parent"&&(c=Ax(c,a,t));const h=Ux(e,i,o),p=t.internals.z??0;return{x:c.x,y:c.y,z:p>=h?p+1:h}}function Hd(e,t,n,r=[0,0]){var l;const i=[],o=new Map;for(const s of e){const a=t.get(s.parentId);if(!a)continue;const u=((l=o.get(s.parentId))==null?void 0:l.expandedRect)??di(a),f=Tx(u,s.rect);o.set(s.parentId,{expandedRect:f,parent:a})}return o.size>0&&o.forEach(({expandedRect:s,parent:a},u)=>{var g;const f=a.internals.positionAbsolute,c=Cn(a),h=a.origin??r,p=s.x<f.x?Math.round(Math.abs(f.x-s.x)):0,x=s.y<f.y?Math.round(Math.abs(f.y-s.y)):0,v=Math.max(c.width,Math.round(s.width)),b=Math.max(c.height,Math.round(s.height)),m=(v-c.width)*h[0],y=(b-c.height)*h[1];(p>0||x>0||m||y)&&(i.push({id:u,type:"position",position:{x:a.position.x-p+m,y:a.position.y-x+y}}),(g=n.get(u))==null||g.forEach(k=>{e.some(C=>C.id===k.id)||i.push({id:k.id,type:"position",position:{x:k.position.x+p,y:k.position.y+x}})})),(c.width<s.width||c.height<s.height||p||x)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(p?h[0]*p-m:0),height:b+(x?h[1]*x-y:0)}})}),i}function N3(e,t,n,r,i,o,l){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const u=[],f=window.getComputedStyle(s),{m22:c}=new window.DOMMatrixReadOnly(f.transform),h=[];for(const p of e.values()){const x=t.get(p.id);if(!x)continue;if(x.hidden){t.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),a=!0;continue}const v=Dd(p.nodeElement),b=x.measured.width!==v.width||x.measured.height!==v.height;if(!!(v.width&&v.height&&(b||!x.internals.handleBounds||p.force))){const y=p.nodeElement.getBoundingClientRect(),g=fi(x.extent)?x.extent:o;let{positionAbsolute:k}=x.internals;x.parentId&&x.extent==="parent"?k=Ax(k,v,t.get(x.parentId)):g&&(k=kr(k,g,v));const C={...x,measured:v,internals:{...x.internals,positionAbsolute:k,handleBounds:{source:Qh("source",p.nodeElement,y,c,x.id),target:Qh("target",p.nodeElement,y,c,x.id)}}};t.set(x.id,C),x.parentId&&Bd(C,t,n,{nodeOrigin:i,zIndexMode:l}),a=!0,b&&(u.push({id:x.id,type:"dimensions",dimensions:v}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:di(C,i)}))}}if(h.length>0){const p=Hd(h,t,n,i);u.push(...p)}return{changes:u,updatedInternals:a}}async function E3({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),s=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(s)}function rp(e,t,n,r,i,o){let l=i;const s=r.get(l)||new Map;r.set(l,s.set(n,t)),l=`${i}-${e}`;const a=r.get(l)||new Map;if(r.set(l,a.set(n,t)),o){l=`${i}-${e}-${o}`;const u=r.get(l)||new Map;r.set(l,u.set(n,t))}}function Wx(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:l=null,targetHandle:s=null}=r,a={edgeId:r.id,source:i,target:o,sourceHandle:l,targetHandle:s},u=`${i}-${l}--${o}-${s}`,f=`${o}-${s}--${i}-${l}`;rp("source",a,f,e,i,l),rp("target",a,u,e,o,s),t.set(r.id,r)}}function Yx(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:Yx(n,t):!1}function ip(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function _3(e,t,n,r){const i=new Map;for(const[o,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!Yx(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const s=e.get(o);s&&i.set(o,{id:o,position:s.position||{x:0,y:0},distance:{x:n.x-s.internals.positionAbsolute.x,y:n.y-s.internals.positionAbsolute.y},extent:s.extent,parentId:s.parentId,origin:s.origin,expandParent:s.expandParent,internals:{positionAbsolute:s.internals.positionAbsolute||{x:0,y:0}},measured:{width:s.measured.width??0,height:s.measured.height??0}})}return i}function Ba({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var l,s,a;const i=[];for(const[u,f]of t){const c=(l=n.get(u))==null?void 0:l.internals.userNode;c&&i.push({...c,position:f.position,dragging:r})}if(!e)return[i[0],i];const o=(s=n.get(e))==null?void 0:s.internals.userNode;return[o?{...o,position:((a=t.get(e))==null?void 0:a.position)||o.position,dragging:r}:i[0],i]}function j3({dragItems:e,snapGrid:t,x:n,y:r}){const i=e.values().next().value;if(!i)return null;const o={x:n-i.distance.x,y:r-i.distance.y},l=Bo(o,t);return{x:l.x-o.x,y:l.y-o.y}}function I3({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},l=0,s=new Map,a=!1,u={x:0,y:0},f=null,c=!1,h=null,p=!1,x=!1,v=null;function b({noDragClassName:y,handleSelector:g,domNode:k,isSelectable:C,nodeId:w,nodeClickDistance:N=0}){h=vt(k);function A({x:z,y:D}){const{nodeLookup:E,nodeExtent:P,snapGrid:R,snapToGrid:F,nodeOrigin:L,onNodeDrag:T,onSelectionDrag:S,onError:B,updateNodePositions:H}=t();o={x:z,y:D};let j=!1;const Y=s.size>1,Q=Y&&P?hc($o(s)):null,q=Y&&F?j3({dragItems:s,snapGrid:R,x:z,y:D}):null;for(const[G,V]of s){if(!E.has(G))continue;let J={x:z-V.distance.x,y:D-V.distance.y};F&&(J=q?{x:Math.round(J.x+q.x),y:Math.round(J.y+q.y)}:Bo(J,R));let le=null;if(Y&&P&&!V.extent&&Q){const{positionAbsolute:te}=V.internals,pe=te.x-Q.x+P[0][0],ve=te.x+V.measured.width-Q.x2+P[1][0],ce=te.y-Q.y+P[0][1],Re=te.y+V.measured.height-Q.y2+P[1][1];le=[[pe,ce],[ve,Re]]}const{position:se,positionAbsolute:re}=Mx({nodeId:G,nextPosition:J,nodeLookup:E,nodeExtent:le||P,nodeOrigin:L,onError:B});j=j||V.position.x!==se.x||V.position.y!==se.y,V.position=se,V.internals.positionAbsolute=re}if(x=x||j,!!j&&(H(s,!0),v&&(r||T||!w&&S))){const[G,V]=Ba({nodeId:w,dragItems:s,nodeLookup:E});r==null||r(v,s,G,V),T==null||T(v,G,V),w||S==null||S(v,V)}}async function O(){if(!f)return;const{transform:z,panBy:D,autoPanSpeed:E,autoPanOnNodeDrag:P}=t();if(!P){a=!1,cancelAnimationFrame(l);return}const[R,F]=Lx(u,f,E);(R!==0||F!==0)&&(o.x=(o.x??0)-R/z[2],o.y=(o.y??0)-F/z[2],await D({x:R,y:F})&&A(o)),l=requestAnimationFrame(O)}function _(z){var Y;const{nodeLookup:D,multiSelectionActive:E,nodesDraggable:P,transform:R,snapGrid:F,snapToGrid:L,selectNodesOnDrag:T,onNodeDragStart:S,onSelectionDragStart:B,unselectNodesAndEdges:H}=t();c=!0,(!T||!C)&&!E&&w&&((Y=D.get(w))!=null&&Y.selected||H()),C&&T&&w&&(e==null||e(w));const j=Zi(z.sourceEvent,{transform:R,snapGrid:F,snapToGrid:L,containerBounds:f});if(o=j,s=_3(D,P,j,w),s.size>0&&(n||S||!w&&B)){const[Q,q]=Ba({nodeId:w,dragItems:s,nodeLookup:D});n==null||n(z.sourceEvent,s,Q,q),S==null||S(z.sourceEvent,Q,q),w||B==null||B(z.sourceEvent,q)}}const M=ux().clickDistance(N).on("start",z=>{const{domNode:D,nodeDragThreshold:E,transform:P,snapGrid:R,snapToGrid:F}=t();f=(D==null?void 0:D.getBoundingClientRect())||null,p=!1,x=!1,v=z.sourceEvent,E===0&&_(z),o=Zi(z.sourceEvent,{transform:P,snapGrid:R,snapToGrid:F,containerBounds:f}),u=Ut(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:D,transform:E,snapGrid:P,snapToGrid:R,nodeDragThreshold:F,nodeLookup:L}=t(),T=Zi(z.sourceEvent,{transform:E,snapGrid:P,snapToGrid:R,containerBounds:f});if(v=z.sourceEvent,(z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||w&&!L.has(w))&&(p=!0),!p){if(!a&&D&&c&&(a=!0,O()),!c){const S=Ut(z.sourceEvent,f),B=S.x-u.x,H=S.y-u.y;Math.sqrt(B*B+H*H)>F&&_(z)}(o.x!==T.xSnapped||o.y!==T.ySnapped)&&s&&c&&(u=Ut(z.sourceEvent,f),A(T))}}).on("end",z=>{if(!(!c||p)&&(a=!1,c=!1,cancelAnimationFrame(l),s.size>0)){const{nodeLookup:D,updateNodePositions:E,onNodeDragStop:P,onSelectionDragStop:R}=t();if(x&&(E(s,!1),x=!1),i||P||!w&&R){const[F,L]=Ba({nodeId:w,dragItems:s,nodeLookup:D,dragging:!1});i==null||i(z.sourceEvent,s,F,L),P==null||P(z.sourceEvent,F,L),w||R==null||R(z.sourceEvent,L)}}}).filter(z=>{const D=z.target;return!z.button&&(!y||!ip(D,`.${y}`,k))&&(!g||ip(D,g,k))});h.call(M)}function m(){h==null||h.on(".drag",null)}return{update:b,destroy:m}}function M3(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())No(i,di(o))>0&&r.push(o);return r}const A3=250;function L3(e,t,n,r){var s,a;let i=[],o=1/0;const l=M3(e,n,t+A3);for(const u of l){const f=[...((s=u.internals.handleBounds)==null?void 0:s.source)??[],...((a=u.internals.handleBounds)==null?void 0:a.target)??[]];for(const c of f){if(r.nodeId===c.nodeId&&r.type===c.type&&r.id===c.id)continue;const{x:h,y:p}=br(u,c,c.position,!0),x=Math.sqrt(Math.pow(h-e.x,2)+Math.pow(p-e.y,2));x>t||(x<o?(i=[{...c,x:h,y:p}],o=x):x===o&&i.push({...c,x:h,y:p}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(f=>f.type===u)??i[0]}return i[0]}function Xx(e,t,n,r,i,o=!1){var u,f,c;const l=r.get(e);if(!l)return null;const s=i==="strict"?(u=l.internals.handleBounds)==null?void 0:u[t]:[...((f=l.internals.handleBounds)==null?void 0:f.source)??[],...((c=l.internals.handleBounds)==null?void 0:c.target)??[]],a=(n?s==null?void 0:s.find(h=>h.id===n):s==null?void 0:s[0])??null;return a&&o?{...a,...br(l,a,a.position,!0)}:a}function Kx(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function T3(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const qx=()=>!0;function P3(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:l,domNode:s,nodeLookup:a,lib:u,autoPanOnConnect:f,flowId:c,panBy:h,cancelConnection:p,onConnectStart:x,onConnect:v,onConnectEnd:b,isValidConnection:m=qx,onReconnectEnd:y,updateConnection:g,getTransform:k,getFromHandle:C,autoPanSpeed:w,dragThreshold:N=1,handleDomNode:A}){const O=Rx(e.target);let _=0,M;const{x:z,y:D}=Ut(e),E=Kx(o,A),P=s==null?void 0:s.getBoundingClientRect();let R=!1;if(!P||!E)return;const F=Xx(i,E,r,a,t);if(!F)return;let L=Ut(e,P),T=!1,S=null,B=!1,H=null;function j(){if(!f||!P)return;const[se,re]=Lx(L,P,w);h({x:se,y:re}),_=requestAnimationFrame(j)}const Y={...F,nodeId:i,type:E,position:F.position},Q=a.get(i);let G={inProgress:!0,isValid:null,from:br(Q,Y,ee.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:Q,to:L,toHandle:null,toPosition:Yh[Y.position],toNode:null,pointer:L};function V(){R=!0,g(G),x==null||x(e,{nodeId:i,handleId:r,handleType:E})}N===0&&V();function J(se){if(!R){const{x:Re,y:K}=Ut(se),ne=Re-z,ie=K-D;if(!(ne*ne+ie*ie>N*N))return;V()}if(!C()||!Y){le(se);return}const re=k();L=Ut(se,P),M=L3(Ho(L,re,!1,[1,1]),n,a,Y),T||(j(),T=!0);const te=Qx(se,{handle:M,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:l?"target":"source",isValidConnection:m,doc:O,lib:u,flowId:c,nodeLookup:a});H=te.handleDomNode,S=te.connection,B=T3(!!M,te.isValid);const pe=a.get(i),ve=pe?br(pe,Y,ee.Left,!0):G.from,ce={...G,from:ve,isValid:B,to:te.toHandle&&B?bs({x:te.toHandle.x,y:te.toHandle.y},re):L,toHandle:te.toHandle,toPosition:B&&te.toHandle?te.toHandle.position:Yh[Y.position],toNode:te.toHandle?a.get(te.toHandle.nodeId):null,pointer:L};g(ce),G=ce}function le(se){if(!("touches"in se&&se.touches.length>0)){if(R){(M||H)&&S&&B&&(v==null||v(S));const{inProgress:re,...te}=G,pe={...te,toPosition:G.toHandle?G.toPosition:null};b==null||b(se,pe),o&&(y==null||y(se,pe))}p(),cancelAnimationFrame(_),T=!1,B=!1,S=null,H=null,O.removeEventListener("mousemove",J),O.removeEventListener("mouseup",le),O.removeEventListener("touchmove",J),O.removeEventListener("touchend",le)}}O.addEventListener("mousemove",J),O.addEventListener("mouseup",le),O.addEventListener("touchmove",J),O.addEventListener("touchend",le)}function Qx(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:l,lib:s,flowId:a,isValidConnection:u=qx,nodeLookup:f}){const c=o==="target",h=t?l.querySelector(`.${s}-flow__handle[data-id="${a}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:p,y:x}=Ut(e),v=l.elementFromPoint(p,x),b=v!=null&&v.classList.contains(`${s}-flow__handle`)?v:h,m={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const y=Kx(void 0,b),g=b.getAttribute("data-nodeid"),k=b.getAttribute("data-handleid"),C=b.classList.contains("connectable"),w=b.classList.contains("connectableend");if(!g||!y)return m;const N={source:c?g:r,sourceHandle:c?k:i,target:c?r:g,targetHandle:c?i:k};m.connection=N;const O=C&&w&&(n===ui.Strict?c&&y==="source"||!c&&y==="target":g!==r||k!==i);m.isValid=O&&u(N),m.toHandle=Xx(g,y,k,f,n,!0)}return m}const xc={onPointerDown:P3,isValid:Qx};function z3({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=vt(e);function o({translateExtent:s,width:a,height:u,zoomStep:f=1,pannable:c=!0,zoomable:h=!0,inversePan:p=!1}){const x=g=>{if(g.sourceEvent.type!=="wheel"||!t)return;const k=n(),C=g.sourceEvent.ctrlKey&&Eo()?10:1,w=-g.sourceEvent.deltaY*(g.sourceEvent.deltaMode===1?.05:g.sourceEvent.deltaMode?1:.002)*f,N=k[2]*Math.pow(2,w*C);t.scaleTo(N)};let v=[0,0];const b=g=>{(g.sourceEvent.type==="mousedown"||g.sourceEvent.type==="touchstart")&&(v=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY])},m=g=>{const k=n();if(g.sourceEvent.type!=="mousemove"&&g.sourceEvent.type!=="touchmove"||!t)return;const C=[g.sourceEvent.clientX??g.sourceEvent.touches[0].clientX,g.sourceEvent.clientY??g.sourceEvent.touches[0].clientY],w=[C[0]-v[0],C[1]-v[1]];v=C;const N=r()*Math.max(k[2],Math.log(k[2]))*(p?-1:1),A={x:k[0]-w[0]*N,y:k[1]-w[1]*N},O=[[0,0],[a,u]];t.setViewportConstrained({x:A.x,y:A.y,zoom:k[2]},O,s)},y=Cx().on("start",b).on("zoom",c?m:null).on("zoom.wheel",h?x:null);i.call(y,{})}function l(){i.on("zoom",null)}return{update:o,destroy:l,pointer:$t}}const Gs=e=>({x:e.x,y:e.y,zoom:e.k}),Ha=({x:e,y:t,zoom:n})=>qs.translate(e,t).scale(n),Vr=(e,t)=>e.target.closest(`.${t}`),Zx=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),R3=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,Va=(e,t=0,n=R3,r=()=>{})=>{const i=typeof t=="number"&&t>0;return i||r(),i?e.transition().duration(t).ease(n).on("end",r):e},Gx=e=>{const t=e.ctrlKey&&Eo()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function D3({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:l,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u}){return f=>{if(Vr(f,t))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const c=n.property("__zoom").k||1;if(f.ctrlKey&&l){const b=$t(f),m=Gx(f),y=c*Math.pow(2,m);r.scaleTo(n,y,b,f);return}const h=f.deltaMode===1?20:1;let p=i===hr.Vertical?0:f.deltaX*h,x=i===hr.Horizontal?0:f.deltaY*h;!Eo()&&f.shiftKey&&i!==hr.Vertical&&(p=f.deltaY*h,x=0),r.translateBy(n,-(p/c)*o,-(x/c)*o,{internal:!0});const v=Gs(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(a==null||a(f,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,v),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,s==null||s(f,v))}}function O3({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",l=!t&&o&&!r.ctrlKey,s=Vr(r,e);if(r.ctrlKey&&o&&s&&r.preventDefault(),l||s)return null;r.preventDefault(),n.call(this,r,i)}}function F3({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,l,s;if((o=r.sourceEvent)!=null&&o.internal)return;const i=Gs(r.transform);e.mouseButton=((l=r.sourceEvent)==null?void 0:l.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((s=r.sourceEvent)==null?void 0:s.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function $3({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var l,s;e.usedRightMouseButton=!!(n&&Zx(t,e.mouseButton??0)),(l=o.sourceEvent)!=null&&l.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((s=o.sourceEvent)!=null&&s.internal)&&(i==null||i(o.sourceEvent,Gs(o.transform)))}}function B3({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return l=>{var s;if(!((s=l.sourceEvent)!=null&&s.internal)&&(e.isZoomingOrPanning=!1,o&&Zx(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&o(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),i)){const a=Gs(l.transform);e.prevViewport=a,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(l.sourceEvent,a)},n?150:0)}}}function H3({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:l,noWheelClassName:s,noPanClassName:a,lib:u,connectionInProgress:f}){return c=>{var b;const h=e||t,p=n&&c.ctrlKey,x=c.type==="wheel";if(c.button===1&&c.type==="mousedown"&&(Vr(c,`${u}-flow__node`)||Vr(c,`${u}-flow__edge`)))return!0;if(!r&&!h&&!i&&!o&&!n||l||f&&!x||Vr(c,s)&&x||Vr(c,a)&&(!x||i&&x&&!e)||!n&&c.ctrlKey&&x)return!1;if(!n&&c.type==="touchstart"&&((b=c.touches)==null?void 0:b.length)>1)return c.preventDefault(),!1;if(!h&&!i&&!p&&x||!r&&(c.type==="mousedown"||c.type==="touchstart")||Array.isArray(r)&&!r.includes(c.button)&&c.type==="mousedown")return!1;const v=Array.isArray(r)&&r.includes(c.button)||!c.button||c.button<=1;return(!c.ctrlKey||x)&&v}}function V3({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:i,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:s,onDraggingChange:a}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),c=Cx().scaleExtent([t,n]).translateExtent(r),h=vt(e).call(c);y({x:i.x,y:i.y,zoom:ci(i.zoom,t,n)},[[0,0],[f.width,f.height]],r);const p=h.on("wheel.zoom"),x=h.on("dblclick.zoom");c.wheelDelta(Gx);function v(M,z){return h?new Promise(D=>{c==null||c.interpolate((z==null?void 0:z.interpolate)==="linear"?Qi:Rl).transform(Va(h,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function b({noWheelClassName:M,noPanClassName:z,onPaneContextMenu:D,userSelectionActive:E,panOnScroll:P,panOnDrag:R,panOnScrollMode:F,panOnScrollSpeed:L,preventScrolling:T,zoomOnPinch:S,zoomOnScroll:B,zoomOnDoubleClick:H,zoomActivationKeyPressed:j,lib:Y,onTransformChange:Q,connectionInProgress:q,paneClickDistance:G,selectionOnDrag:V}){E&&!u.isZoomingOrPanning&&m();const J=P&&!j&&!E;c.clickDistance(V?1/0:!Vt(G)||G<0?0:G);const le=J?D3({zoomPanValues:u,noWheelClassName:M,d3Selection:h,d3Zoom:c,panOnScrollMode:F,panOnScrollSpeed:L,zoomOnPinch:S,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:s}):O3({noWheelClassName:M,preventScrolling:T,d3ZoomHandler:p});if(h.on("wheel.zoom",le,{passive:!1}),!E){const re=F3({zoomPanValues:u,onDraggingChange:a,onPanZoomStart:l});c.on("start",re);const te=$3({zoomPanValues:u,panOnDrag:R,onPaneContextMenu:!!D,onPanZoom:o,onTransformChange:Q});c.on("zoom",te);const pe=B3({zoomPanValues:u,panOnDrag:R,panOnScroll:P,onPaneContextMenu:D,onPanZoomEnd:s,onDraggingChange:a});c.on("end",pe)}const se=H3({zoomActivationKeyPressed:j,panOnDrag:R,zoomOnScroll:B,panOnScroll:P,zoomOnDoubleClick:H,zoomOnPinch:S,userSelectionActive:E,noPanClassName:z,noWheelClassName:M,lib:Y,connectionInProgress:q});c.filter(se),H?h.on("dblclick.zoom",x):h.on("dblclick.zoom",null)}function m(){c.on("zoom",null)}async function y(M,z,D){const E=Ha(M),P=c==null?void 0:c.constrain()(E,z,D);return P&&await v(P),new Promise(R=>R(P))}async function g(M,z){const D=Ha(M);return await v(D,z),new Promise(E=>E(D))}function k(M){if(h){const z=Ha(M),D=h.property("__zoom");(D.k!==M.zoom||D.x!==M.x||D.y!==M.y)&&(c==null||c.transform(h,z,null,{sync:!0}))}}function C(){const M=h?Sx(h.node()):{x:0,y:0,k:1};return{x:M.x,y:M.y,zoom:M.k}}function w(M,z){return h?new Promise(D=>{c==null||c.interpolate((z==null?void 0:z.interpolate)==="linear"?Qi:Rl).scaleTo(Va(h,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function N(M,z){return h?new Promise(D=>{c==null||c.interpolate((z==null?void 0:z.interpolate)==="linear"?Qi:Rl).scaleBy(Va(h,z==null?void 0:z.duration,z==null?void 0:z.ease,()=>D(!0)),M)}):Promise.resolve(!1)}function A(M){c==null||c.scaleExtent(M)}function O(M){c==null||c.translateExtent(M)}function _(M){const z=!Vt(M)||M<0?0:M;c==null||c.clickDistance(z)}return{update:b,destroy:m,setViewport:g,setViewportConstrained:y,getViewport:C,scaleTo:w,scaleBy:N,setScaleExtent:A,setTranslateExtent:O,syncViewport:k,setClickDistance:_}}var hi;(function(e){e.Line="line",e.Handle="handle"})(hi||(hi={}));function U3({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const l=e-t,s=n-r,a=[l>0?1:l<0?-1:0,s>0?1:s<0?-1:0];return l&&i&&(a[0]=a[0]*-1),s&&o&&(a[1]=a[1]*-1),a}function op(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function jn(e,t){return Math.max(0,t-e)}function In(e,t){return Math.max(0,e-t)}function ml(e,t,n){return Math.max(0,t-e,e-n)}function lp(e,t){return e?!t:t}function W3(e,t,n,r,i,o,l,s){let{affectsX:a,affectsY:u}=t;const{isHorizontal:f,isVertical:c}=t,h=f&&c,{xSnapped:p,ySnapped:x}=n,{minWidth:v,maxWidth:b,minHeight:m,maxHeight:y}=r,{x:g,y:k,width:C,height:w,aspectRatio:N}=e;let A=Math.floor(f?p-e.pointerX:0),O=Math.floor(c?x-e.pointerY:0);const _=C+(a?-A:A),M=w+(u?-O:O),z=-o[0]*C,D=-o[1]*w;let E=ml(_,v,b),P=ml(M,m,y);if(l){let L=0,T=0;a&&A<0?L=jn(g+A+z,l[0][0]):!a&&A>0&&(L=In(g+_+z,l[1][0])),u&&O<0?T=jn(k+O+D,l[0][1]):!u&&O>0&&(T=In(k+M+D,l[1][1])),E=Math.max(E,L),P=Math.max(P,T)}if(s){let L=0,T=0;a&&A>0?L=In(g+A,s[0][0]):!a&&A<0&&(L=jn(g+_,s[1][0])),u&&O>0?T=In(k+O,s[0][1]):!u&&O<0&&(T=jn(k+M,s[1][1])),E=Math.max(E,L),P=Math.max(P,T)}if(i){if(f){const L=ml(_/N,m,y)*N;if(E=Math.max(E,L),l){let T=0;!a&&!u||a&&!u&&h?T=In(k+D+_/N,l[1][1])*N:T=jn(k+D+(a?A:-A)/N,l[0][1])*N,E=Math.max(E,T)}if(s){let T=0;!a&&!u||a&&!u&&h?T=jn(k+_/N,s[1][1])*N:T=In(k+(a?A:-A)/N,s[0][1])*N,E=Math.max(E,T)}}if(c){const L=ml(M*N,v,b)/N;if(P=Math.max(P,L),l){let T=0;!a&&!u||u&&!a&&h?T=In(g+M*N+z,l[1][0])/N:T=jn(g+(u?O:-O)*N+z,l[0][0])/N,P=Math.max(P,T)}if(s){let T=0;!a&&!u||u&&!a&&h?T=jn(g+M*N,s[1][0])/N:T=In(g+(u?O:-O)*N,s[0][0])/N,P=Math.max(P,T)}}}O=O+(O<0?P:-P),A=A+(A<0?E:-E),i&&(h?_>M*N?O=(lp(a,u)?-A:A)/N:A=(lp(a,u)?-O:O)*N:f?(O=A/N,u=a):(A=O*N,a=u));const R=a?g+A:g,F=u?k+O:k;return{width:C+(a?-A:A),height:w+(u?-O:O),x:o[0]*A*(a?-1:1)+R,y:o[1]*O*(u?-1:1)+F}}const Jx={width:0,height:0,x:0,y:0},Y3={...Jx,pointerX:0,pointerY:0,aspectRatio:1};function X3(e){return[[0,0],[e.measured.width,e.measured.height]]}function K3(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,l=e.measured.height??0,s=n[0]*o,a=n[1]*l;return[[r-s,i-a],[r+o-s,i+l-a]]}function q3({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=vt(e);let l={controlDirection:op("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function s({controlPosition:u,boundaries:f,keepAspectRatio:c,resizeDirection:h,onResizeStart:p,onResize:x,onResizeEnd:v,shouldResize:b}){let m={...Jx},y={...Y3};l={boundaries:f,resizeDirection:h,keepAspectRatio:c,controlDirection:op(u)};let g,k=null,C=[],w,N,A,O=!1;const _=ux().on("start",M=>{const{nodeLookup:z,transform:D,snapGrid:E,snapToGrid:P,nodeOrigin:R,paneDomNode:F}=n();if(g=z.get(t),!g)return;k=(F==null?void 0:F.getBoundingClientRect())??null;const{xSnapped:L,ySnapped:T}=Zi(M.sourceEvent,{transform:D,snapGrid:E,snapToGrid:P,containerBounds:k});m={width:g.measured.width??0,height:g.measured.height??0,x:g.position.x??0,y:g.position.y??0},y={...m,pointerX:L,pointerY:T,aspectRatio:m.width/m.height},w=void 0,g.parentId&&(g.extent==="parent"||g.expandParent)&&(w=z.get(g.parentId),N=w&&g.extent==="parent"?X3(w):void 0),C=[],A=void 0;for(const[S,B]of z)if(B.parentId===t&&(C.push({id:S,position:{...B.position},extent:B.extent}),B.extent==="parent"||B.expandParent)){const H=K3(B,g,B.origin??R);A?A=[[Math.min(H[0][0],A[0][0]),Math.min(H[0][1],A[0][1])],[Math.max(H[1][0],A[1][0]),Math.max(H[1][1],A[1][1])]]:A=H}p==null||p(M,{...m})}).on("drag",M=>{const{transform:z,snapGrid:D,snapToGrid:E,nodeOrigin:P}=n(),R=Zi(M.sourceEvent,{transform:z,snapGrid:D,snapToGrid:E,containerBounds:k}),F=[];if(!g)return;const{x:L,y:T,width:S,height:B}=m,H={},j=g.origin??P,{width:Y,height:Q,x:q,y:G}=W3(y,l.controlDirection,R,l.boundaries,l.keepAspectRatio,j,N,A),V=Y!==S,J=Q!==B,le=q!==L&&V,se=G!==T&&J;if(!le&&!se&&!V&&!J)return;if((le||se||j[0]===1||j[1]===1)&&(H.x=le?q:m.x,H.y=se?G:m.y,m.x=H.x,m.y=H.y,C.length>0)){const ve=q-L,ce=G-T;for(const Re of C)Re.position={x:Re.position.x-ve+j[0]*(Y-S),y:Re.position.y-ce+j[1]*(Q-B)},F.push(Re)}if((V||J)&&(H.width=V&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Y:m.width,H.height=J&&(!l.resizeDirection||l.resizeDirection==="vertical")?Q:m.height,m.width=H.width,m.height=H.height),w&&g.expandParent){const ve=j[0]*(H.width??0);H.x&&H.x<ve&&(m.x=ve,y.x=y.x-(H.x-ve));const ce=j[1]*(H.height??0);H.y&&H.y<ce&&(m.y=ce,y.y=y.y-(H.y-ce))}const re=U3({width:m.width,prevWidth:S,height:m.height,prevHeight:B,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),te={...m,direction:re};(b==null?void 0:b(M,te))!==!1&&(O=!0,x==null||x(M,te),r(H,F))}).on("end",M=>{O&&(v==null||v(M,{...m}),i==null||i({...m}),O=!1)});o.call(_)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var ey={exports:{}},ty={},ny={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=I;function Q3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Z3=typeof Object.is=="function"?Object.is:Q3,G3=pi.useState,J3=pi.useEffect,eS=pi.useLayoutEffect,tS=pi.useDebugValue;function nS(e,t){var n=t(),r=G3({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return eS(function(){i.value=n,i.getSnapshot=t,Ua(i)&&o({inst:i})},[e,n,t]),J3(function(){return Ua(i)&&o({inst:i}),e(function(){Ua(i)&&o({inst:i})})},[e]),tS(n),n}function Ua(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Z3(e,n)}catch{return!0}}function rS(e,t){return t()}var iS=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?rS:nS;ry.useSyncExternalStore=pi.useSyncExternalStore!==void 0?pi.useSyncExternalStore:iS;ny.exports=ry;var oS=ny.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Js=I,lS=oS;function sS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var aS=typeof Object.is=="function"?Object.is:sS,uS=lS.useSyncExternalStore,cS=Js.useRef,dS=Js.useEffect,fS=Js.useMemo,hS=Js.useDebugValue;ty.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=cS(null);if(o.current===null){var l={hasValue:!1,value:null};o.current=l}else l=o.current;o=fS(function(){function a(p){if(!u){if(u=!0,f=p,p=r(p),i!==void 0&&l.hasValue){var x=l.value;if(i(x,p))return c=x}return c=p}if(x=c,aS(f,p))return x;var v=r(p);return i!==void 0&&i(x,v)?(f=p,x):(f=p,c=v)}var u=!1,f,c,h=n===void 0?null:n;return[function(){return a(t())},h===null?void 0:function(){return a(h())}]},[t,n,r,i]);var s=uS(e,o[0],o[1]);return dS(function(){l.hasValue=!0,l.value=s},[s]),hS(s),s};ey.exports=ty;var pS=ey.exports;const gS=js(pS),mS={},sp=e=>{let t;const n=new Set,r=(f,c)=>{const h=typeof f=="function"?f(t):f;if(!Object.is(h,t)){const p=t;t=c??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,p))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(mS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,a);return a},xS=e=>e?sp(e):sp,{useDebugValue:yS}=Y0,{useSyncExternalStoreWithSelector:vS}=gS,wS=e=>e;function iy(e,t=wS,n){const r=vS(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return yS(r),r}const ap=(e,t)=>{const n=xS(e),r=(i,o=t)=>iy(n,i,o);return Object.assign(r,n),r},kS=(e,t)=>e?ap(e,t):ap;function Ae(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ea=I.createContext(null),bS=ea.Provider,oy=ln.error001();function xe(e,t){const n=I.useContext(ea);if(n===null)throw new Error(oy);return iy(n,e,t)}function Le(){const e=I.useContext(ea);if(e===null)throw new Error(oy);return I.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const up={display:"none"},SS={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ly="react-flow__node-desc",sy="react-flow__edge-desc",CS="react-flow__aria-live",NS=e=>e.ariaLiveMessage,ES=e=>e.ariaLabelConfig;function _S({rfId:e}){const t=xe(NS);return d.jsx("div",{id:`${CS}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:SS,children:t})}function jS({rfId:e,disableKeyboardA11y:t}){const n=xe(ES);return d.jsxs(d.Fragment,{children:[d.jsx("div",{id:`${ly}-${e}`,style:up,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),d.jsx("div",{id:`${sy}-${e}`,style:up,children:n["edge.a11yDescription.default"]}),!t&&d.jsx(_S,{rfId:e})]})}const ta=I.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const l=`${e}`.split("-");return d.jsx("div",{className:He(["react-flow__panel",n,...l]),style:r,ref:o,...i,children:t})});ta.displayName="Panel";function IS({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:d.jsx(ta,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const MS=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},xl=e=>e.id;function AS(e,t){return Ae(e.selectedNodes.map(xl),t.selectedNodes.map(xl))&&Ae(e.selectedEdges.map(xl),t.selectedEdges.map(xl))}function LS({onSelectionChange:e}){const t=Le(),{selectedNodes:n,selectedEdges:r}=xe(MS,AS);return I.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const TS=e=>!!e.onSelectionChangeHandlers;function PS({onSelectionChange:e}){const t=xe(TS);return e||t?d.jsx(LS,{onSelectionChange:e}):null}const ay=[0,0],zS={x:0,y:0,zoom:1},RS=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],cp=[...RS,"rfId"],DS=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),dp={translateExtent:So,nodeOrigin:ay,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function OS(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:l,reset:s,setDefaultNodesAndEdges:a}=xe(DS,Ae),u=Le();I.useEffect(()=>(a(e.defaultNodes,e.defaultEdges),()=>{f.current=dp,s()}),[]);const f=I.useRef(dp);return I.useEffect(()=>{for(const c of cp){const h=e[c],p=f.current[c];h!==p&&(typeof e[c]>"u"||(c==="nodes"?t(h):c==="edges"?n(h):c==="minZoom"?r(h):c==="maxZoom"?i(h):c==="translateExtent"?o(h):c==="nodeExtent"?l(h):c==="ariaLabelConfig"?u.setState({ariaLabelConfig:s3(h)}):c==="fitView"?u.setState({fitViewQueued:h}):c==="fitViewOptions"?u.setState({fitViewOptions:h}):u.setState({[c]:h})))}f.current=e},cp.map(c=>e[c])),null}function fp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function FS(e){var r;const[t,n]=I.useState(e==="system"?null:e);return I.useEffect(()=>{if(e!=="system"){n(e);return}const i=fp(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=fp())!=null&&r.matches?"dark":"light"}const hp=typeof document<"u"?document:null;function _o(e=null,t={target:hp,actInsideInputWithModifier:!0}){const[n,r]=I.useState(!1),i=I.useRef(!1),o=I.useRef(new Set([])),[l,s]=I.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(c=>typeof c=="string").map(c=>c.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((c,h)=>c.concat(...h),[]);return[u,f]}return[[],[]]},[e]);return I.useEffect(()=>{const a=(t==null?void 0:t.target)??hp,u=(t==null?void 0:t.actInsideInputWithModifier)??!0;if(e!==null){const f=p=>{var b,m;if(i.current=p.ctrlKey||p.metaKey||p.shiftKey||p.altKey,(!i.current||i.current&&!u)&&Dx(p))return!1;const v=gp(p.code,s);if(o.current.add(p[v]),pp(l,o.current,!1)){const y=((m=(b=p.composedPath)==null?void 0:b.call(p))==null?void 0:m[0])||p.target,g=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";t.preventDefault!==!1&&(i.current||!g)&&p.preventDefault(),r(!0)}},c=p=>{const x=gp(p.code,s);pp(l,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[x]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return a==null||a.addEventListener("keydown",f),a==null||a.addEventListener("keyup",c),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{a==null||a.removeEventListener("keydown",f),a==null||a.removeEventListener("keyup",c),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function pp(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function gp(e,t){return t.includes(e)?"code":"key"}const $S=()=>{const e=Le();return I.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:l,panZoom:s}=e.getState(),a=Rd(t,r,i,o,l,(n==null?void 0:n.padding)??.1);return s?(await s.setViewport(a,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:l}=e.getState();if(!l)return t;const{x:s,y:a}=l.getBoundingClientRect(),u={x:t.x-s,y:t.y-a},f=n.snapGrid??i,c=n.snapToGrid??o;return Ho(u,r,c,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),l=bs(t,n);return{x:l.x+i,y:l.y+o}}}),[])};function uy(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const l=r.get(o.id);l?l.push(o):r.set(o.id,[o])}for(const o of t){const l=r.get(o.id);if(!l){n.push(o);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const s={...o};for(const a of l)BS(a,s);n.push(s)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function BS(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function HS(e,t){return uy(e,t)}function VS(e,t){return uy(e,t)}function ir(e,t){return{id:e,type:"select",selected:t}}function Ur(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const l=t.has(i);!(o.selected===void 0&&!l)&&o.selected!==l&&(n&&(o.selected=l),r.push(ir(o.id,l)))}return r}function mp({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,l]of e.entries()){const s=t.get(l.id),a=((i=s==null?void 0:s.internals)==null?void 0:i.userNode)??s;a!==void 0&&a!==l&&n.push({id:l.id,item:l,type:"replace"}),a===void 0&&n.push({item:l,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function xp(e){return{id:e.id,type:"remove"}}const yp=e=>Z4(e),US=e=>Ix(e);function cy(e){return I.forwardRef(e)}const WS=typeof window<"u"?I.useLayoutEffect:I.useEffect;function vp(e){const[t,n]=I.useState(BigInt(0)),[r]=I.useState(()=>YS(()=>n(i=>i+BigInt(1))));return WS(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function YS(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const dy=I.createContext(null);function XS({children:e}){const t=Le(),n=I.useCallback(s=>{const{nodes:a=[],setNodes:u,hasDefaultNodes:f,onNodesChange:c,nodeLookup:h,fitViewQueued:p,onNodesChangeMiddlewareMap:x}=t.getState();let v=a;for(const m of s)v=typeof m=="function"?m(v):m;let b=mp({items:v,lookup:h});for(const m of x.values())b=m(b);f&&u(v),b.length>0?c==null||c(b):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:y,setNodes:g}=t.getState();m&&g(y)})},[]),r=vp(n),i=I.useCallback(s=>{const{edges:a=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:c,edgeLookup:h}=t.getState();let p=a;for(const x of s)p=typeof x=="function"?x(p):x;f?u(p):c&&c(mp({items:p,lookup:h}))},[]),o=vp(i),l=I.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return d.jsx(dy.Provider,{value:l,children:e})}function KS(){const e=I.useContext(dy);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const qS=e=>!!e.panZoom;function Vd(){const e=$S(),t=Le(),n=KS(),r=xe(qS),i=I.useMemo(()=>{const o=c=>t.getState().nodeLookup.get(c),l=c=>{n.nodeQueue.push(c)},s=c=>{n.edgeQueue.push(c)},a=c=>{var m,y;const{nodeLookup:h,nodeOrigin:p}=t.getState(),x=yp(c)?c:h.get(c.id),v=x.parentId?zx(x.position,x.measured,x.parentId,h,p):x.position,b={...x,position:v,width:((m=x.measured)==null?void 0:m.width)??x.width,height:((y=x.measured)==null?void 0:y.height)??x.height};return di(b)},u=(c,h,p={replace:!1})=>{l(x=>x.map(v=>{if(v.id===c){const b=typeof h=="function"?h(v):h;return p.replace&&yp(b)?b:{...v,...b}}return v}))},f=(c,h,p={replace:!1})=>{s(x=>x.map(v=>{if(v.id===c){const b=typeof h=="function"?h(v):h;return p.replace&&US(b)?b:{...v,...b}}return v}))};return{getNodes:()=>t.getState().nodes.map(c=>({...c})),getNode:c=>{var h;return(h=o(c))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:c=[]}=t.getState();return c.map(h=>({...h}))},getEdge:c=>t.getState().edgeLookup.get(c),setNodes:l,setEdges:s,addNodes:c=>{const h=Array.isArray(c)?c:[c];n.nodeQueue.push(p=>[...p,...h])},addEdges:c=>{const h=Array.isArray(c)?c:[c];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:c=[],edges:h=[],transform:p}=t.getState(),[x,v,b]=p;return{nodes:c.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x,y:v,zoom:b}}},deleteElements:async({nodes:c=[],edges:h=[]})=>{const{nodes:p,edges:x,onNodesDelete:v,onEdgesDelete:b,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:g,onBeforeDelete:k}=t.getState(),{nodes:C,edges:w}=await n3({nodesToRemove:c,edgesToRemove:h,nodes:p,edges:x,onBeforeDelete:k}),N=w.length>0,A=C.length>0;if(N){const O=w.map(xp);b==null||b(w),y(O)}if(A){const O=C.map(xp);v==null||v(C),m(O)}return(A||N)&&(g==null||g({nodes:C,edges:w})),{deletedNodes:C,deletedEdges:w}},getIntersectingNodes:(c,h=!0,p)=>{const x=Kh(c),v=x?c:a(c),b=p!==void 0;return v?(p||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!x&&(m.id===c.id||!y.internals.positionAbsolute))return!1;const g=di(b?m:y),k=No(g,v);return h&&k>0||k>=g.width*g.height||k>=v.width*v.height}):[]},isNodeIntersecting:(c,h,p=!0)=>{const v=Kh(c)?c:a(c);if(!v)return!1;const b=No(v,h);return p&&b>0||b>=h.width*h.height||b>=v.width*v.height},updateNode:u,updateNodeData:(c,h,p={replace:!1})=>{u(c,x=>{const v=typeof h=="function"?h(x):h;return p.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},p)},updateEdge:f,updateEdgeData:(c,h,p={replace:!1})=>{f(c,x=>{const v=typeof h=="function"?h(x):h;return p.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},p)},getNodesBounds:c=>{const{nodeLookup:h,nodeOrigin:p}=t.getState();return G4(c,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:c,id:h,nodeId:p})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${p}-${c}${h?`-${h}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:c,handleId:h,nodeId:p})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${p}${c?h?`-${c}-${h}`:`-${c}`:""}`))==null?void 0:x.values())??[])},fitView:async c=>{const h=t.getState().fitViewResolver??l3();return t.setState({fitViewQueued:!0,fitViewOptions:c,fitViewResolver:h}),n.nodeQueue.push(p=>[...p]),h.promise}}},[]);return I.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const wp=e=>e.selected,QS=typeof window<"u"?window:void 0;function ZS({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Le(),{deleteElements:r}=Vd(),i=_o(e,{actInsideInputWithModifier:!1}),o=_o(t,{target:QS});I.useEffect(()=>{if(i){const{edges:l,nodes:s}=n.getState();r({nodes:s.filter(wp),edges:l.filter(wp)}),n.setState({nodesSelectionActive:!1})}},[i]),I.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function GS(e){const t=Le();I.useEffect(()=>{const n=()=>{var i,o,l,s;if(!e.current||!(((o=(i=e.current).checkVisibility)==null?void 0:o.call(i))??!0))return!1;const r=Dd(e.current);(r.height===0||r.width===0)&&((s=(l=t.getState()).onError)==null||s.call(l,"004",ln.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const na={position:"absolute",width:"100%",height:"100%",top:0,left:0},JS=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function eC({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=hr.Free,zoomOnDoubleClick:l=!0,panOnDrag:s=!0,defaultViewport:a,translateExtent:u,minZoom:f,maxZoom:c,zoomActivationKeyCode:h,preventScrolling:p=!0,children:x,noWheelClassName:v,noPanClassName:b,onViewportChange:m,isControlledViewport:y,paneClickDistance:g,selectionOnDrag:k}){const C=Le(),w=I.useRef(null),{userSelectionActive:N,lib:A,connectionInProgress:O}=xe(JS,Ae),_=_o(h),M=I.useRef();GS(w);const z=I.useCallback(D=>{m==null||m({x:D[0],y:D[1],zoom:D[2]}),y||C.setState({transform:D})},[m,y]);return I.useEffect(()=>{if(w.current){M.current=V3({domNode:w.current,minZoom:f,maxZoom:c,translateExtent:u,viewport:a,onDraggingChange:R=>C.setState({paneDragging:R}),onPanZoomStart:(R,F)=>{const{onViewportChangeStart:L,onMoveStart:T}=C.getState();T==null||T(R,F),L==null||L(F)},onPanZoom:(R,F)=>{const{onViewportChange:L,onMove:T}=C.getState();T==null||T(R,F),L==null||L(F)},onPanZoomEnd:(R,F)=>{const{onViewportChangeEnd:L,onMoveEnd:T}=C.getState();T==null||T(R,F),L==null||L(F)}});const{x:D,y:E,zoom:P}=M.current.getViewport();return C.setState({panZoom:M.current,transform:[D,E,P],domNode:w.current.closest(".react-flow")}),()=>{var R;(R=M.current)==null||R.destroy()}}},[]),I.useEffect(()=>{var D;(D=M.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:l,panOnDrag:s,zoomActivationKeyPressed:_,preventScrolling:p,noPanClassName:b,userSelectionActive:N,noWheelClassName:v,lib:A,onTransformChange:z,connectionInProgress:O,selectionOnDrag:k,paneClickDistance:g})},[e,t,n,r,i,o,l,s,_,p,b,N,v,A,z,O,k,g]),d.jsx("div",{className:"react-flow__renderer",ref:w,style:na,children:x})}const tC=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function nC(){const{userSelectionActive:e,userSelectionRect:t}=xe(tC,Ae);return e&&t?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const Wa=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},rC=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function iC({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Co.Full,panOnDrag:r,paneClickDistance:i,selectionOnDrag:o,onSelectionStart:l,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:u,onPaneScroll:f,onPaneMouseEnter:c,onPaneMouseMove:h,onPaneMouseLeave:p,children:x}){const v=Le(),{userSelectionActive:b,elementsSelectable:m,dragging:y,connectionInProgress:g}=xe(rC,Ae),k=m&&(e||b),C=I.useRef(null),w=I.useRef(),N=I.useRef(new Set),A=I.useRef(new Set),O=I.useRef(!1),_=L=>{if(O.current||g){O.current=!1;return}a==null||a(L),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},M=L=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){L.preventDefault();return}u==null||u(L)},z=f?L=>f(L):void 0,D=L=>{O.current&&(L.stopPropagation(),O.current=!1)},E=L=>{var Q,q;const{domNode:T}=v.getState();if(w.current=T==null?void 0:T.getBoundingClientRect(),!w.current)return;const S=L.target===C.current;if(!S&&!!L.target.closest(".nokey")||!e||!(o&&S||t)||L.button!==0||!L.isPrimary)return;(q=(Q=L.target)==null?void 0:Q.setPointerCapture)==null||q.call(Q,L.pointerId),O.current=!1;const{x:j,y:Y}=Ut(L.nativeEvent,w.current);v.setState({userSelectionRect:{width:0,height:0,startX:j,startY:Y,x:j,y:Y}}),S||(L.stopPropagation(),L.preventDefault())},P=L=>{const{userSelectionRect:T,transform:S,nodeLookup:B,edgeLookup:H,connectionLookup:j,triggerNodeChanges:Y,triggerEdgeChanges:Q,defaultEdgeOptions:q,resetSelectedElements:G}=v.getState();if(!w.current||!T)return;const{x:V,y:J}=Ut(L.nativeEvent,w.current),{startX:le,startY:se}=T;if(!O.current){const ce=t?0:i;if(Math.hypot(V-le,J-se)<=ce)return;G(),l==null||l(L)}O.current=!0;const re={startX:le,startY:se,x:V<le?V:le,y:J<se?J:se,width:Math.abs(V-le),height:Math.abs(J-se)},te=N.current,pe=A.current;N.current=new Set(zd(B,re,S,n===Co.Partial,!0).map(ce=>ce.id)),A.current=new Set;const ve=(q==null?void 0:q.selectable)??!0;for(const ce of N.current){const Re=j.get(ce);if(Re)for(const{edgeId:K}of Re.values()){const ne=H.get(K);ne&&(ne.selectable??ve)&&A.current.add(K)}}if(!qh(te,N.current)){const ce=Ur(B,N.current,!0);Y(ce)}if(!qh(pe,A.current)){const ce=Ur(H,A.current);Q(ce)}v.setState({userSelectionRect:re,userSelectionActive:!0,nodesSelectionActive:!1})},R=L=>{var T,S;L.button===0&&((S=(T=L.target)==null?void 0:T.releasePointerCapture)==null||S.call(T,L.pointerId),!b&&L.target===C.current&&v.getState().userSelectionRect&&(_==null||_(L)),v.setState({userSelectionActive:!1,userSelectionRect:null}),O.current&&(s==null||s(L),v.setState({nodesSelectionActive:N.current.size>0})))},F=r===!0||Array.isArray(r)&&r.includes(0);return d.jsxs("div",{className:He(["react-flow__pane",{draggable:F,dragging:y,selection:e}]),onClick:k?void 0:Wa(_,C),onContextMenu:Wa(M,C),onWheel:Wa(z,C),onPointerEnter:k?void 0:c,onPointerMove:k?P:h,onPointerUp:k?R:void 0,onPointerDownCapture:k?E:void 0,onClickCapture:k?D:void 0,onPointerLeave:p,ref:C,style:na,children:[x,d.jsx(nC,{})]})}function yc({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:l,nodeLookup:s,onError:a}=t.getState(),u=s.get(e);if(!u){a==null||a("012",ln.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&l)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function fy({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:l}){const s=Le(),[a,u]=I.useState(!1),f=I.useRef();return I.useEffect(()=>{f.current=I3({getStoreItems:()=>s.getState(),onNodeMouseDown:c=>{yc({id:c,store:s,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),I.useEffect(()=>{var c,h;if(t)(c=f.current)==null||c.destroy();else if(e.current)return(h=f.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:l}),()=>{var p;(p=f.current)==null||p.destroy()}},[n,r,t,o,e,i]),a}const oC=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function hy(){const e=Le();return I.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:l,onError:s,updateNodePositions:a,nodeLookup:u,nodeOrigin:f}=e.getState(),c=new Map,h=oC(l),p=i?o[0]:5,x=i?o[1]:5,v=n.direction.x*p*n.factor,b=n.direction.y*x*n.factor;for(const[,m]of u){if(!h(m))continue;let y={x:m.internals.positionAbsolute.x+v,y:m.internals.positionAbsolute.y+b};i&&(y=Bo(y,o));const{position:g,positionAbsolute:k}=Mx({nodeId:m.id,nextPosition:y,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:s});m.position=g,m.internals.positionAbsolute=k,c.set(m.id,m)}a(c)},[])}const Ud=I.createContext(null),lC=Ud.Provider;Ud.Consumer;const py=()=>I.useContext(Ud),sC=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),aC=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:l}=r,{fromHandle:s,toHandle:a,isValid:u}=l,f=(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n;return{connectingFrom:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.id)===t&&(s==null?void 0:s.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===ui.Strict?(s==null?void 0:s.type)!==n:e!==(s==null?void 0:s.nodeId)||t!==(s==null?void 0:s.id),connectionInProcess:!!s,clickConnectionInProcess:!!i,valid:f&&u}};function uC({type:e="source",position:t=ee.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:l,onConnect:s,children:a,className:u,onMouseDown:f,onTouchStart:c,...h},p){var P,R;const x=l||null,v=e==="target",b=Le(),m=py(),{connectOnClick:y,noPanClassName:g,rfId:k}=xe(sC,Ae),{connectingFrom:C,connectingTo:w,clickConnecting:N,isPossibleEndHandle:A,connectionInProcess:O,clickConnectionInProcess:_,valid:M}=xe(aC(m,x,e),Ae);m||(R=(P=b.getState()).onError)==null||R.call(P,"010",ln.error010());const z=F=>{const{defaultEdgeOptions:L,onConnect:T,hasDefaultEdges:S}=b.getState(),B={...L,...F};if(S){const{edges:H,setEdges:j}=b.getState();j(h3(B,H))}T==null||T(B),s==null||s(B)},D=F=>{if(!m)return;const L=Ox(F.nativeEvent);if(i&&(L&&F.button===0||!L)){const T=b.getState();xc.onPointerDown(F.nativeEvent,{handleDomNode:F.currentTarget,autoPanOnConnect:T.autoPanOnConnect,connectionMode:T.connectionMode,connectionRadius:T.connectionRadius,domNode:T.domNode,nodeLookup:T.nodeLookup,lib:T.lib,isTarget:v,handleId:x,nodeId:m,flowId:T.rfId,panBy:T.panBy,cancelConnection:T.cancelConnection,onConnectStart:T.onConnectStart,onConnectEnd:T.onConnectEnd,updateConnection:T.updateConnection,onConnect:z,isValidConnection:n||T.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:T.autoPanSpeed,dragThreshold:T.connectionDragThreshold})}L?f==null||f(F):c==null||c(F)},E=F=>{const{onClickConnectStart:L,onClickConnectEnd:T,connectionClickStartHandle:S,connectionMode:B,isValidConnection:H,lib:j,rfId:Y,nodeLookup:Q,connection:q}=b.getState();if(!m||!S&&!i)return;if(!S){L==null||L(F.nativeEvent,{nodeId:m,handleId:x,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,id:x}});return}const G=Rx(F.target),V=n||H,{connection:J,isValid:le}=xc.isValid(F.nativeEvent,{handle:{nodeId:m,id:x,type:e},connectionMode:B,fromNodeId:S.nodeId,fromHandleId:S.id||null,fromType:S.type,isValidConnection:V,flowId:Y,doc:G,lib:j,nodeLookup:Q});le&&J&&z(J);const se=structuredClone(q);delete se.inProgress,se.toPosition=se.toHandle?se.toHandle.position:null,T==null||T(F,se),b.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":x,"data-nodeid":m,"data-handlepos":t,"data-id":`${k}-${m}-${x}-${e}`,className:He(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",g,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,clickconnecting:N,connectingfrom:C,connectingto:w,valid:M,connectionindicator:r&&(!O||A)&&(O||_?o:i)}]),onMouseDown:D,onTouchStart:D,onClick:y?E:void 0,ref:p,...h,children:a})}const gi=I.memo(cy(uC));function cC({data:e,isConnectable:t,sourcePosition:n=ee.Bottom}){return d.jsxs(d.Fragment,{children:[e==null?void 0:e.label,d.jsx(gi,{type:"source",position:n,isConnectable:t})]})}function dC({data:e,isConnectable:t,targetPosition:n=ee.Top,sourcePosition:r=ee.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(gi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,d.jsx(gi,{type:"source",position:r,isConnectable:t})]})}function fC(){return null}function hC({data:e,isConnectable:t,targetPosition:n=ee.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(gi,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const Ss={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},kp={input:cC,default:dC,output:hC,group:fC};function pC(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const gC=e=>{const{width:t,height:n,x:r,y:i}=$o(e.nodeLookup,{filter:o=>!!o.selected});return{width:Vt(t)?t:null,height:Vt(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function mC({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Le(),{width:i,height:o,transformString:l,userSelectionActive:s}=xe(gC,Ae),a=hy(),u=I.useRef(null);if(I.useEffect(()=>{var h;n||(h=u.current)==null||h.focus({preventScroll:!0})},[n]),fy({nodeRef:u}),s||!i||!o)return null;const f=e?h=>{const p=r.getState().nodes.filter(x=>x.selected);e(h,p)}:void 0,c=h=>{Object.prototype.hasOwnProperty.call(Ss,h.key)&&(h.preventDefault(),a({direction:Ss[h.key],factor:h.shiftKey?4:1}))};return d.jsx("div",{className:He(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:d.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:c,style:{width:i,height:o}})})}const bp=typeof window<"u"?window:void 0,xC=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function gy({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,paneClickDistance:s,deleteKeyCode:a,selectionKeyCode:u,selectionOnDrag:f,selectionMode:c,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:g,panOnScroll:k,panOnScrollSpeed:C,panOnScrollMode:w,zoomOnDoubleClick:N,panOnDrag:A,defaultViewport:O,translateExtent:_,minZoom:M,maxZoom:z,preventScrolling:D,onSelectionContextMenu:E,noWheelClassName:P,noPanClassName:R,disableKeyboardA11y:F,onViewportChange:L,isControlledViewport:T}){const{nodesSelectionActive:S,userSelectionActive:B}=xe(xC,Ae),H=_o(u,{target:bp}),j=_o(v,{target:bp}),Y=j||A,Q=j||k,q=f&&Y!==!0,G=H||B||q;return ZS({deleteKeyCode:a,multiSelectionKeyCode:x}),d.jsx(eC,{onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:g,panOnScroll:Q,panOnScrollSpeed:C,panOnScrollMode:w,zoomOnDoubleClick:N,panOnDrag:!H&&Y,defaultViewport:O,translateExtent:_,minZoom:M,maxZoom:z,zoomActivationKeyCode:b,preventScrolling:D,noWheelClassName:P,noPanClassName:R,onViewportChange:L,isControlledViewport:T,paneClickDistance:s,selectionOnDrag:q,children:d.jsxs(iC,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:l,panOnDrag:Y,isSelecting:!!G,selectionMode:c,selectionKeyPressed:H,paneClickDistance:s,selectionOnDrag:q,children:[e,S&&d.jsx(mC,{onSelectionContextMenu:E,noPanClassName:R,disableKeyboardA11y:F})]})})}gy.displayName="FlowRenderer";const yC=I.memo(gy),vC=e=>t=>e?zd(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function wC(e){return xe(I.useCallback(vC(e),[e]),Ae)}const kC=e=>e.updateNodeInternals;function bC(){const e=xe(kC),[t]=I.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return I.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function SC({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Le(),o=I.useRef(null),l=I.useRef(null),s=I.useRef(e.sourcePosition),a=I.useRef(e.targetPosition),u=I.useRef(t),f=n&&!!e.internals.handleBounds;return I.useEffect(()=>{o.current&&!e.hidden&&(!f||l.current!==o.current)&&(l.current&&(r==null||r.unobserve(l.current)),r==null||r.observe(o.current),l.current=o.current)},[f,e.hidden]),I.useEffect(()=>()=>{l.current&&(r==null||r.unobserve(l.current),l.current=null)},[]),I.useEffect(()=>{if(o.current){const c=u.current!==t,h=s.current!==e.sourcePosition,p=a.current!==e.targetPosition;(c||h||p)&&(u.current=t,s.current=e.sourcePosition,a.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function CC({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:l,nodesDraggable:s,elementsSelectable:a,nodesConnectable:u,nodesFocusable:f,resizeObserver:c,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:x,rfId:v,nodeTypes:b,nodeClickDistance:m,onError:y}){const{node:g,internals:k,isParent:C}=xe(V=>{const J=V.nodeLookup.get(e),le=V.parentLookup.has(e);return{node:J,internals:J.internals,isParent:le}},Ae);let w=g.type||"default",N=(b==null?void 0:b[w])||kp[w];N===void 0&&(y==null||y("003",ln.error003(w)),w="default",N=(b==null?void 0:b.default)||kp.default);const A=!!(g.draggable||s&&typeof g.draggable>"u"),O=!!(g.selectable||a&&typeof g.selectable>"u"),_=!!(g.connectable||u&&typeof g.connectable>"u"),M=!!(g.focusable||f&&typeof g.focusable>"u"),z=Le(),D=Px(g),E=SC({node:g,nodeType:w,hasDimensions:D,resizeObserver:c}),P=fy({nodeRef:E,disabled:g.hidden||!A,noDragClassName:h,handleSelector:g.dragHandle,nodeId:e,isSelectable:O,nodeClickDistance:m}),R=hy();if(g.hidden)return null;const F=Cn(g),L=pC(g),T=O||A||t||n||r||i,S=n?V=>n(V,{...k.userNode}):void 0,B=r?V=>r(V,{...k.userNode}):void 0,H=i?V=>i(V,{...k.userNode}):void 0,j=o?V=>o(V,{...k.userNode}):void 0,Y=l?V=>l(V,{...k.userNode}):void 0,Q=V=>{const{selectNodesOnDrag:J,nodeDragThreshold:le}=z.getState();O&&(!J||!A||le>0)&&yc({id:e,store:z,nodeRef:E}),t&&t(V,{...k.userNode})},q=V=>{if(!(Dx(V.nativeEvent)||x)){if(Nx.includes(V.key)&&O){const J=V.key==="Escape";yc({id:e,store:z,unselect:J,nodeRef:E})}else if(A&&g.selected&&Object.prototype.hasOwnProperty.call(Ss,V.key)){V.preventDefault();const{ariaLabelConfig:J}=z.getState();z.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:V.key.replace("Arrow","").toLowerCase(),x:~~k.positionAbsolute.x,y:~~k.positionAbsolute.y})}),R({direction:Ss[V.key],factor:V.shiftKey?4:1})}}},G=()=>{var pe;if(x||!((pe=E.current)!=null&&pe.matches(":focus-visible")))return;const{transform:V,width:J,height:le,autoPanOnNodeFocus:se,setCenter:re}=z.getState();if(!se)return;zd(new Map([[e,g]]),{x:0,y:0,width:J,height:le},V,!0).length>0||re(g.position.x+F.width/2,g.position.y+F.height/2,{zoom:V[2]})};return d.jsx("div",{className:He(["react-flow__node",`react-flow__node-${w}`,{[p]:A},g.className,{selected:g.selected,selectable:O,parent:C,draggable:A,dragging:P}]),ref:E,style:{zIndex:k.z,transform:`translate(${k.positionAbsolute.x}px,${k.positionAbsolute.y}px)`,pointerEvents:T?"all":"none",visibility:D?"visible":"hidden",...g.style,...L},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:S,onMouseMove:B,onMouseLeave:H,onContextMenu:j,onClick:Q,onDoubleClick:Y,onKeyDown:M?q:void 0,tabIndex:M?0:void 0,onFocus:M?G:void 0,role:g.ariaRole??(M?"group":void 0),"aria-roledescription":"node","aria-describedby":x?void 0:`${ly}-${v}`,"aria-label":g.ariaLabel,...g.domAttributes,children:d.jsx(lC,{value:e,children:d.jsx(N,{id:e,data:g.data,type:w,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:g.selected??!1,selectable:O,draggable:A,deletable:g.deletable??!0,isConnectable:_,sourcePosition:g.sourcePosition,targetPosition:g.targetPosition,dragging:P,dragHandle:g.dragHandle,zIndex:k.z,parentId:g.parentId,...F})})})}var NC=I.memo(CC);const EC=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function my(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=xe(EC,Ae),l=wC(e.onlyRenderVisibleElements),s=bC();return d.jsx("div",{className:"react-flow__nodes",style:na,children:l.map(a=>d.jsx(NC,{id:a,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:s,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},a))})}my.displayName="NodeRenderer";const _C=I.memo(my);function jC(e){return xe(I.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),l=n.nodeLookup.get(i.target);o&&l&&c3({sourceNode:o,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Ae)}const IC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return d.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},MC=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return d.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},Sp={[ws.Arrow]:IC,[ws.ArrowClosed]:MC};function AC(e){const t=Le();return I.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Sp,e)?Sp[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",ln.error009(e)),null)},[e])}const LC=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:l,orient:s="auto-start-reverse"})=>{const a=AC(t);return a?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0",children:d.jsx(a,{color:n,strokeWidth:l})}):null},xy=({defaultColor:e,rfId:t})=>{const n=xe(o=>o.edges),r=xe(o=>o.defaultEdgeOptions),i=I.useMemo(()=>y3(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:i.map(o=>d.jsx(LC,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};xy.displayName="MarkerDefinitions";var TC=I.memo(xy);function yy({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:l=[2,4],labelBgBorderRadius:s=2,children:a,className:u,...f}){const[c,h]=I.useState({x:1,y:0,width:0,height:0}),p=He(["react-flow__edge-textwrapper",u]),x=I.useRef(null);return I.useEffect(()=>{if(x.current){const v=x.current.getBBox();h({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),n?d.jsxs("g",{transform:`translate(${e-c.width/2} ${t-c.height/2})`,className:p,visibility:c.width?"visible":"hidden",...f,children:[i&&d.jsx("rect",{width:c.width+2*l[0],x:-l[0],y:-l[1],height:c.height+2*l[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),d.jsx("text",{className:"react-flow__edge-text",y:c.height/2,dy:"0.3em",ref:x,style:r,children:n}),a]}):null}yy.displayName="EdgeText";const PC=I.memo(yy);function ra({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:a,interactionWidth:u=20,...f}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...f,d:e,fill:"none",className:He(["react-flow__edge-path",f.className])}),u?d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}):null,r&&Vt(t)&&Vt(n)?d.jsx(PC,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:s,labelBgBorderRadius:a}):null]})}function Cp({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ee.Left||e===ee.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function vy({sourceX:e,sourceY:t,sourcePosition:n=ee.Bottom,targetX:r,targetY:i,targetPosition:o=ee.Top}){const[l,s]=Cp({pos:n,x1:e,y1:t,x2:r,y2:i}),[a,u]=Cp({pos:o,x1:r,y1:i,x2:e,y2:t}),[f,c,h,p]=Fx({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:l,sourceControlY:s,targetControlX:a,targetControlY:u});return[`M${e},${t} C${l},${s} ${a},${u} ${r},${i}`,f,c,h,p]}function wy(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l,targetPosition:s,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:b,interactionWidth:m})=>{const[y,g,k]=vy({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:s}),C=e.isInternal?void 0:t;return d.jsx(ra,{id:C,path:y,labelX:g,labelY:k,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:b,interactionWidth:m})})}const zC=wy({isInternal:!1}),ky=wy({isInternal:!0});zC.displayName="SimpleBezierEdge";ky.displayName="SimpleBezierEdgeInternal";function by(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,sourcePosition:p=ee.Bottom,targetPosition:x=ee.Top,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[g,k,C]=pc({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:x,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset,stepPosition:m==null?void 0:m.stepPosition}),w=e.isInternal?void 0:t;return d.jsx(ra,{id:w,path:g,labelX:k,labelY:C,label:l,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:v,markerStart:b,interactionWidth:y})})}const Sy=by({isInternal:!1}),Cy=by({isInternal:!0});Sy.displayName="SmoothStepEdge";Cy.displayName="SmoothStepEdgeInternal";function Ny(e){return I.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return d.jsx(Sy,{...n,id:r,pathOptions:I.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const RC=Ny({isInternal:!1}),Ey=Ny({isInternal:!0});RC.displayName="StepEdge";Ey.displayName="StepEdgeInternal";function _y(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:l,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:p,markerStart:x,interactionWidth:v})=>{const[b,m,y]=Hx({sourceX:n,sourceY:r,targetX:i,targetY:o}),g=e.isInternal?void 0:t;return d.jsx(ra,{id:g,path:b,labelX:m,labelY:y,label:l,labelStyle:s,labelShowBg:a,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:c,style:h,markerEnd:p,markerStart:x,interactionWidth:v})})}const DC=_y({isInternal:!1}),jy=_y({isInternal:!0});DC.displayName="StraightEdge";jy.displayName="StraightEdgeInternal";function Iy(e){return I.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:l=ee.Bottom,targetPosition:s=ee.Top,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[g,k,C]=$x({sourceX:n,sourceY:r,sourcePosition:l,targetX:i,targetY:o,targetPosition:s,curvature:m==null?void 0:m.curvature}),w=e.isInternal?void 0:t;return d.jsx(ra,{id:w,path:g,labelX:k,labelY:C,label:a,labelStyle:u,labelShowBg:f,labelBgStyle:c,labelBgPadding:h,labelBgBorderRadius:p,style:x,markerEnd:v,markerStart:b,interactionWidth:y})})}const OC=Iy({isInternal:!1}),My=Iy({isInternal:!0});OC.displayName="BezierEdge";My.displayName="BezierEdgeInternal";const Np={default:My,straight:jy,step:Ey,smoothstep:Cy,simplebezier:ky},Ep={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},FC=(e,t,n)=>n===ee.Left?e-t:n===ee.Right?e+t:e,$C=(e,t,n)=>n===ee.Top?e-t:n===ee.Bottom?e+t:e,_p="react-flow__edgeupdater";function jp({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:l,type:s}){return d.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:l,className:He([_p,`${_p}-${s}`]),cx:FC(t,r,e),cy:$C(n,r,e),r,stroke:"transparent",fill:"transparent"})}function BC({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:l,sourcePosition:s,targetPosition:a,onReconnect:u,onReconnectStart:f,onReconnectEnd:c,setReconnecting:h,setUpdateHover:p}){const x=Le(),v=(k,C)=>{if(k.button!==0)return;const{autoPanOnConnect:w,domNode:N,isValidConnection:A,connectionMode:O,connectionRadius:_,lib:M,onConnectStart:z,onConnectEnd:D,cancelConnection:E,nodeLookup:P,rfId:R,panBy:F,updateConnection:L}=x.getState(),T=C.type==="target",S=(j,Y)=>{h(!1),c==null||c(j,n,C.type,Y)},B=j=>u==null?void 0:u(n,j),H=(j,Y)=>{h(!0),f==null||f(k,n,C.type),z==null||z(j,Y)};xc.onPointerDown(k.nativeEvent,{autoPanOnConnect:w,connectionMode:O,connectionRadius:_,domNode:N,handleId:C.id,nodeId:C.nodeId,nodeLookup:P,isTarget:T,edgeUpdaterType:C.type,lib:M,flowId:R,cancelConnection:E,panBy:F,isValidConnection:A,onConnect:B,onConnectStart:H,onConnectEnd:D,onReconnectEnd:S,updateConnection:L,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,dragThreshold:x.getState().connectionDragThreshold,handleDomNode:k.currentTarget})},b=k=>v(k,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),m=k=>v(k,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>p(!0),g=()=>p(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(jp,{position:s,centerX:r,centerY:i,radius:t,onMouseDown:b,onMouseEnter:y,onMouseOut:g,type:"source"}),(e===!0||e==="target")&&d.jsx(jp,{position:a,centerX:o,centerY:l,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:g,type:"target"})]})}function HC({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:l,onMouseEnter:s,onMouseMove:a,onMouseLeave:u,reconnectRadius:f,onReconnect:c,onReconnectStart:h,onReconnectEnd:p,rfId:x,edgeTypes:v,noPanClassName:b,onError:m,disableKeyboardA11y:y}){let g=xe(re=>re.edgeLookup.get(e));const k=xe(re=>re.defaultEdgeOptions);g=k?{...k,...g}:g;let C=g.type||"default",w=(v==null?void 0:v[C])||Np[C];w===void 0&&(m==null||m("011",ln.error011(C)),C="default",w=(v==null?void 0:v.default)||Np.default);const N=!!(g.focusable||t&&typeof g.focusable>"u"),A=typeof c<"u"&&(g.reconnectable||n&&typeof g.reconnectable>"u"),O=!!(g.selectable||r&&typeof g.selectable>"u"),_=I.useRef(null),[M,z]=I.useState(!1),[D,E]=I.useState(!1),P=Le(),{zIndex:R,sourceX:F,sourceY:L,targetX:T,targetY:S,sourcePosition:B,targetPosition:H}=xe(I.useCallback(re=>{const te=re.nodeLookup.get(g.source),pe=re.nodeLookup.get(g.target);if(!te||!pe)return{zIndex:g.zIndex,...Ep};const ve=x3({id:e,sourceNode:te,targetNode:pe,sourceHandle:g.sourceHandle||null,targetHandle:g.targetHandle||null,connectionMode:re.connectionMode,onError:m});return{zIndex:u3({selected:g.selected,zIndex:g.zIndex,sourceNode:te,targetNode:pe,elevateOnSelect:re.elevateEdgesOnSelect,zIndexMode:re.zIndexMode}),...ve||Ep}},[g.source,g.target,g.sourceHandle,g.targetHandle,g.selected,g.zIndex]),Ae),j=I.useMemo(()=>g.markerStart?`url('#${gc(g.markerStart,x)}')`:void 0,[g.markerStart,x]),Y=I.useMemo(()=>g.markerEnd?`url('#${gc(g.markerEnd,x)}')`:void 0,[g.markerEnd,x]);if(g.hidden||F===null||L===null||T===null||S===null)return null;const Q=re=>{var ce;const{addSelectedEdges:te,unselectNodesAndEdges:pe,multiSelectionActive:ve}=P.getState();O&&(P.setState({nodesSelectionActive:!1}),g.selected&&ve?(pe({nodes:[],edges:[g]}),(ce=_.current)==null||ce.blur()):te([e])),i&&i(re,g)},q=o?re=>{o(re,{...g})}:void 0,G=l?re=>{l(re,{...g})}:void 0,V=s?re=>{s(re,{...g})}:void 0,J=a?re=>{a(re,{...g})}:void 0,le=u?re=>{u(re,{...g})}:void 0,se=re=>{var te;if(!y&&Nx.includes(re.key)&&O){const{unselectNodesAndEdges:pe,addSelectedEdges:ve}=P.getState();re.key==="Escape"?((te=_.current)==null||te.blur(),pe({edges:[g]})):ve([e])}};return d.jsx("svg",{style:{zIndex:R},children:d.jsxs("g",{className:He(["react-flow__edge",`react-flow__edge-${C}`,g.className,b,{selected:g.selected,animated:g.animated,inactive:!O&&!i,updating:M,selectable:O}]),onClick:Q,onDoubleClick:q,onContextMenu:G,onMouseEnter:V,onMouseMove:J,onMouseLeave:le,onKeyDown:N?se:void 0,tabIndex:N?0:void 0,role:g.ariaRole??(N?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":g.ariaLabel===null?void 0:g.ariaLabel||`Edge from ${g.source} to ${g.target}`,"aria-describedby":N?`${sy}-${x}`:void 0,ref:_,...g.domAttributes,children:[!D&&d.jsx(w,{id:e,source:g.source,target:g.target,type:g.type,selected:g.selected,animated:g.animated,selectable:O,deletable:g.deletable??!0,label:g.label,labelStyle:g.labelStyle,labelShowBg:g.labelShowBg,labelBgStyle:g.labelBgStyle,labelBgPadding:g.labelBgPadding,labelBgBorderRadius:g.labelBgBorderRadius,sourceX:F,sourceY:L,targetX:T,targetY:S,sourcePosition:B,targetPosition:H,data:g.data,style:g.style,sourceHandleId:g.sourceHandle,targetHandleId:g.targetHandle,markerStart:j,markerEnd:Y,pathOptions:"pathOptions"in g?g.pathOptions:void 0,interactionWidth:g.interactionWidth}),A&&d.jsx(BC,{edge:g,isReconnectable:A,reconnectRadius:f,onReconnect:c,onReconnectStart:h,onReconnectEnd:p,sourceX:F,sourceY:L,targetX:T,targetY:S,sourcePosition:B,targetPosition:H,setUpdateHover:z,setReconnecting:E})]})})}var VC=I.memo(HC);const UC=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function Ay({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:l,onEdgeMouseEnter:s,onEdgeMouseMove:a,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:c,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,onError:g}=xe(UC,Ae),k=jC(t);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(TC,{defaultColor:e,rfId:n}),k.map(C=>d.jsx(VC,{id:C,edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,noPanClassName:i,onReconnect:o,onContextMenu:l,onMouseEnter:s,onMouseMove:a,onMouseLeave:u,onClick:f,reconnectRadius:c,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:x,rfId:n,onError:g,edgeTypes:r,disableKeyboardA11y:v},C))]})}Ay.displayName="EdgeRenderer";const WC=I.memo(Ay),YC=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function XC({children:e}){const t=xe(YC);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function KC(e){const t=Vd(),n=I.useRef(!1);I.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const qC=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function QC(e){const t=xe(qC),n=Le();return I.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function ZC(e){return e.connection.inProgress?{...e.connection,to:Ho(e.connection.to,e.transform)}:{...e.connection}}function GC(e){return ZC}function JC(e){const t=GC();return xe(t,Ae)}const eN=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tN({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:l,isValid:s,inProgress:a}=xe(eN,Ae);return!(o&&i&&a)?null:d.jsx("svg",{style:e,width:o,height:l,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:He(["react-flow__connection",jx(s)]),children:d.jsx(Ly,{style:t,type:n,CustomComponent:r,isValid:s})})})}const Ly=({style:e,type:t=Rn.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:l,fromHandle:s,fromPosition:a,to:u,toNode:f,toHandle:c,toPosition:h,pointer:p}=JC();if(!i)return;if(n)return d.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:s,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:a,toPosition:h,connectionStatus:jx(r),toNode:f,toHandle:c,pointer:p});let x="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:a,targetX:u.x,targetY:u.y,targetPosition:h};switch(t){case Rn.Bezier:[x]=$x(v);break;case Rn.SimpleBezier:[x]=vy(v);break;case Rn.Step:[x]=pc({...v,borderRadius:0});break;case Rn.SmoothStep:[x]=pc(v);break;default:[x]=Hx(v)}return d.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:e})};Ly.displayName="ConnectionLine";const nN={};function Ip(e=nN){I.useRef(e),Le(),I.useEffect(()=>{},[e])}function rN(){Le(),I.useRef(!1),I.useEffect(()=>{},[])}function Ty({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:l,onNodeMouseEnter:s,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:c,onSelectionStart:h,onSelectionEnd:p,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:b,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:g,selectionMode:k,multiSelectionKeyCode:C,panActivationKeyCode:w,zoomActivationKeyCode:N,deleteKeyCode:A,onlyRenderVisibleElements:O,elementsSelectable:_,defaultViewport:M,translateExtent:z,minZoom:D,maxZoom:E,preventScrolling:P,defaultMarkerColor:R,zoomOnScroll:F,zoomOnPinch:L,panOnScroll:T,panOnScrollSpeed:S,panOnScrollMode:B,zoomOnDoubleClick:H,panOnDrag:j,onPaneClick:Y,onPaneMouseEnter:Q,onPaneMouseMove:q,onPaneMouseLeave:G,onPaneScroll:V,onPaneContextMenu:J,paneClickDistance:le,nodeClickDistance:se,onEdgeContextMenu:re,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:ve,reconnectRadius:ce,onReconnect:Re,onReconnectStart:K,onReconnectEnd:ne,noDragClassName:ie,noWheelClassName:we,noPanClassName:Oe,disableKeyboardA11y:be,nodeExtent:ge,rfId:Ce,viewport:$,onViewportChange:X}){return Ip(e),Ip(t),rN(),KC(n),QC($),d.jsx(yC,{onPaneClick:Y,onPaneMouseEnter:Q,onPaneMouseMove:q,onPaneMouseLeave:G,onPaneContextMenu:J,onPaneScroll:V,paneClickDistance:le,deleteKeyCode:A,selectionKeyCode:y,selectionOnDrag:g,selectionMode:k,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:C,panActivationKeyCode:w,zoomActivationKeyCode:N,elementsSelectable:_,zoomOnScroll:F,zoomOnPinch:L,zoomOnDoubleClick:H,panOnScroll:T,panOnScrollSpeed:S,panOnScrollMode:B,panOnDrag:j,defaultViewport:M,translateExtent:z,minZoom:D,maxZoom:E,onSelectionContextMenu:c,preventScrolling:P,noDragClassName:ie,noWheelClassName:we,noPanClassName:Oe,disableKeyboardA11y:be,onViewportChange:X,isControlledViewport:!!$,children:d.jsxs(XC,{children:[d.jsx(WC,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:Re,onReconnectStart:K,onReconnectEnd:ne,onlyRenderVisibleElements:O,onEdgeContextMenu:re,onEdgeMouseEnter:te,onEdgeMouseMove:pe,onEdgeMouseLeave:ve,reconnectRadius:ce,defaultMarkerColor:R,noPanClassName:Oe,disableKeyboardA11y:be,rfId:Ce}),d.jsx(tN,{style:v,type:x,component:b,containerStyle:m}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(_C,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:s,onNodeMouseMove:a,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:se,onlyRenderVisibleElements:O,noPanClassName:Oe,noDragClassName:ie,disableKeyboardA11y:be,nodeExtent:ge,rfId:Ce}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}Ty.displayName="GraphView";const iN=I.memo(Ty),Mp=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:s,minZoom:a=.5,maxZoom:u=2,nodeOrigin:f,nodeExtent:c,zIndexMode:h="basic"}={})=>{const p=new Map,x=new Map,v=new Map,b=new Map,m=r??t??[],y=n??e??[],g=f??[0,0],k=c??So;Wx(v,b,m);const C=mc(y,p,x,{nodeOrigin:g,nodeExtent:k,zIndexMode:h});let w=[0,0,1];if(l&&i&&o){const N=$o(p,{filter:M=>!!((M.width||M.initialWidth)&&(M.height||M.initialHeight))}),{x:A,y:O,zoom:_}=Rd(N,i,o,a,u,(s==null?void 0:s.padding)??.1);w=[A,O,_]}return{rfId:"1",width:i??0,height:o??0,transform:w,nodes:y,nodesInitialized:C,nodeLookup:p,parentLookup:x,edges:m,edgeLookup:b,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:a,maxZoom:u,translateExtent:So,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:ui.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:g,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:s,fitViewResolver:null,connection:{..._x},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:r3,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Ex,zIndexMode:h,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},oN=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:l,fitViewOptions:s,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,zIndexMode:h})=>kS((p,x)=>{async function v(){const{nodeLookup:b,panZoom:m,fitViewOptions:y,fitViewResolver:g,width:k,height:C,minZoom:w,maxZoom:N}=x();m&&(await t3({nodes:b,width:k,height:C,panZoom:m,minZoom:w,maxZoom:N},y),g==null||g.resolve(!0),p({fitViewResolver:null}))}return{...Mp({nodes:e,edges:t,width:i,height:o,fitView:l,fitViewOptions:s,minZoom:a,maxZoom:u,nodeOrigin:f,nodeExtent:c,defaultNodes:n,defaultEdges:r,zIndexMode:h}),setNodes:b=>{const{nodeLookup:m,parentLookup:y,nodeOrigin:g,elevateNodesOnSelect:k,fitViewQueued:C,zIndexMode:w}=x(),N=mc(b,m,y,{nodeOrigin:g,nodeExtent:c,elevateNodesOnSelect:k,checkEquality:!0,zIndexMode:w});C&&N?(v(),p({nodes:b,nodesInitialized:N,fitViewQueued:!1,fitViewOptions:void 0})):p({nodes:b,nodesInitialized:N})},setEdges:b=>{const{connectionLookup:m,edgeLookup:y}=x();Wx(m,y,b),p({edges:b})},setDefaultNodesAndEdges:(b,m)=>{if(b){const{setNodes:y}=x();y(b),p({hasDefaultNodes:!0})}if(m){const{setEdges:y}=x();y(m),p({hasDefaultEdges:!0})}},updateNodeInternals:b=>{const{triggerNodeChanges:m,nodeLookup:y,parentLookup:g,domNode:k,nodeOrigin:C,nodeExtent:w,debug:N,fitViewQueued:A,zIndexMode:O}=x(),{changes:_,updatedInternals:M}=N3(b,y,g,k,C,w,O);M&&(k3(y,g,{nodeOrigin:C,nodeExtent:w,zIndexMode:O}),A?(v(),p({fitViewQueued:!1,fitViewOptions:void 0})):p({}),(_==null?void 0:_.length)>0&&(N&&console.log("React Flow: trigger node changes",_),m==null||m(_)))},updateNodePositions:(b,m=!1)=>{const y=[];let g=[];const{nodeLookup:k,triggerNodeChanges:C,connection:w,updateConnection:N,onNodesChangeMiddlewareMap:A}=x();for(const[O,_]of b){const M=k.get(O),z=!!(M!=null&&M.expandParent&&(M!=null&&M.parentId)&&(_!=null&&_.position)),D={id:O,type:"position",position:z?{x:Math.max(0,_.position.x),y:Math.max(0,_.position.y)}:_.position,dragging:m};if(M&&w.inProgress&&w.fromNode.id===M.id){const E=br(M,w.fromHandle,ee.Left,!0);N({...w,from:E})}z&&M.parentId&&y.push({id:O,parentId:M.parentId,rect:{..._.internals.positionAbsolute,width:_.measured.width??0,height:_.measured.height??0}}),g.push(D)}if(y.length>0){const{parentLookup:O,nodeOrigin:_}=x(),M=Hd(y,k,O,_);g.push(...M)}for(const O of A.values())g=O(g);C(g)},triggerNodeChanges:b=>{const{onNodesChange:m,setNodes:y,nodes:g,hasDefaultNodes:k,debug:C}=x();if(b!=null&&b.length){if(k){const w=HS(b,g);y(w)}C&&console.log("React Flow: trigger node changes",b),m==null||m(b)}},triggerEdgeChanges:b=>{const{onEdgesChange:m,setEdges:y,edges:g,hasDefaultEdges:k,debug:C}=x();if(b!=null&&b.length){if(k){const w=VS(b,g);y(w)}C&&console.log("React Flow: trigger edge changes",b),m==null||m(b)}},addSelectedNodes:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:g,triggerNodeChanges:k,triggerEdgeChanges:C}=x();if(m){const w=b.map(N=>ir(N,!0));k(w);return}k(Ur(g,new Set([...b]),!0)),C(Ur(y))},addSelectedEdges:b=>{const{multiSelectionActive:m,edgeLookup:y,nodeLookup:g,triggerNodeChanges:k,triggerEdgeChanges:C}=x();if(m){const w=b.map(N=>ir(N,!0));C(w);return}C(Ur(y,new Set([...b]))),k(Ur(g,new Set,!0))},unselectNodesAndEdges:({nodes:b,edges:m}={})=>{const{edges:y,nodes:g,nodeLookup:k,triggerNodeChanges:C,triggerEdgeChanges:w}=x(),N=b||g,A=m||y,O=N.map(M=>{const z=k.get(M.id);return z&&(z.selected=!1),ir(M.id,!1)}),_=A.map(M=>ir(M.id,!1));C(O),w(_)},setMinZoom:b=>{const{panZoom:m,maxZoom:y}=x();m==null||m.setScaleExtent([b,y]),p({minZoom:b})},setMaxZoom:b=>{const{panZoom:m,minZoom:y}=x();m==null||m.setScaleExtent([y,b]),p({maxZoom:b})},setTranslateExtent:b=>{var m;(m=x().panZoom)==null||m.setTranslateExtent(b),p({translateExtent:b})},resetSelectedElements:()=>{const{edges:b,nodes:m,triggerNodeChanges:y,triggerEdgeChanges:g,elementsSelectable:k}=x();if(!k)return;const C=m.reduce((N,A)=>A.selected?[...N,ir(A.id,!1)]:N,[]),w=b.reduce((N,A)=>A.selected?[...N,ir(A.id,!1)]:N,[]);y(C),g(w)},setNodeExtent:b=>{const{nodes:m,nodeLookup:y,parentLookup:g,nodeOrigin:k,elevateNodesOnSelect:C,nodeExtent:w,zIndexMode:N}=x();b[0][0]===w[0][0]&&b[0][1]===w[0][1]&&b[1][0]===w[1][0]&&b[1][1]===w[1][1]||(mc(m,y,g,{nodeOrigin:k,nodeExtent:b,elevateNodesOnSelect:C,checkEquality:!1,zIndexMode:N}),p({nodeExtent:b}))},panBy:b=>{const{transform:m,width:y,height:g,panZoom:k,translateExtent:C}=x();return E3({delta:b,panZoom:k,transform:m,translateExtent:C,width:y,height:g})},setCenter:async(b,m,y)=>{const{width:g,height:k,maxZoom:C,panZoom:w}=x();if(!w)return Promise.resolve(!1);const N=typeof(y==null?void 0:y.zoom)<"u"?y.zoom:C;return await w.setViewport({x:g/2-b*N,y:k/2-m*N,zoom:N},{duration:y==null?void 0:y.duration,ease:y==null?void 0:y.ease,interpolate:y==null?void 0:y.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{p({connection:{..._x}})},updateConnection:b=>{p({connection:b})},reset:()=>p({...Mp()})}},Object.is);function Py({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:l,initialMaxZoom:s,initialFitViewOptions:a,fitView:u,nodeOrigin:f,nodeExtent:c,zIndexMode:h,children:p}){const[x]=I.useState(()=>oN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:u,minZoom:l,maxZoom:s,fitViewOptions:a,nodeOrigin:f,nodeExtent:c,zIndexMode:h}));return d.jsx(bS,{value:x,children:d.jsx(XS,{children:p})})}function lN({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:l,fitView:s,fitViewOptions:a,minZoom:u,maxZoom:f,nodeOrigin:c,nodeExtent:h,zIndexMode:p}){return I.useContext(ea)?d.jsx(d.Fragment,{children:e}):d.jsx(Py,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:l,fitView:s,initialFitViewOptions:a,initialMinZoom:u,initialMaxZoom:f,nodeOrigin:c,nodeExtent:h,zIndexMode:p,children:e})}const sN={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function aN({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:l,onNodeClick:s,onEdgeClick:a,onInit:u,onMove:f,onMoveStart:c,onMoveEnd:h,onConnect:p,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:g,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:w,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:O,onNodesDelete:_,onEdgesDelete:M,onDelete:z,onSelectionChange:D,onSelectionDragStart:E,onSelectionDrag:P,onSelectionDragStop:R,onSelectionContextMenu:F,onSelectionStart:L,onSelectionEnd:T,onBeforeDelete:S,connectionMode:B,connectionLineType:H=Rn.Bezier,connectionLineStyle:j,connectionLineComponent:Y,connectionLineContainerStyle:Q,deleteKeyCode:q="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:V=!1,selectionMode:J=Co.Full,panActivationKeyCode:le="Space",multiSelectionKeyCode:se=Eo()?"Meta":"Control",zoomActivationKeyCode:re=Eo()?"Meta":"Control",snapToGrid:te,snapGrid:pe,onlyRenderVisibleElements:ve=!1,selectNodesOnDrag:ce,nodesDraggable:Re,autoPanOnNodeFocus:K,nodesConnectable:ne,nodesFocusable:ie,nodeOrigin:we=ay,edgesFocusable:Oe,edgesReconnectable:be,elementsSelectable:ge=!0,defaultViewport:Ce=zS,minZoom:$=.5,maxZoom:X=2,translateExtent:ae=So,preventScrolling:de=!0,nodeExtent:ke,defaultMarkerColor:mt="#b1b1b7",zoomOnScroll:un=!0,zoomOnPinch:Pt=!0,panOnScroll:Jn=!1,panOnScrollSpeed:er=.5,panOnScrollMode:nt=hr.Free,zoomOnDoubleClick:En=!0,panOnDrag:zt=!0,onPaneClick:G1,onPaneMouseEnter:J1,onPaneMouseMove:ev,onPaneMouseLeave:tv,onPaneScroll:nv,onPaneContextMenu:rv,paneClickDistance:iv=1,nodeClickDistance:ov=0,children:lv,onReconnect:sv,onReconnectStart:av,onReconnectEnd:uv,onEdgeContextMenu:cv,onEdgeDoubleClick:dv,onEdgeMouseEnter:fv,onEdgeMouseMove:hv,onEdgeMouseLeave:pv,reconnectRadius:gv=10,onNodesChange:mv,onEdgesChange:xv,noDragClassName:yv="nodrag",noWheelClassName:vv="nowheel",noPanClassName:hf="nopan",fitView:pf,fitViewOptions:gf,connectOnClick:wv,attributionPosition:kv,proOptions:bv,defaultEdgeOptions:Sv,elevateNodesOnSelect:Cv=!0,elevateEdgesOnSelect:Nv=!1,disableKeyboardA11y:mf=!1,autoPanOnConnect:Ev,autoPanOnNodeDrag:_v,autoPanSpeed:jv,connectionRadius:Iv,isValidConnection:Mv,onError:Av,style:Lv,id:xf,nodeDragThreshold:Tv,connectionDragThreshold:Pv,viewport:zv,onViewportChange:Rv,width:Dv,height:Ov,colorMode:Fv="light",debug:$v,onScroll:Yo,ariaLabelConfig:Bv,zIndexMode:yf="basic",...Hv},Vv){const ca=xf||"1",Uv=FS(Fv),Wv=I.useCallback(vf=>{vf.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Yo==null||Yo(vf)},[Yo]);return d.jsx("div",{"data-testid":"rf__wrapper",...Hv,onScroll:Wv,style:{...Lv,...sN},ref:Vv,className:He(["react-flow",i,Uv]),id:xf,role:"application",children:d.jsxs(lN,{nodes:e,edges:t,width:Dv,height:Ov,fitView:pf,fitViewOptions:gf,minZoom:$,maxZoom:X,nodeOrigin:we,nodeExtent:ke,zIndexMode:yf,children:[d.jsx(iN,{onInit:u,onNodeClick:s,onEdgeClick:a,onNodeMouseEnter:y,onNodeMouseMove:g,onNodeMouseLeave:k,onNodeContextMenu:C,onNodeDoubleClick:w,nodeTypes:o,edgeTypes:l,connectionLineType:H,connectionLineStyle:j,connectionLineComponent:Y,connectionLineContainerStyle:Q,selectionKeyCode:G,selectionOnDrag:V,selectionMode:J,deleteKeyCode:q,multiSelectionKeyCode:se,panActivationKeyCode:le,zoomActivationKeyCode:re,onlyRenderVisibleElements:ve,defaultViewport:Ce,translateExtent:ae,minZoom:$,maxZoom:X,preventScrolling:de,zoomOnScroll:un,zoomOnPinch:Pt,zoomOnDoubleClick:En,panOnScroll:Jn,panOnScrollSpeed:er,panOnScrollMode:nt,panOnDrag:zt,onPaneClick:G1,onPaneMouseEnter:J1,onPaneMouseMove:ev,onPaneMouseLeave:tv,onPaneScroll:nv,onPaneContextMenu:rv,paneClickDistance:iv,nodeClickDistance:ov,onSelectionContextMenu:F,onSelectionStart:L,onSelectionEnd:T,onReconnect:sv,onReconnectStart:av,onReconnectEnd:uv,onEdgeContextMenu:cv,onEdgeDoubleClick:dv,onEdgeMouseEnter:fv,onEdgeMouseMove:hv,onEdgeMouseLeave:pv,reconnectRadius:gv,defaultMarkerColor:mt,noDragClassName:yv,noWheelClassName:vv,noPanClassName:hf,rfId:ca,disableKeyboardA11y:mf,nodeExtent:ke,viewport:zv,onViewportChange:Rv}),d.jsx(OS,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:x,onConnectEnd:v,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:Re,autoPanOnNodeFocus:K,nodesConnectable:ne,nodesFocusable:ie,edgesFocusable:Oe,edgesReconnectable:be,elementsSelectable:ge,elevateNodesOnSelect:Cv,elevateEdgesOnSelect:Nv,minZoom:$,maxZoom:X,nodeExtent:ke,onNodesChange:mv,onEdgesChange:xv,snapToGrid:te,snapGrid:pe,connectionMode:B,translateExtent:ae,connectOnClick:wv,defaultEdgeOptions:Sv,fitView:pf,fitViewOptions:gf,onNodesDelete:_,onEdgesDelete:M,onDelete:z,onNodeDragStart:N,onNodeDrag:A,onNodeDragStop:O,onSelectionDrag:P,onSelectionDragStart:E,onSelectionDragStop:R,onMove:f,onMoveStart:c,onMoveEnd:h,noPanClassName:hf,nodeOrigin:we,rfId:ca,autoPanOnConnect:Ev,autoPanOnNodeDrag:_v,autoPanSpeed:jv,onError:Av,connectionRadius:Iv,isValidConnection:Mv,selectNodesOnDrag:ce,nodeDragThreshold:Tv,connectionDragThreshold:Pv,onBeforeDelete:S,debug:$v,ariaLabelConfig:Bv,zIndexMode:yf}),d.jsx(PS,{onSelectionChange:D}),lv,d.jsx(IS,{proOptions:bv,position:kv}),d.jsx(jS,{rfId:ca,disableKeyboardA11y:mf})]})})}var uN=cy(aN);function cN({dimensions:e,lineWidth:t,variant:n,className:r}){return d.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:He(["react-flow__background-pattern",n,r])})}function dN({radius:e,className:t}){return d.jsx("circle",{cx:e,cy:e,r:e,className:He(["react-flow__background-pattern","dots",t])})}var xn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(xn||(xn={}));const fN={[xn.Dots]:1,[xn.Lines]:1,[xn.Cross]:6},hN=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function zy({id:e,variant:t=xn.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:l,bgColor:s,style:a,className:u,patternClassName:f}){const c=I.useRef(null),{transform:h,patternId:p}=xe(hN,Ae),x=r||fN[t],v=t===xn.Dots,b=t===xn.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*h[2]||1,m[1]*h[2]||1],g=x*h[2],k=Array.isArray(o)?o:[o,o],C=b?[g,g]:y,w=[k[0]*h[2]||1+C[0]/2,k[1]*h[2]||1+C[1]/2],N=`${p}${e||""}`;return d.jsxs("svg",{className:He(["react-flow__background",u]),style:{...a,...na,"--xy-background-color-props":s,"--xy-background-pattern-color-props":l},ref:c,"data-testid":"rf__background",children:[d.jsx("pattern",{id:N,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`,children:v?d.jsx(dN,{radius:g/2,className:f}):d.jsx(cN,{dimensions:C,lineWidth:i,variant:t,className:f})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${N})`})]})}zy.displayName="Background";const pN=I.memo(zy);function gN(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function mN(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function xN(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function yN(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function vN(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function yl({children:e,className:t,...n}){return d.jsx("button",{type:"button",className:He(["react-flow__controls-button",t]),...n,children:e})}const wN=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function Ry({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:l,onFitView:s,onInteractiveChange:a,className:u,children:f,position:c="bottom-left",orientation:h="vertical","aria-label":p}){const x=Le(),{isInteractive:v,minZoomReached:b,maxZoomReached:m,ariaLabelConfig:y}=xe(wN,Ae),{zoomIn:g,zoomOut:k,fitView:C}=Vd(),w=()=>{g(),o==null||o()},N=()=>{k(),l==null||l()},A=()=>{C(i),s==null||s()},O=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),a==null||a(!v)},_=h==="horizontal"?"horizontal":"vertical";return d.jsxs(ta,{className:He(["react-flow__controls",_,u]),position:c,style:e,"data-testid":"rf__controls","aria-label":p??y["controls.ariaLabel"],children:[t&&d.jsxs(d.Fragment,{children:[d.jsx(yl,{onClick:w,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:m,children:d.jsx(gN,{})}),d.jsx(yl,{onClick:N,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:b,children:d.jsx(mN,{})})]}),n&&d.jsx(yl,{className:"react-flow__controls-fitview",onClick:A,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:d.jsx(xN,{})}),r&&d.jsx(yl,{className:"react-flow__controls-interactive",onClick:O,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:v?d.jsx(vN,{}):d.jsx(yN,{})}),f]})}Ry.displayName="Controls";const kN=I.memo(Ry);function bN({id:e,x:t,y:n,width:r,height:i,style:o,color:l,strokeColor:s,strokeWidth:a,className:u,borderRadius:f,shapeRendering:c,selected:h,onClick:p}){const{background:x,backgroundColor:v}=o||{},b=l||x||v;return d.jsx("rect",{className:He(["react-flow__minimap-node",{selected:h},u]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:b,stroke:s,strokeWidth:a},shapeRendering:c,onClick:p?m=>p(m,e):void 0})}const SN=I.memo(bN),CN=e=>e.nodes.map(t=>t.id),Ya=e=>e instanceof Function?e:()=>e;function NN({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=SN,onClick:l}){const s=xe(CN,Ae),a=Ya(t),u=Ya(e),f=Ya(n),c=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:s.map(h=>d.jsx(_N,{id:h,nodeColorFunc:a,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:l,shapeRendering:c},h))})}function EN({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:l,NodeComponent:s,onClick:a}){const{node:u,x:f,y:c,width:h,height:p}=xe(x=>{const{internals:v}=x.nodeLookup.get(e),b=v.userNode,{x:m,y}=v.positionAbsolute,{width:g,height:k}=Cn(b);return{node:b,x:m,y,width:g,height:k}},Ae);return!u||u.hidden||!Px(u)?null:d.jsx(s,{x:f,y:c,width:h,height:p,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:l,onClick:a,id:u.id})}const _N=I.memo(EN);var jN=I.memo(NN);const IN=200,MN=150,AN=e=>!e.hidden,LN=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?Tx($o(e.nodeLookup,{filter:AN}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},TN="react-flow__minimap-desc";function Dy({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:l,nodeComponent:s,bgColor:a,maskColor:u,maskStrokeColor:f,maskStrokeWidth:c,position:h="bottom-right",onClick:p,onNodeClick:x,pannable:v=!1,zoomable:b=!1,ariaLabel:m,inversePan:y,zoomStep:g=1,offsetScale:k=5}){const C=Le(),w=I.useRef(null),{boundingRect:N,viewBB:A,rfId:O,panZoom:_,translateExtent:M,flowWidth:z,flowHeight:D,ariaLabelConfig:E}=xe(LN,Ae),P=(e==null?void 0:e.width)??IN,R=(e==null?void 0:e.height)??MN,F=N.width/P,L=N.height/R,T=Math.max(F,L),S=T*P,B=T*R,H=k*T,j=N.x-(S-N.width)/2-H,Y=N.y-(B-N.height)/2-H,Q=S+H*2,q=B+H*2,G=`${TN}-${O}`,V=I.useRef(0),J=I.useRef();V.current=T,I.useEffect(()=>{if(w.current&&_)return J.current=z3({domNode:w.current,panZoom:_,getTransform:()=>C.getState().transform,getViewScale:()=>V.current}),()=>{var te;(te=J.current)==null||te.destroy()}},[_]),I.useEffect(()=>{var te;(te=J.current)==null||te.update({translateExtent:M,width:z,height:D,inversePan:y,pannable:v,zoomStep:g,zoomable:b})},[v,b,y,g,M,z,D]);const le=p?te=>{var ce;const[pe,ve]=((ce=J.current)==null?void 0:ce.pointer(te))||[0,0];p(te,{x:pe,y:ve})}:void 0,se=x?I.useCallback((te,pe)=>{const ve=C.getState().nodeLookup.get(pe).internals.userNode;x(te,ve)},[]):void 0,re=m??E["minimap.ariaLabel"];return d.jsx(ta,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof a=="string"?a:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof c=="number"?c*T:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:He(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:P,height:R,viewBox:`${j} ${Y} ${Q} ${q}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":G,ref:w,onClick:le,children:[re&&d.jsx("title",{id:G,children:re}),d.jsx(jN,{onClick:se,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:l,nodeComponent:s}),d.jsx("path",{className:"react-flow__minimap-mask",d:`M${j-H},${Y-H}h${Q+H*2}v${q+H*2}h${-Q-H*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Dy.displayName="MiniMap";I.memo(Dy);const PN=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,zN={[hi.Line]:"right",[hi.Handle]:"bottom-right"};function RN({nodeId:e,position:t,variant:n=hi.Handle,className:r,style:i=void 0,children:o,color:l,minWidth:s=10,minHeight:a=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:c=!1,resizeDirection:h,autoScale:p=!0,shouldResize:x,onResizeStart:v,onResize:b,onResizeEnd:m}){const y=py(),g=typeof e=="string"?e:y,k=Le(),C=I.useRef(null),w=n===hi.Handle,N=xe(I.useCallback(PN(w&&p),[w,p]),Ae),A=I.useRef(null),O=t??zN[n];I.useEffect(()=>{if(!(!C.current||!g))return A.current||(A.current=q3({domNode:C.current,nodeId:g,getStoreItems:()=>{const{nodeLookup:M,transform:z,snapGrid:D,snapToGrid:E,nodeOrigin:P,domNode:R}=k.getState();return{nodeLookup:M,transform:z,snapGrid:D,snapToGrid:E,nodeOrigin:P,paneDomNode:R}},onChange:(M,z)=>{const{triggerNodeChanges:D,nodeLookup:E,parentLookup:P,nodeOrigin:R}=k.getState(),F=[],L={x:M.x,y:M.y},T=E.get(g);if(T&&T.expandParent&&T.parentId){const S=T.origin??R,B=M.width??T.measured.width??0,H=M.height??T.measured.height??0,j={id:T.id,parentId:T.parentId,rect:{width:B,height:H,...zx({x:M.x??T.position.x,y:M.y??T.position.y},{width:B,height:H},T.parentId,E,S)}},Y=Hd([j],E,P,R);F.push(...Y),L.x=M.x?Math.max(S[0]*B,M.x):void 0,L.y=M.y?Math.max(S[1]*H,M.y):void 0}if(L.x!==void 0&&L.y!==void 0){const S={id:g,type:"position",position:{...L}};F.push(S)}if(M.width!==void 0&&M.height!==void 0){const B={id:g,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:M.width,height:M.height}};F.push(B)}for(const S of z){const B={...S,type:"position"};F.push(B)}D(F)},onEnd:({width:M,height:z})=>{const D={id:g,type:"dimensions",resizing:!1,dimensions:{width:M,height:z}};k.getState().triggerNodeChanges([D])}})),A.current.update({controlPosition:O,boundaries:{minWidth:s,minHeight:a,maxWidth:u,maxHeight:f},keepAspectRatio:c,resizeDirection:h,onResizeStart:v,onResize:b,onResizeEnd:m,shouldResize:x}),()=>{var M;(M=A.current)==null||M.destroy()}},[O,s,a,u,f,c,v,b,m,x]);const _=O.split("-");return d.jsx("div",{className:He(["react-flow__resize-control","nodrag",..._,n,r]),ref:C,style:{...i,scale:N,...l&&{[w?"backgroundColor":"borderColor"]:l}},children:o})}I.memo(RN);const vc="builtin:",DN={web_search:"web_search",websearch:"web_search",code_interpreter:"code_interpreter",codeinterpreter:"code_interpreter",file_search:"file_search",filesearch:"file_search",image_generation:"image_generation",imagegeneration:"image_generation"},ON={web_search:"Web search",code_interpreter:"Code interpreter",file_search:"File search",image_generation:"Image generation"};function FN(e){return e.startsWith(vc)?e.slice(vc.length):e}function Wd(e){return DN[FN(e)]??null}function Oy(e){return e.startsWith(vc)?!0:Wd(e)!==null}function Yd(e){const t=Wd(e);return t?ON[t]:e}const wi="w-4 h-4 flex-shrink-0";function $N({className:e=wi}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M2 12h20"}),d.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]})}function BN({className:e=wi}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("polyline",{points:"16 18 22 12 16 6"}),d.jsx("polyline",{points:"8 6 2 12 8 18"})]})}function HN({className:e=wi}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),d.jsx("polyline",{points:"14 2 14 8 20 8"}),d.jsx("circle",{cx:"11.5",cy:"14.5",r:"2.5"}),d.jsx("path",{d:"M13.3 16.3 15 18"})]})}function VN({className:e=wi}){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[d.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),d.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),d.jsx("polyline",{points:"21 15 16 10 5 21"})]})}function UN({className:e=wi}){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:e,children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})}const WN={web_search:$N,code_interpreter:BN,file_search:HN,image_generation:VN};function Fy({name:e,className:t=wi}){const n=Wd(e),r=n?WN[n]:UN;return d.jsx(r,{className:t})}function YN({data:e}){const t=e;return d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 min-w-[200px] max-w-[260px] shadow-lg cursor-pointer hover:border-blue-500 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),d.jsx("span",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 truncate",children:t.name})]}),t.project&&d.jsx("div",{className:"text-[10px] text-gray-400 dark:text-gray-500 mb-0.5",children:t.project}),t.model&&d.jsx("div",{className:"text-[11px] text-gray-400 dark:text-gray-500 mb-1",children:t.model}),t.instructions&&d.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-400 line-clamp-2 mb-2",children:t.instructions}),t.tools.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1",children:t.tools.map(n=>d.jsx("span",{className:"text-[10px] bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 px-1.5 py-0.5 rounded",children:Yd(n)},n))}),d.jsx(gi,{type:"source",position:ee.Bottom,className:"!bg-blue-400 !w-2 !h-2 !border-0"})]})}function XN({data:e}){const t=e,n=Oy(t.name),r=Yd(t.name);return d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl px-4 py-3 min-w-[180px] max-w-[240px] shadow-lg cursor-pointer hover:border-green-500 transition-colors",children:[d.jsx(gi,{type:"target",position:ee.Top,className:"!bg-green-400 !w-2 !h-2 !border-0"}),d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:n?"text-green-500 dark:text-green-400":"text-gray-400 dark:text-gray-500",children:d.jsx(Fy,{name:t.name,className:"w-3.5 h-3.5"})}),d.jsx("span",{className:"font-semibold text-sm text-green-600 dark:text-green-400 truncate",children:r})]}),t.description&&d.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-400 line-clamp-2",children:t.description})]})}const KN={agent:YN,tool:XN};function qN({snapshot:e,agentName:t,onSelectAgent:n,onSelectTool:r}){const{nodes:i,edges:o}=I.useMemo(()=>{if(!e)return{nodes:[],edges:[]};const s=t&&e.agents[t]?[e.agents[t]]:Object.values(e.agents),a=e.tools,u=[],f=[],c=new Set;s.forEach(g=>g.tools.forEach(k=>c.add(k)));const h=s.length,p=c.size,x=300,v=280,b=h>1?-((h-1)*x)/2:0,m=p>1?-((p-1)*v)/2:0;return s.forEach((g,k)=>{u.push({id:`agent-${g.name}`,type:"agent",position:{x:b+k*x,y:0},data:{...g,label:g.name}})}),Array.from(c).forEach((g,k)=>{const C=a[g];u.push({id:`tool-${g}`,type:"tool",position:{x:m+k*v,y:250},data:{name:g,description:(C==null?void 0:C.description)??"",parameters:(C==null?void 0:C.parameters)??{},source_file:(C==null?void 0:C.source_file)??null,label:g}})}),s.forEach(g=>{g.tools.forEach(k=>{f.push({id:`${g.name}-${k}`,source:`agent-${g.name}`,target:`tool-${k}`,type:"smoothstep",style:{stroke:"#9ca3af",strokeWidth:1.5}})})}),{nodes:u,edges:f}},[e,t]),l=I.useCallback((s,a)=>{if(e){if(a.type==="agent"){const u=a.id.replace("agent-",""),f=e.agents[u];f&&n(f)}else if(a.type==="tool"){const u=a.id.replace("tool-",""),f=e.tools[u];f&&r(f)}}},[e,n,r]);return d.jsx("div",{className:"h-full",children:d.jsxs(uN,{nodes:i,edges:o,nodeTypes:KN,onNodeClick:l,fitView:!0,fitViewOptions:{padding:.3},proOptions:{hideAttribution:!0},nodesDraggable:!0,nodesConnectable:!1,className:"bg-gray-50 dark:bg-gray-950",children:[d.jsx(pN,{variant:xn.Dots,gap:20,size:1,color:"#d1d5db",className:"dark:[&>pattern>circle]:!fill-[#1f2937]"}),d.jsx(kN,{className:"!bg-white dark:!bg-gray-800 !border-gray-300 dark:!border-gray-700 !rounded-lg [&>button]:!bg-white dark:[&>button]:!bg-gray-800 [&>button]:!border-gray-300 dark:[&>button]:!border-gray-700 [&>button]:!text-gray-500 dark:[&>button]:!text-gray-400 [&>button:hover]:!bg-gray-100 dark:[&>button:hover]:!bg-gray-700"})]})})}function QN({snapshot:e,onSelect:t,localServerMap:n}){const[r,i]=I.useState("");if(!e||Object.keys(e.agents).length===0){const u=e!=null&&e.config&&typeof e.config=="object"&&"error"in e.config?String(e.config.error):null;return d.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-3 px-8",children:[d.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-sm",children:"No agents found"}),u&&d.jsxs("div",{className:"max-w-xl w-full bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800 rounded-lg px-4 py-3",children:[d.jsx("p",{className:"text-xs font-medium text-red-700 dark:text-red-400 mb-1",children:"Project load error"}),d.jsx("pre",{className:"text-xs text-red-600 dark:text-red-300 whitespace-pre-wrap break-words font-mono",children:u})]})]})}const o=Object.values(e.agents),l=e.config&&"workspace"in e.config&&e.config.workspace===!0,s=r.toLowerCase().trim(),a=s?o.filter(u=>u.name.toLowerCase().includes(s)||u.project&&u.project.toLowerCase().includes(s)||u.instructions&&u.instructions.toLowerCase().includes(s)):o;return d.jsx("div",{className:"h-full overflow-auto p-8",children:d.jsxs("div",{className:"max-w-5xl mx-auto",children:[d.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Agents"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Select an agent to start a conversation"}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),d.jsx("input",{type:"text",value:r,onChange:u=>i(u.target.value),placeholder:"Search agents...",className:"w-full pl-9 pr-3 py-2 text-sm bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),a.length===0?d.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500 text-center py-8",children:['No agents match "',r,'"']}):d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(u=>d.jsxs("button",{onClick:()=>t(u.name),className:"text-left bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl px-5 py-4 shadow-sm hover:border-blue-500 hover:shadow-md transition-all duration-150 cursor-pointer",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[d.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${n[u.project??""]?"bg-green-400":"bg-gray-300 dark:bg-gray-600"}`}),d.jsx("span",{className:"font-semibold text-sm text-blue-600 dark:text-blue-400 truncate",children:u.name}),l&&u.project&&d.jsx("span",{className:"ml-auto text-[10px] font-medium bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 px-1.5 py-0.5 rounded flex-shrink-0",children:u.project})]}),u.model&&d.jsx("div",{className:"text-[11px] text-gray-400 dark:text-gray-500 mb-1.5",children:u.model}),u.instructions&&d.jsx("div",{className:"text-[11px] text-gray-500 dark:text-gray-400 line-clamp-2 mb-2",children:u.instructions}),u.tools.length>0&&d.jsxs("div",{className:"flex items-center gap-1.5 mt-auto",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-3 h-3 text-gray-400",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.42 15.17 17.25 21A2.652 2.652 0 0 0 21 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 1 1-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 0 0 4.486-6.336l-3.276 3.277a3.004 3.004 0 0 1-2.25-2.25l3.276-3.276a4.5 4.5 0 0 0-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437 1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008Z"})}),d.jsxs("span",{className:"text-[11px] text-gray-400 dark:text-gray-500",children:[u.tools.length," tool",u.tools.length!==1?"s":""]})]})]},u.name))})]})})}function ZN(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const GN=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JN=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,eE={};function Ap(e,t){return(eE.jsx?JN:GN).test(e)}const tE=/[ \t\n\f\r]/g;function nE(e){return typeof e=="object"?e.type==="text"?Lp(e.value):!1:Lp(e)}function Lp(e){return e.replace(tE,"")===""}class Vo{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Vo.prototype.normal={};Vo.prototype.property={};Vo.prototype.space=void 0;function $y(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Vo(n,r,t)}function wc(e){return e.toLowerCase()}class gt{constructor(t,n){this.attribute=n,this.property=t}}gt.prototype.attribute="";gt.prototype.booleanish=!1;gt.prototype.boolean=!1;gt.prototype.commaOrSpaceSeparated=!1;gt.prototype.commaSeparated=!1;gt.prototype.defined=!1;gt.prototype.mustUseProperty=!1;gt.prototype.number=!1;gt.prototype.overloadedBoolean=!1;gt.prototype.property="";gt.prototype.spaceSeparated=!1;gt.prototype.space=void 0;let rE=0;const ue=Er(),$e=Er(),kc=Er(),W=Er(),Ee=Er(),Jr=Er(),xt=Er();function Er(){return 2**++rE}const bc=Object.freeze(Object.defineProperty({__proto__:null,boolean:ue,booleanish:$e,commaOrSpaceSeparated:xt,commaSeparated:Jr,number:W,overloadedBoolean:kc,spaceSeparated:Ee},Symbol.toStringTag,{value:"Module"})),Xa=Object.keys(bc);class Xd extends gt{constructor(t,n,r,i){let o=-1;if(super(t,n),Tp(this,"space",i),typeof r=="number")for(;++o<Xa.length;){const l=Xa[o];Tp(this,Xa[o],(r&bc[l])===bc[l])}}}Xd.prototype.defined=!0;function Tp(e,t,n){n&&(e[t]=n)}function ki(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new Xd(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[wc(r)]=r,n[wc(o.attribute)]=r}return new Vo(t,n,e.space)}const By=ki({properties:{ariaActiveDescendant:null,ariaAtomic:$e,ariaAutoComplete:null,ariaBusy:$e,ariaChecked:$e,ariaColCount:W,ariaColIndex:W,ariaColSpan:W,ariaControls:Ee,ariaCurrent:null,ariaDescribedBy:Ee,ariaDetails:null,ariaDisabled:$e,ariaDropEffect:Ee,ariaErrorMessage:null,ariaExpanded:$e,ariaFlowTo:Ee,ariaGrabbed:$e,ariaHasPopup:null,ariaHidden:$e,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ee,ariaLevel:W,ariaLive:null,ariaModal:$e,ariaMultiLine:$e,ariaMultiSelectable:$e,ariaOrientation:null,ariaOwns:Ee,ariaPlaceholder:null,ariaPosInSet:W,ariaPressed:$e,ariaReadOnly:$e,ariaRelevant:null,ariaRequired:$e,ariaRoleDescription:Ee,ariaRowCount:W,ariaRowIndex:W,ariaRowSpan:W,ariaSelected:$e,ariaSetSize:W,ariaSort:null,ariaValueMax:W,ariaValueMin:W,ariaValueNow:W,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Hy(e,t){return t in e?e[t]:t}function Vy(e,t){return Hy(e,t.toLowerCase())}const iE=ki({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Jr,acceptCharset:Ee,accessKey:Ee,action:null,allow:null,allowFullScreen:ue,allowPaymentRequest:ue,allowUserMedia:ue,alt:null,as:null,async:ue,autoCapitalize:null,autoComplete:Ee,autoFocus:ue,autoPlay:ue,blocking:Ee,capture:null,charSet:null,checked:ue,cite:null,className:Ee,cols:W,colSpan:null,content:null,contentEditable:$e,controls:ue,controlsList:Ee,coords:W|Jr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ue,defer:ue,dir:null,dirName:null,disabled:ue,download:kc,draggable:$e,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ue,formTarget:null,headers:Ee,height:W,hidden:kc,high:W,href:null,hrefLang:null,htmlFor:Ee,httpEquiv:Ee,id:null,imageSizes:null,imageSrcSet:null,inert:ue,inputMode:null,integrity:null,is:null,isMap:ue,itemId:null,itemProp:Ee,itemRef:Ee,itemScope:ue,itemType:Ee,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ue,low:W,manifest:null,max:null,maxLength:W,media:null,method:null,min:null,minLength:W,multiple:ue,muted:ue,name:null,nonce:null,noModule:ue,noValidate:ue,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ue,optimum:W,pattern:null,ping:Ee,placeholder:null,playsInline:ue,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ue,referrerPolicy:null,rel:Ee,required:ue,reversed:ue,rows:W,rowSpan:W,sandbox:Ee,scope:null,scoped:ue,seamless:ue,selected:ue,shadowRootClonable:ue,shadowRootDelegatesFocus:ue,shadowRootMode:null,shape:null,size:W,sizes:null,slot:null,span:W,spellCheck:$e,src:null,srcDoc:null,srcLang:null,srcSet:null,start:W,step:null,style:null,tabIndex:W,target:null,title:null,translate:null,type:null,typeMustMatch:ue,useMap:null,value:$e,width:W,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ee,axis:null,background:null,bgColor:null,border:W,borderColor:null,bottomMargin:W,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ue,declare:ue,event:null,face:null,frame:null,frameBorder:null,hSpace:W,leftMargin:W,link:null,longDesc:null,lowSrc:null,marginHeight:W,marginWidth:W,noResize:ue,noHref:ue,noShade:ue,noWrap:ue,object:null,profile:null,prompt:null,rev:null,rightMargin:W,rules:null,scheme:null,scrolling:$e,standby:null,summary:null,text:null,topMargin:W,valueType:null,version:null,vAlign:null,vLink:null,vSpace:W,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ue,disableRemotePlayback:ue,prefix:null,property:null,results:W,security:null,unselectable:null},space:"html",transform:Vy}),oE=ki({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:xt,accentHeight:W,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:W,amplitude:W,arabicForm:null,ascent:W,attributeName:null,attributeType:null,azimuth:W,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:W,by:null,calcMode:null,capHeight:W,className:Ee,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:W,diffuseConstant:W,direction:null,display:null,dur:null,divisor:W,dominantBaseline:null,download:ue,dx:null,dy:null,edgeMode:null,editable:null,elevation:W,enableBackground:null,end:null,event:null,exponent:W,externalResourcesRequired:null,fill:null,fillOpacity:W,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Jr,g2:Jr,glyphName:Jr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:W,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:W,horizOriginX:W,horizOriginY:W,id:null,ideographic:W,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:W,k:W,k1:W,k2:W,k3:W,k4:W,kernelMatrix:xt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:W,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:W,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:W,overlineThickness:W,paintOrder:null,panose1:null,path:null,pathLength:W,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ee,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:W,pointsAtY:W,pointsAtZ:W,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:xt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:xt,rev:xt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:xt,requiredFeatures:xt,requiredFonts:xt,requiredFormats:xt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:W,specularExponent:W,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:W,strikethroughThickness:W,string:null,stroke:null,strokeDashArray:xt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:W,strokeOpacity:W,strokeWidth:null,style:null,surfaceScale:W,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:xt,tabIndex:W,tableValues:null,target:null,targetX:W,targetY:W,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:xt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:W,underlineThickness:W,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:W,values:null,vAlphabetic:W,vMathematical:W,vectorEffect:null,vHanging:W,vIdeographic:W,version:null,vertAdvY:W,vertOriginX:W,vertOriginY:W,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:W,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Hy}),Uy=ki({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Wy=ki({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Vy}),Yy=ki({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),lE={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sE=/[A-Z]/g,Pp=/-[a-z]/g,aE=/^data[-\w.:]+$/i;function uE(e,t){const n=wc(t);let r=t,i=gt;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&aE.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Pp,dE);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Pp.test(o)){let l=o.replace(sE,cE);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=Xd}return new i(r,t)}function cE(e){return"-"+e.toLowerCase()}function dE(e){return e.charAt(1).toUpperCase()}const fE=$y([By,iE,Uy,Wy,Yy],"html"),Kd=$y([By,oE,Uy,Wy,Yy],"svg");function hE(e){return e.join(" ").trim()}var qd={},zp=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,pE=/\n/g,gE=/^\s*/,mE=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,xE=/^:\s*/,yE=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,vE=/^[;\s]*/,wE=/^\s+|\s+$/g,kE=`
`,Rp="/",Dp="*",or="",bE="comment",SE="declaration";function CE(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(x){var v=x.match(pE);v&&(n+=v.length);var b=x.lastIndexOf(kE);r=~b?x.length-b:r+x.length}function o(){var x={line:n,column:r};return function(v){return v.position=new l(x),u(),v}}function l(x){this.start=x,this.end={line:n,column:r},this.source=t.source}l.prototype.content=e;function s(x){var v=new Error(t.source+":"+n+":"+r+": "+x);if(v.reason=x,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function a(x){var v=x.exec(e);if(v){var b=v[0];return i(b),e=e.slice(b.length),v}}function u(){a(gE)}function f(x){var v;for(x=x||[];v=c();)v!==!1&&x.push(v);return x}function c(){var x=o();if(!(Rp!=e.charAt(0)||Dp!=e.charAt(1))){for(var v=2;or!=e.charAt(v)&&(Dp!=e.charAt(v)||Rp!=e.charAt(v+1));)++v;if(v+=2,or===e.charAt(v-1))return s("End of comment missing");var b=e.slice(2,v-2);return r+=2,i(b),e=e.slice(v),r+=2,x({type:bE,comment:b})}}function h(){var x=o(),v=a(mE);if(v){if(c(),!a(xE))return s("property missing ':'");var b=a(yE),m=x({type:SE,property:Op(v[0].replace(zp,or)),value:b?Op(b[0].replace(zp,or)):or});return a(vE),m}}function p(){var x=[];f(x);for(var v;v=h();)v!==!1&&(x.push(v),f(x));return x}return u(),p()}function Op(e){return e?e.replace(wE,or):or}var NE=CE,EE=Hl&&Hl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qd,"__esModule",{value:!0});qd.default=jE;const _E=EE(NE);function jE(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,_E.default)(e),i=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:l,value:s}=o;i?t(l,s,o):s&&(n=n||{},n[l]=s)}),n}var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.camelCase=void 0;var IE=/^--[a-zA-Z0-9_-]+$/,ME=/-([a-z])/g,AE=/^[^-]+$/,LE=/^-(webkit|moz|ms|o|khtml)-/,TE=/^-(ms)-/,PE=function(e){return!e||AE.test(e)||IE.test(e)},zE=function(e,t){return t.toUpperCase()},Fp=function(e,t){return"".concat(t,"-")},RE=function(e,t){return t===void 0&&(t={}),PE(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(TE,Fp):e=e.replace(LE,Fp),e.replace(ME,zE))};ia.camelCase=RE;var DE=Hl&&Hl.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},OE=DE(qd),FE=ia;function Sc(e,t){var n={};return!e||typeof e!="string"||(0,OE.default)(e,function(r,i){r&&i&&(n[(0,FE.camelCase)(r,t)]=i)}),n}Sc.default=Sc;var $E=Sc;const BE=js($E),Xy=Ky("end"),Qd=Ky("start");function Ky(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function HE(e){const t=Qd(e),n=Xy(e);if(t&&n)return{start:t,end:n}}function Gi(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?$p(e.position):"start"in e||"end"in e?$p(e):"line"in e||"column"in e?Cc(e):""}function Cc(e){return Bp(e&&e.line)+":"+Bp(e&&e.column)}function $p(e){return Cc(e&&e.start)+"-"+Cc(e&&e.end)}function Bp(e){return e&&typeof e=="number"?e:1}class tt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const a=r.indexOf(":");a===-1?o.ruleId=r:(o.source=r.slice(0,a),o.ruleId=r.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Gi(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}tt.prototype.file="";tt.prototype.name="";tt.prototype.reason="";tt.prototype.message="";tt.prototype.stack="";tt.prototype.column=void 0;tt.prototype.line=void 0;tt.prototype.ancestors=void 0;tt.prototype.cause=void 0;tt.prototype.fatal=void 0;tt.prototype.place=void 0;tt.prototype.ruleId=void 0;tt.prototype.source=void 0;const Zd={}.hasOwnProperty,VE=new Map,UE=/[A-Z]/g,WE=new Set(["table","tbody","thead","tfoot","tr"]),YE=new Set(["td","th"]),qy="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function XE(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=t_(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=e_(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Kd:fE,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Qy(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Qy(e,t,n){if(t.type==="element")return KE(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return qE(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ZE(e,t,n);if(t.type==="mdxjsEsm")return QE(e,t);if(t.type==="root")return GE(e,t,n);if(t.type==="text")return JE(e,t)}function KE(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Kd,e.schema=i),e.ancestors.push(t);const o=Gy(e,t.tagName,!1),l=n_(e,t);let s=Jd(e,t);return WE.has(t.tagName)&&(s=s.filter(function(a){return typeof a=="string"?!nE(a):!0})),Zy(e,l,o,t),Gd(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function qE(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}jo(e,t.position)}function QE(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);jo(e,t.position)}function ZE(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=Kd,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:Gy(e,t.name,!0),l=r_(e,t),s=Jd(e,t);return Zy(e,l,o,t),Gd(l,s),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function GE(e,t,n){const r={};return Gd(r,Jd(e,t)),e.create(t,e.Fragment,r,n)}function JE(e,t){return t.value}function Zy(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Gd(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function e_(e,t,n){return r;function r(i,o,l,s){const u=Array.isArray(l.children)?n:t;return s?u(o,l,s):u(o,l)}}function t_(e,t){return n;function n(r,i,o,l){const s=Array.isArray(o.children),a=Qd(r);return t(i,o,l,s,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function n_(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&Zd.call(t.properties,i)){const o=i_(e,i,t.properties[i]);if(o){const[l,s]=o;e.tableCellAlignToStyle&&l==="align"&&typeof s=="string"&&YE.has(t.tagName)?r=s:n[l]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function r_(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const s=l.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else jo(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else jo(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function Jd(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:VE;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const u=i.get(a)||0;l=a+"-"+u,i.set(a,u+1)}}const s=Qy(e,o,l);s!==void 0&&n.push(s)}return n}function i_(e,t,n){const r=uE(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?ZN(n):hE(n)),r.property==="style"){let i=typeof n=="object"?n:o_(e,String(n));return e.stylePropertyNameCase==="css"&&(i=l_(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?lE[r.property]||r.property:r.attribute,n]}}function o_(e,t){try{return BE(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new tt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=qy+"#cannot-parse-style-attribute",i}}function Gy(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const s=Ap(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=l}else r=Ap(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return Zd.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);jo(e)}function jo(e,t){const n=new tt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=qy+"#cannot-handle-mdx-estrees-without-createevaluater",n}function l_(e){const t={};let n;for(n in e)Zd.call(e,n)&&(t[s_(n)]=e[n]);return t}function s_(e){let t=e.replace(UE,a_);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function a_(e){return"-"+e.toLowerCase()}const Ka={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},u_={};function ef(e,t){const n=u_,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Jy(e,r,i)}function Jy(e,t,n){if(c_(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Hp(e.children,t,n)}return Array.isArray(e)?Hp(e,t,n):""}function Hp(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Jy(e[i],t,n);return r.join("")}function c_(e){return!!(e&&typeof e=="object")}const Vp=document.createElement("i");function tf(e){const t="&"+e+";";Vp.innerHTML=t;const n=Vp.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function bt(e,t,n,r){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function It(e,t){return e.length>0?(bt(e,e.length,0,t),e):t}const Up={}.hasOwnProperty;function e1(e){const t={};let n=-1;for(;++n<e.length;)d_(t,e[n]);return t}function d_(e,t){let n;for(n in t){const i=(Up.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){Up.call(i,l)||(i[l]=[]);const s=o[l];f_(i[l],Array.isArray(s)?s:s?[s]:[])}}}function f_(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);bt(e,0,0,r)}function t1(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Xt(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const it=Gn(/[A-Za-z]/),Je=Gn(/[\dA-Za-z]/),h_=Gn(/[#-'*+\--9=?A-Z^-~]/);function Cs(e){return e!==null&&(e<32||e===127)}const Nc=Gn(/\d/),p_=Gn(/[\dA-Fa-f]/),g_=Gn(/[!-/:-@[-`{-~]/);function oe(e){return e!==null&&e<-2}function Ne(e){return e!==null&&(e<0||e===32)}function fe(e){return e===-2||e===-1||e===32}const oa=Gn(new RegExp("\\p{P}|\\p{S}","u")),Sr=Gn(/\s/);function Gn(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function bi(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&Je(e.charCodeAt(n+1))&&Je(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(l=String.fromCharCode(o,s),i=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+i+1,l=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function me(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return fe(a)?(e.enter(n),s(a)):t(a)}function s(a){return fe(a)&&o++<i?(e.consume(a),s):(e.exit(n),t(a))}}const m_={tokenize:x_};function x_(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),me(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const a=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=a),n=a,l(s)}function l(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return oe(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),l)}}const y_={tokenize:v_},Wp={tokenize:w_};function v_(e){const t=this,n=[];let r=0,i,o,l;return s;function s(g){if(r<n.length){const k=n[r];return t.containerState=k[1],e.attempt(k[0].continuation,a,u)(g)}return u(g)}function a(g){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const k=t.events.length;let C=k,w;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){w=t.events[C][1].end;break}m(r);let N=k;for(;N<t.events.length;)t.events[N][1].end={...w},N++;return bt(t.events,C+1,0,t.events.slice(k)),t.events.length=N,u(g)}return s(g)}function u(g){if(r===n.length){if(!i)return h(g);if(i.currentConstruct&&i.currentConstruct.concrete)return x(g);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Wp,f,c)(g)}function f(g){return i&&y(),m(r),h(g)}function c(g){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,x(g)}function h(g){return t.containerState={},e.attempt(Wp,p,x)(g)}function p(g){return r++,n.push([t.currentConstruct,t.containerState]),h(g)}function x(g){if(g===null){i&&y(),m(0),e.consume(g);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),v(g)}function v(g){if(g===null){b(e.exit("chunkFlow"),!0),m(0),e.consume(g);return}return oe(g)?(e.consume(g),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(g),v)}function b(g,k){const C=t.sliceStream(g);if(k&&C.push(null),g.previous=o,o&&(o.next=g),o=g,i.defineSkip(g.start),i.write(C),t.parser.lazy[g.start.line]){let w=i.events.length;for(;w--;)if(i.events[w][1].start.offset<l&&(!i.events[w][1].end||i.events[w][1].end.offset>l))return;const N=t.events.length;let A=N,O,_;for(;A--;)if(t.events[A][0]==="exit"&&t.events[A][1].type==="chunkFlow"){if(O){_=t.events[A][1].end;break}O=!0}for(m(r),w=N;w<t.events.length;)t.events[w][1].end={..._},w++;bt(t.events,A+1,0,t.events.slice(N)),t.events.length=w}}function m(g){let k=n.length;for(;k-- >g;){const C=n[k];t.containerState=C[1],C[0].exit.call(t,e)}n.length=g}function y(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function w_(e,t,n){return me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function mi(e){if(e===null||Ne(e)||Sr(e))return 1;if(oa(e))return 2}function la(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const Ec={name:"attention",resolveAll:k_,tokenize:b_};function k_(e,t){let n=-1,r,i,o,l,s,a,u,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;a=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const c={...e[r][1].end},h={...e[n][1].start};Yp(c,-a),Yp(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:c,end:{...e[r][1].end}},s={type:a>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},o={type:a>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:a>1?"strong":"emphasis",start:{...l.start},end:{...s.end}},e[r][1].end={...l.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=It(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=It(u,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),u=It(u,la(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=It(u,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,u=It(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,bt(e,r-1,n-r+3,u),n=r+u.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function b_(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=mi(r);let o;return l;function l(a){return o=a,e.enter("attentionSequence"),s(a)}function s(a){if(a===o)return e.consume(a),s;const u=e.exit("attentionSequence"),f=mi(a),c=!f||f===2&&i||n.includes(a),h=!i||i===2&&f||n.includes(r);return u._open=!!(o===42?c:c&&(i||!h)),u._close=!!(o===42?h:h&&(f||!c)),t(a)}}function Yp(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const S_={name:"autolink",tokenize:C_};function C_(e,t,n){let r=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return it(p)?(e.consume(p),l):p===64?n(p):u(p)}function l(p){return p===43||p===45||p===46||Je(p)?(r=1,s(p)):u(p)}function s(p){return p===58?(e.consume(p),r=0,a):(p===43||p===45||p===46||Je(p))&&r++<32?(e.consume(p),s):(r=0,u(p))}function a(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||Cs(p)?n(p):(e.consume(p),a)}function u(p){return p===64?(e.consume(p),f):h_(p)?(e.consume(p),u):n(p)}function f(p){return Je(p)?c(p):n(p)}function c(p){return p===46?(e.consume(p),r=0,f):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||Je(p))&&r++<63){const x=p===45?h:c;return e.consume(p),x}return n(p)}}const Uo={partial:!0,tokenize:N_};function N_(e,t,n){return r;function r(o){return fe(o)?me(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||oe(o)?t(o):n(o)}}const n1={continuation:{tokenize:__},exit:j_,name:"blockQuote",tokenize:E_};function E_(e,t,n){const r=this;return i;function i(l){if(l===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return fe(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function __(e,t,n){const r=this;return i;function i(l){return fe(l)?me(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(n1,t,n)(l)}}function j_(e){e.exit("blockQuote")}const r1={name:"characterEscape",tokenize:I_};function I_(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return g_(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const i1={name:"characterReference",tokenize:M_};function M_(e,t,n){const r=this;let i=0,o,l;return s;function s(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),a}function a(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=Je,f(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=p_,f):(e.enter("characterReferenceValue"),o=7,l=Nc,f(c))}function f(c){if(c===59&&i){const h=e.exit("characterReferenceValue");return l===Je&&!tf(r.sliceSerialize(h))?n(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(c)&&i++<o?(e.consume(c),f):n(c)}}const Xp={partial:!0,tokenize:L_},Kp={concrete:!0,name:"codeFenced",tokenize:A_};function A_(e,t,n){const r=this,i={partial:!0,tokenize:C};let o=0,l=0,s;return a;function a(w){return u(w)}function u(w){const N=r.events[r.events.length-1];return o=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,s=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(w)}function f(w){return w===s?(l++,e.consume(w),f):l<3?n(w):(e.exit("codeFencedFenceSequence"),fe(w)?me(e,c,"whitespace")(w):c(w))}function c(w){return w===null||oe(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(Xp,v,k)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===null||oe(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(w)):fe(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),me(e,p,"whitespace")(w)):w===96&&w===s?n(w):(e.consume(w),h)}function p(w){return w===null||oe(w)?c(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),x(w))}function x(w){return w===null||oe(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(w)):w===96&&w===s?n(w):(e.consume(w),x)}function v(w){return e.attempt(i,k,b)(w)}function b(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),m}function m(w){return o>0&&fe(w)?me(e,y,"linePrefix",o+1)(w):y(w)}function y(w){return w===null||oe(w)?e.check(Xp,v,k)(w):(e.enter("codeFlowValue"),g(w))}function g(w){return w===null||oe(w)?(e.exit("codeFlowValue"),y(w)):(e.consume(w),g)}function k(w){return e.exit("codeFenced"),t(w)}function C(w,N,A){let O=0;return _;function _(P){return w.enter("lineEnding"),w.consume(P),w.exit("lineEnding"),M}function M(P){return w.enter("codeFencedFence"),fe(P)?me(w,z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(P):z(P)}function z(P){return P===s?(w.enter("codeFencedFenceSequence"),D(P)):A(P)}function D(P){return P===s?(O++,w.consume(P),D):O>=l?(w.exit("codeFencedFenceSequence"),fe(P)?me(w,E,"whitespace")(P):E(P)):A(P)}function E(P){return P===null||oe(P)?(w.exit("codeFencedFence"),N(P)):A(P)}}}function L_(e,t,n){const r=this;return i;function i(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const qa={name:"codeIndented",tokenize:P_},T_={partial:!0,tokenize:z_};function P_(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),me(e,o,"linePrefix",5)(u)}function o(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(u):n(u)}function l(u){return u===null?a(u):oe(u)?e.attempt(T_,l,a)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||oe(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),s)}function a(u){return e.exit("codeIndented"),t(u)}}function z_(e,t,n){const r=this;return i;function i(l){return r.parser.lazy[r.now().line]?n(l):oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):me(e,o,"linePrefix",5)(l)}function o(l){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):oe(l)?i(l):n(l)}}const R_={name:"codeText",previous:O_,resolve:D_,tokenize:F_};function D_(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function O_(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function F_(e,t,n){let r=0,i,o;return l;function l(c){return e.enter("codeText"),e.enter("codeTextSequence"),s(c)}function s(c){return c===96?(e.consume(c),r++,s):(e.exit("codeTextSequence"),a(c))}function a(c){return c===null?n(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),a):c===96?(o=e.enter("codeTextSequence"),i=0,f(c)):oe(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),a):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||oe(c)?(e.exit("codeTextData"),a(c)):(e.consume(c),u)}function f(c){return c===96?(e.consume(c),i++,f):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(o.type="codeTextData",u(c))}}class $_{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ti(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ti(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ti(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ti(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ti(this.left,n.reverse())}}}function Ti(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function o1(e){const t={};let n=-1,r,i,o,l,s,a,u;const f=new $_(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(a=r[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,B_(f,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},s=f.slice(i,n),s.unshift(r),f.splice(i,n-i+1,s))}}return bt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function B_(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let l=n._tokenizer;l||(l=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const s=l.events,a=[],u={};let f,c,h=-1,p=n,x=0,v=0;const b=[v];for(;p;){for(;e.get(++i)[1]!==p;);o.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),c&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),c=p,p=p.next}for(p=n;++h<s.length;)s[h][0]==="exit"&&s[h-1][0]==="enter"&&s[h][1].type===s[h-1][1].type&&s[h][1].start.line!==s[h][1].end.line&&(v=h+1,b.push(v),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):b.pop(),h=b.length;h--;){const m=s.slice(b[h],b[h+1]),y=o.pop();a.push([y,y+m.length-1]),e.splice(y,2,m)}for(a.reverse(),h=-1;++h<a.length;)u[x+a[h][0]]=x+a[h][1],x+=a[h][1]-a[h][0]-1;return u}const H_={resolve:U_,tokenize:W_},V_={partial:!0,tokenize:Y_};function U_(e){return o1(e),e}function W_(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):oe(s)?e.check(V_,l,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function l(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Y_(e,t,n){const r=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),me(e,o,"linePrefix")}function o(l){if(l===null||oe(l))return n(l);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function l1(e,t,n,r,i,o,l,s,a){const u=a||Number.POSITIVE_INFINITY;let f=0;return c;function c(m){return m===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(m),e.exit(o),h):m===null||m===32||m===41||Cs(m)?n(m):(e.enter(r),e.enter(l),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(m))}function h(m){return m===62?(e.enter(o),e.consume(m),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(e.exit("chunkString"),e.exit(s),h(m)):m===null||m===60||oe(m)?n(m):(e.consume(m),m===92?x:p)}function x(m){return m===60||m===62||m===92?(e.consume(m),p):p(m)}function v(m){return!f&&(m===null||m===41||Ne(m))?(e.exit("chunkString"),e.exit(s),e.exit(l),e.exit(r),t(m)):f<u&&m===40?(e.consume(m),f++,v):m===41?(e.consume(m),f--,v):m===null||m===32||m===40||Cs(m)?n(m):(e.consume(m),m===92?b:v)}function b(m){return m===40||m===41||m===92?(e.consume(m),v):v(m)}}function s1(e,t,n,r,i,o){const l=this;let s=0,a;return u;function u(p){return e.enter(r),e.enter(i),e.consume(p),e.exit(i),e.enter(o),f}function f(p){return s>999||p===null||p===91||p===93&&!a||p===94&&!s&&"_hiddenFootnoteSupport"in l.parser.constructs?n(p):p===93?(e.exit(o),e.enter(i),e.consume(p),e.exit(i),e.exit(r),t):oe(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===null||p===91||p===93||oe(p)||s++>999?(e.exit("chunkString"),f(p)):(e.consume(p),a||(a=!fe(p)),p===92?h:c)}function h(p){return p===91||p===92||p===93?(e.consume(p),s++,c):c(p)}}function a1(e,t,n,r,i,o){let l;return s;function s(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),l=h===40?41:h,a):n(h)}function a(h){return h===l?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(o),u(h))}function u(h){return h===l?(e.exit(o),a(l)):h===null?n(h):oe(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),me(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===l||h===null||oe(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?c:f)}function c(h){return h===l||h===92?(e.consume(h),f):f(h)}}function Ji(e,t){let n;return r;function r(i){return oe(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):fe(i)?me(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const X_={name:"definition",tokenize:q_},K_={partial:!0,tokenize:Q_};function q_(e,t,n){const r=this;let i;return o;function o(p){return e.enter("definition"),l(p)}function l(p){return s1.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function s(p){return i=Xt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a):n(p)}function a(p){return Ne(p)?Ji(e,u)(p):u(p)}function u(p){return l1(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return e.attempt(K_,c,c)(p)}function c(p){return fe(p)?me(e,h,"whitespace")(p):h(p)}function h(p){return p===null||oe(p)?(e.exit("definition"),r.parser.defined.push(i),t(p)):n(p)}}function Q_(e,t,n){return r;function r(s){return Ne(s)?Ji(e,i)(s):n(s)}function i(s){return a1(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return fe(s)?me(e,l,"whitespace")(s):l(s)}function l(s){return s===null||oe(s)?t(s):n(s)}}const Z_={name:"hardBreakEscape",tokenize:G_};function G_(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return oe(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const J_={name:"headingAtx",resolve:ej,tokenize:tj};function ej(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},bt(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function tj(e,t,n){let r=0;return i;function i(f){return e.enter("atxHeading"),o(f)}function o(f){return e.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&r++<6?(e.consume(f),l):f===null||Ne(f)?(e.exit("atxHeadingSequence"),s(f)):n(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),a(f)):f===null||oe(f)?(e.exit("atxHeading"),t(f)):fe(f)?me(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function a(f){return f===35?(e.consume(f),a):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||Ne(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const nj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qp=["pre","script","style","textarea"],rj={concrete:!0,name:"htmlFlow",resolveTo:lj,tokenize:sj},ij={partial:!0,tokenize:uj},oj={partial:!0,tokenize:aj};function lj(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sj(e,t,n){const r=this;let i,o,l,s,a;return u;function u(j){return f(j)}function f(j){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(j),c}function c(j){return j===33?(e.consume(j),h):j===47?(e.consume(j),o=!0,v):j===63?(e.consume(j),i=3,r.interrupt?t:S):it(j)?(e.consume(j),l=String.fromCharCode(j),b):n(j)}function h(j){return j===45?(e.consume(j),i=2,p):j===91?(e.consume(j),i=5,s=0,x):it(j)?(e.consume(j),i=4,r.interrupt?t:S):n(j)}function p(j){return j===45?(e.consume(j),r.interrupt?t:S):n(j)}function x(j){const Y="CDATA[";return j===Y.charCodeAt(s++)?(e.consume(j),s===Y.length?r.interrupt?t:z:x):n(j)}function v(j){return it(j)?(e.consume(j),l=String.fromCharCode(j),b):n(j)}function b(j){if(j===null||j===47||j===62||Ne(j)){const Y=j===47,Q=l.toLowerCase();return!Y&&!o&&qp.includes(Q)?(i=1,r.interrupt?t(j):z(j)):nj.includes(l.toLowerCase())?(i=6,Y?(e.consume(j),m):r.interrupt?t(j):z(j)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?y(j):g(j))}return j===45||Je(j)?(e.consume(j),l+=String.fromCharCode(j),b):n(j)}function m(j){return j===62?(e.consume(j),r.interrupt?t:z):n(j)}function y(j){return fe(j)?(e.consume(j),y):_(j)}function g(j){return j===47?(e.consume(j),_):j===58||j===95||it(j)?(e.consume(j),k):fe(j)?(e.consume(j),g):_(j)}function k(j){return j===45||j===46||j===58||j===95||Je(j)?(e.consume(j),k):C(j)}function C(j){return j===61?(e.consume(j),w):fe(j)?(e.consume(j),C):g(j)}function w(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(e.consume(j),a=j,N):fe(j)?(e.consume(j),w):A(j)}function N(j){return j===a?(e.consume(j),a=null,O):j===null||oe(j)?n(j):(e.consume(j),N)}function A(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||Ne(j)?C(j):(e.consume(j),A)}function O(j){return j===47||j===62||fe(j)?g(j):n(j)}function _(j){return j===62?(e.consume(j),M):n(j)}function M(j){return j===null||oe(j)?z(j):fe(j)?(e.consume(j),M):n(j)}function z(j){return j===45&&i===2?(e.consume(j),R):j===60&&i===1?(e.consume(j),F):j===62&&i===4?(e.consume(j),B):j===63&&i===3?(e.consume(j),S):j===93&&i===5?(e.consume(j),T):oe(j)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(ij,H,D)(j)):j===null||oe(j)?(e.exit("htmlFlowData"),D(j)):(e.consume(j),z)}function D(j){return e.check(oj,E,H)(j)}function E(j){return e.enter("lineEnding"),e.consume(j),e.exit("lineEnding"),P}function P(j){return j===null||oe(j)?D(j):(e.enter("htmlFlowData"),z(j))}function R(j){return j===45?(e.consume(j),S):z(j)}function F(j){return j===47?(e.consume(j),l="",L):z(j)}function L(j){if(j===62){const Y=l.toLowerCase();return qp.includes(Y)?(e.consume(j),B):z(j)}return it(j)&&l.length<8?(e.consume(j),l+=String.fromCharCode(j),L):z(j)}function T(j){return j===93?(e.consume(j),S):z(j)}function S(j){return j===62?(e.consume(j),B):j===45&&i===2?(e.consume(j),S):z(j)}function B(j){return j===null||oe(j)?(e.exit("htmlFlowData"),H(j)):(e.consume(j),B)}function H(j){return e.exit("htmlFlow"),t(j)}}function aj(e,t,n){const r=this;return i;function i(l){return oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function uj(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Uo,t,n)}}const cj={name:"htmlText",tokenize:dj};function dj(e,t,n){const r=this;let i,o,l;return s;function s(S){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(S),a}function a(S){return S===33?(e.consume(S),u):S===47?(e.consume(S),C):S===63?(e.consume(S),g):it(S)?(e.consume(S),A):n(S)}function u(S){return S===45?(e.consume(S),f):S===91?(e.consume(S),o=0,x):it(S)?(e.consume(S),y):n(S)}function f(S){return S===45?(e.consume(S),p):n(S)}function c(S){return S===null?n(S):S===45?(e.consume(S),h):oe(S)?(l=c,F(S)):(e.consume(S),c)}function h(S){return S===45?(e.consume(S),p):c(S)}function p(S){return S===62?R(S):S===45?h(S):c(S)}function x(S){const B="CDATA[";return S===B.charCodeAt(o++)?(e.consume(S),o===B.length?v:x):n(S)}function v(S){return S===null?n(S):S===93?(e.consume(S),b):oe(S)?(l=v,F(S)):(e.consume(S),v)}function b(S){return S===93?(e.consume(S),m):v(S)}function m(S){return S===62?R(S):S===93?(e.consume(S),m):v(S)}function y(S){return S===null||S===62?R(S):oe(S)?(l=y,F(S)):(e.consume(S),y)}function g(S){return S===null?n(S):S===63?(e.consume(S),k):oe(S)?(l=g,F(S)):(e.consume(S),g)}function k(S){return S===62?R(S):g(S)}function C(S){return it(S)?(e.consume(S),w):n(S)}function w(S){return S===45||Je(S)?(e.consume(S),w):N(S)}function N(S){return oe(S)?(l=N,F(S)):fe(S)?(e.consume(S),N):R(S)}function A(S){return S===45||Je(S)?(e.consume(S),A):S===47||S===62||Ne(S)?O(S):n(S)}function O(S){return S===47?(e.consume(S),R):S===58||S===95||it(S)?(e.consume(S),_):oe(S)?(l=O,F(S)):fe(S)?(e.consume(S),O):R(S)}function _(S){return S===45||S===46||S===58||S===95||Je(S)?(e.consume(S),_):M(S)}function M(S){return S===61?(e.consume(S),z):oe(S)?(l=M,F(S)):fe(S)?(e.consume(S),M):O(S)}function z(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),i=S,D):oe(S)?(l=z,F(S)):fe(S)?(e.consume(S),z):(e.consume(S),E)}function D(S){return S===i?(e.consume(S),i=void 0,P):S===null?n(S):oe(S)?(l=D,F(S)):(e.consume(S),D)}function E(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||Ne(S)?O(S):(e.consume(S),E)}function P(S){return S===47||S===62||Ne(S)?O(S):n(S)}function R(S){return S===62?(e.consume(S),e.exit("htmlTextData"),e.exit("htmlText"),t):n(S)}function F(S){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),L}function L(S){return fe(S)?me(e,T,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):T(S)}function T(S){return e.enter("htmlTextData"),l(S)}}const nf={name:"labelEnd",resolveAll:gj,resolveTo:mj,tokenize:xj},fj={tokenize:yj},hj={tokenize:vj},pj={tokenize:wj};function gj(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&bt(e,0,e.length,n),e}function mj(e,t){let n=e.length,r=0,i,o,l,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(l=n);const a={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},f={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return s=[["enter",a,t],["enter",u,t]],s=It(s,e.slice(o+1,o+r+3)),s=It(s,[["enter",f,t]]),s=It(s,la(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),s=It(s,[["exit",f,t],e[l-2],e[l-1],["exit",u,t]]),s=It(s,e.slice(l+1)),s=It(s,[["exit",a,t]]),bt(e,o,e.length,s),e}function xj(e,t,n){const r=this;let i=r.events.length,o,l;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(h){return o?o._inactive?c(h):(l=r.parser.defined.includes(Xt(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):n(h)}function a(h){return h===40?e.attempt(fj,f,l?f:c)(h):h===91?e.attempt(hj,f,l?u:c)(h):l?f(h):c(h)}function u(h){return e.attempt(pj,f,c)(h)}function f(h){return t(h)}function c(h){return o._balanced=!0,n(h)}}function yj(e,t,n){return r;function r(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),i}function i(c){return Ne(c)?Ji(e,o)(c):o(c)}function o(c){return c===41?f(c):l1(e,l,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function l(c){return Ne(c)?Ji(e,a)(c):f(c)}function s(c){return n(c)}function a(c){return c===34||c===39||c===40?a1(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):f(c)}function u(c){return Ne(c)?Ji(e,f)(c):f(c)}function f(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):n(c)}}function vj(e,t,n){const r=this;return i;function i(s){return s1.call(r,e,o,l,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(Xt(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function l(s){return n(s)}}function wj(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const kj={name:"labelStartImage",resolveAll:nf.resolveAll,tokenize:bj};function bj(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),l):n(s)}function l(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Sj={name:"labelStartLink",resolveAll:nf.resolveAll,tokenize:Cj};function Cj(e,t,n){const r=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const Qa={name:"lineEnding",tokenize:Nj};function Nj(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),me(e,t,"linePrefix")}}const $l={name:"thematicBreak",tokenize:Ej};function Ej(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,s(u)}function s(u){return u===i?(e.enter("thematicBreakSequence"),a(u)):r>=3&&(u===null||oe(u))?(e.exit("thematicBreak"),t(u)):n(u)}function a(u){return u===i?(e.consume(u),r++,a):(e.exit("thematicBreakSequence"),fe(u)?me(e,s,"whitespace")(u):s(u))}}const at={continuation:{tokenize:Mj},exit:Lj,name:"list",tokenize:Ij},_j={partial:!0,tokenize:Tj},jj={partial:!0,tokenize:Aj};function Ij(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return s;function s(p){const x=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(x==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:Nc(p)){if(r.containerState.type||(r.containerState.type=x,e.enter(x,{_container:!0})),x==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check($l,n,u)(p):u(p);if(!r.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(p)}return n(p)}function a(p){return Nc(p)&&++l<10?(e.consume(p),a):(!r.interrupt||l<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),u(p)):n(p)}function u(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,e.check(Uo,r.interrupt?n:f,e.attempt(_j,h,c))}function f(p){return r.containerState.initialBlankLine=!0,o++,h(p)}function c(p){return fe(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function Mj(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Uo,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,me(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!fe(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(jj,t,l)(s))}function l(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,me(e,e.attempt(at,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Aj(e,t,n){const r=this;return me(e,i,"listItemIndent",r.containerState.size+1);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function Lj(e){e.exit(this.containerState.type)}function Tj(e,t,n){const r=this;return me(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=r.events[r.events.length-1];return!fe(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Qp={name:"setextUnderline",resolveTo:Pj,tokenize:zj};function Pj(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function zj(e,t,n){const r=this;let i;return o;function o(u){let f=r.events.length,c;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){c=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||c)?(e.enter("setextHeadingLine"),i=u,l(u)):n(u)}function l(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===i?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),fe(u)?me(e,a,"lineSuffix")(u):a(u))}function a(u){return u===null||oe(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Rj={tokenize:Dj};function Dj(e){const t=this,n=e.attempt(Uo,r,e.attempt(this.parser.constructs.flowInitial,i,me(e,e.attempt(this.parser.constructs.flow,i,e.attempt(H_,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Oj={resolveAll:c1()},Fj=u1("string"),$j=u1("text");function u1(e){return{resolveAll:c1(e==="text"?Bj:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,l,s);return l;function l(f){return u(f)?o(f):s(f)}function s(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),a}function a(f){return u(f)?(n.exit("data"),o(f)):(n.consume(f),a)}function u(f){if(f===null)return!0;const c=i[f];let h=-1;if(c)for(;++h<c.length;){const p=c[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}function c1(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function Bj(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,l=-1,s=0,a;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)s++,l--;if(l)break;l=-1}else if(u===-2)a=!0,s++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||a||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Hj={42:at,43:at,45:at,48:at,49:at,50:at,51:at,52:at,53:at,54:at,55:at,56:at,57:at,62:n1},Vj={91:X_},Uj={[-2]:qa,[-1]:qa,32:qa},Wj={35:J_,42:$l,45:[Qp,$l],60:rj,61:Qp,95:$l,96:Kp,126:Kp},Yj={38:i1,92:r1},Xj={[-5]:Qa,[-4]:Qa,[-3]:Qa,33:kj,38:i1,42:Ec,60:[S_,cj],91:Sj,92:[Z_,r1],93:nf,95:Ec,96:R_},Kj={null:[Ec,Oj]},qj={null:[42,95]},Qj={null:[]},Zj=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:qj,contentInitial:Vj,disable:Qj,document:Hj,flow:Wj,flowInitial:Uj,insideSpan:Kj,string:Yj,text:Xj},Symbol.toStringTag,{value:"Module"}));function Gj(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let l=[],s=[];const a={attempt:N(C),check:N(w),consume:y,enter:g,exit:k,interrupt:N(w,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:x,parser:e,previous:null,sliceSerialize:h,sliceStream:p,write:c};let f=t.tokenize.call(u,a);return t.resolveAll&&o.push(t),u;function c(M){return l=It(l,M),b(),l[l.length-1]!==null?[]:(A(t,0),u.events=la(o,u.events,u),u.events)}function h(M,z){return e6(p(M),z)}function p(M){return Jj(l,M)}function x(){const{_bufferIndex:M,_index:z,line:D,column:E,offset:P}=r;return{_bufferIndex:M,_index:z,line:D,column:E,offset:P}}function v(M){i[M.line]=M.column,_()}function b(){let M;for(;r._index<l.length;){const z=l[r._index];if(typeof z=="string")for(M=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===M&&r._bufferIndex<z.length;)m(z.charCodeAt(r._bufferIndex));else m(z)}}function m(M){f=f(M)}function y(M){oe(M)?(r.line++,r.column=1,r.offset+=M===-3?2:1,_()):M!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=M}function g(M,z){const D=z||{};return D.type=M,D.start=x(),u.events.push(["enter",D,u]),s.push(D),D}function k(M){const z=s.pop();return z.end=x(),u.events.push(["exit",z,u]),z}function C(M,z){A(M,z.from)}function w(M,z){z.restore()}function N(M,z){return D;function D(E,P,R){let F,L,T,S;return Array.isArray(E)?H(E):"tokenize"in E?H([E]):B(E);function B(q){return G;function G(V){const J=V!==null&&q[V],le=V!==null&&q.null,se=[...Array.isArray(J)?J:J?[J]:[],...Array.isArray(le)?le:le?[le]:[]];return H(se)(V)}}function H(q){return F=q,L=0,q.length===0?R:j(q[L])}function j(q){return G;function G(V){return S=O(),T=q,q.partial||(u.currentConstruct=q),q.name&&u.parser.constructs.disable.null.includes(q.name)?Q():q.tokenize.call(z?Object.assign(Object.create(u),z):u,a,Y,Q)(V)}}function Y(q){return M(T,S),P}function Q(q){return S.restore(),++L<F.length?j(F[L]):R}}}function A(M,z){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&bt(u.events,z,u.events.length-z,M.resolve(u.events.slice(z),u)),M.resolveTo&&(u.events=M.resolveTo(u.events,u))}function O(){const M=x(),z=u.previous,D=u.currentConstruct,E=u.events.length,P=Array.from(s);return{from:E,restore:R};function R(){r=M,u.previous=z,u.currentConstruct=D,u.events.length=E,s=P,_()}}function _(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Jj(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(n===i)l=[e[n].slice(r,o)];else{if(l=e.slice(n,i),r>-1){const s=l[0];typeof s=="string"?l[0]=s.slice(r):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function e6(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,r.push(l)}return r.join("")}function t6(e){const r={constructs:e1([Zj,...(e||{}).extensions||[]]),content:i(m_),defined:[],document:i(y_),flow:i(Rj),lazy:{},string:i(Fj),text:i($j)};return r;function i(o){return l;function l(s){return Gj(r,o,s)}}}function n6(e){for(;!o1(e););return e}const Zp=/[\0\t\n\r]/g;function r6(){let e=1,t="",n=!0,r;return i;function i(o,l,s){const a=[];let u,f,c,h,p;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),c=0,t="",n&&(o.charCodeAt(0)===65279&&c++,n=void 0);c<o.length;){if(Zp.lastIndex=c,u=Zp.exec(o),h=u&&u.index!==void 0?u.index:o.length,p=o.charCodeAt(h),!u){t=o.slice(c);break}if(p===10&&c===h&&r)a.push(-3),r=void 0;else switch(r&&(a.push(-5),r=void 0),c<h&&(a.push(o.slice(c,h)),e+=h-c),p){case 0:{a.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,a.push(-2);e++<f;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:r=!0,e=1}c=h+1}return s&&(r&&a.push(-5),t&&a.push(t),a.push(null)),a}}const i6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function o6(e){return e.replace(i6,l6)}function l6(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return t1(n.slice(o?2:1),o?16:10)}return tf(n)||e}const d1={}.hasOwnProperty;function s6(e,t,n){return typeof t!="string"&&(n=t,t=void 0),a6(n)(n6(t6(n).document().write(r6()(e,t,!0))))}function a6(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ne),autolinkProtocol:O,autolinkEmail:O,atxHeading:o(ve),blockQuote:o(le),characterEscape:O,characterReference:O,codeFenced:o(se),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(se,l),codeText:o(re,l),codeTextData:O,data:O,codeFlowValue:O,definition:o(te),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(pe),hardBreakEscape:o(ce),hardBreakTrailing:o(ce),htmlFlow:o(Re,l),htmlFlowData:O,htmlText:o(Re,l),htmlTextData:O,image:o(K),label:l,link:o(ne),listItem:o(we),listItemValue:h,listOrdered:o(ie,c),listUnordered:o(ie),paragraph:o(Oe),reference:j,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ve),strong:o(be),thematicBreak:o(Ce)},exit:{atxHeading:a(),atxHeadingSequence:C,autolink:a(),autolinkEmail:J,autolinkProtocol:V,blockQuote:a(),characterEscapeValue:_,characterReferenceMarkerHexadecimal:Q,characterReferenceMarkerNumeric:Q,characterReferenceValue:q,characterReference:G,codeFenced:a(b),codeFencedFence:v,codeFencedFenceInfo:p,codeFencedFenceMeta:x,codeFlowValue:_,codeIndented:a(m),codeText:a(P),codeTextData:_,data:_,definition:a(),definitionDestinationString:k,definitionLabelString:y,definitionTitleString:g,emphasis:a(),hardBreakEscape:a(z),hardBreakTrailing:a(z),htmlFlow:a(D),htmlFlowData:_,htmlText:a(E),htmlTextData:_,image:a(F),label:T,labelText:L,lineEnding:M,link:a(R),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:Y,resourceDestinationString:S,resourceTitleString:B,resource:H,setextHeading:a(A),setextHeadingLineSequence:N,setextHeadingText:w,strong:a(),thematicBreak:a()}};f1(t,(e||{}).mdastExtensions||[]);const n={};return r;function r($){let X={type:"root",children:[]};const ae={stack:[X],tokenStack:[],config:t,enter:s,exit:u,buffer:l,resume:f,data:n},de=[];let ke=-1;for(;++ke<$.length;)if($[ke][1].type==="listOrdered"||$[ke][1].type==="listUnordered")if($[ke][0]==="enter")de.push(ke);else{const mt=de.pop();ke=i($,mt,ke)}for(ke=-1;++ke<$.length;){const mt=t[$[ke][0]];d1.call(mt,$[ke][1].type)&&mt[$[ke][1].type].call(Object.assign({sliceSerialize:$[ke][2].sliceSerialize},ae),$[ke][1])}if(ae.tokenStack.length>0){const mt=ae.tokenStack[ae.tokenStack.length-1];(mt[1]||Gp).call(ae,void 0,mt[0])}for(X.position={start:Mn($.length>0?$[0][1].start:{line:1,column:1,offset:0}),end:Mn($.length>0?$[$.length-2][1].end:{line:1,column:1,offset:0})},ke=-1;++ke<t.transforms.length;)X=t.transforms[ke](X)||X;return X}function i($,X,ae){let de=X-1,ke=-1,mt=!1,un,Pt,Jn,er;for(;++de<=ae;){const nt=$[de];switch(nt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{nt[0]==="enter"?ke++:ke--,er=void 0;break}case"lineEndingBlank":{nt[0]==="enter"&&(un&&!er&&!ke&&!Jn&&(Jn=de),er=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:er=void 0}if(!ke&&nt[0]==="enter"&&nt[1].type==="listItemPrefix"||ke===-1&&nt[0]==="exit"&&(nt[1].type==="listUnordered"||nt[1].type==="listOrdered")){if(un){let En=de;for(Pt=void 0;En--;){const zt=$[En];if(zt[1].type==="lineEnding"||zt[1].type==="lineEndingBlank"){if(zt[0]==="exit")continue;Pt&&($[Pt][1].type="lineEndingBlank",mt=!0),zt[1].type="lineEnding",Pt=En}else if(!(zt[1].type==="linePrefix"||zt[1].type==="blockQuotePrefix"||zt[1].type==="blockQuotePrefixWhitespace"||zt[1].type==="blockQuoteMarker"||zt[1].type==="listItemIndent"))break}Jn&&(!Pt||Jn<Pt)&&(un._spread=!0),un.end=Object.assign({},Pt?$[Pt][1].start:nt[1].end),$.splice(Pt||de,0,["exit",un,nt[2]]),de++,ae++}if(nt[1].type==="listItemPrefix"){const En={type:"listItem",_spread:!1,start:Object.assign({},nt[1].start),end:void 0};un=En,$.splice(de,0,["enter",En,nt[2]]),de++,ae++,Jn=void 0,er=!0}}}return $[X][1]._spread=mt,ae}function o($,X){return ae;function ae(de){s.call(this,$(de),de),X&&X.call(this,de)}}function l(){this.stack.push({type:"fragment",children:[]})}function s($,X,ae){this.stack[this.stack.length-1].children.push($),this.stack.push($),this.tokenStack.push([X,ae||void 0]),$.position={start:Mn(X.start),end:void 0}}function a($){return X;function X(ae){$&&$.call(this,ae),u.call(this,ae)}}function u($,X){const ae=this.stack.pop(),de=this.tokenStack.pop();if(de)de[0].type!==$.type&&(X?X.call(this,$,de[0]):(de[1]||Gp).call(this,$,de[0]));else throw new Error("Cannot close `"+$.type+"` ("+Gi({start:$.start,end:$.end})+"): its not open");ae.position.end=Mn($.end)}function f(){return ef(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function h($){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize($),10),this.data.expectingFirstListItemValue=void 0}}function p(){const $=this.resume(),X=this.stack[this.stack.length-1];X.lang=$}function x(){const $=this.resume(),X=this.stack[this.stack.length-1];X.meta=$}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const $=this.resume(),X=this.stack[this.stack.length-1];X.value=$.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const $=this.resume(),X=this.stack[this.stack.length-1];X.value=$.replace(/(\r?\n|\r)$/g,"")}function y($){const X=this.resume(),ae=this.stack[this.stack.length-1];ae.label=X,ae.identifier=Xt(this.sliceSerialize($)).toLowerCase()}function g(){const $=this.resume(),X=this.stack[this.stack.length-1];X.title=$}function k(){const $=this.resume(),X=this.stack[this.stack.length-1];X.url=$}function C($){const X=this.stack[this.stack.length-1];if(!X.depth){const ae=this.sliceSerialize($).length;X.depth=ae}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function N($){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize($).codePointAt(0)===61?1:2}function A(){this.data.setextHeadingSlurpLineEnding=void 0}function O($){const ae=this.stack[this.stack.length-1].children;let de=ae[ae.length-1];(!de||de.type!=="text")&&(de=ge(),de.position={start:Mn($.start),end:void 0},ae.push(de)),this.stack.push(de)}function _($){const X=this.stack.pop();X.value+=this.sliceSerialize($),X.position.end=Mn($.end)}function M($){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ae=X.children[X.children.length-1];ae.position.end=Mn($.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(X.type)&&(O.call(this,$),_.call(this,$))}function z(){this.data.atHardBreak=!0}function D(){const $=this.resume(),X=this.stack[this.stack.length-1];X.value=$}function E(){const $=this.resume(),X=this.stack[this.stack.length-1];X.value=$}function P(){const $=this.resume(),X=this.stack[this.stack.length-1];X.value=$}function R(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=X,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function F(){const $=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";$.type+="Reference",$.referenceType=X,delete $.url,delete $.title}else delete $.identifier,delete $.label;this.data.referenceType=void 0}function L($){const X=this.sliceSerialize($),ae=this.stack[this.stack.length-2];ae.label=o6(X),ae.identifier=Xt(X).toLowerCase()}function T(){const $=this.stack[this.stack.length-1],X=this.resume(),ae=this.stack[this.stack.length-1];if(this.data.inReference=!0,ae.type==="link"){const de=$.children;ae.children=de}else ae.alt=X}function S(){const $=this.resume(),X=this.stack[this.stack.length-1];X.url=$}function B(){const $=this.resume(),X=this.stack[this.stack.length-1];X.title=$}function H(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function Y($){const X=this.resume(),ae=this.stack[this.stack.length-1];ae.label=X,ae.identifier=Xt(this.sliceSerialize($)).toLowerCase(),this.data.referenceType="full"}function Q($){this.data.characterReferenceType=$.type}function q($){const X=this.sliceSerialize($),ae=this.data.characterReferenceType;let de;ae?(de=t1(X,ae==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):de=tf(X);const ke=this.stack[this.stack.length-1];ke.value+=de}function G($){const X=this.stack.pop();X.position.end=Mn($.end)}function V($){_.call(this,$);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize($)}function J($){_.call(this,$);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize($)}function le(){return{type:"blockquote",children:[]}}function se(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function te(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pe(){return{type:"emphasis",children:[]}}function ve(){return{type:"heading",depth:0,children:[]}}function ce(){return{type:"break"}}function Re(){return{type:"html",value:""}}function K(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function ie($){return{type:"list",ordered:$.type==="listOrdered",start:null,spread:$._spread,children:[]}}function we($){return{type:"listItem",spread:$._spread,checked:null,children:[]}}function Oe(){return{type:"paragraph",children:[]}}function be(){return{type:"strong",children:[]}}function ge(){return{type:"text",value:""}}function Ce(){return{type:"thematicBreak"}}}function Mn(e){return{line:e.line,column:e.column,offset:e.offset}}function f1(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?f1(e,r):u6(e,r)}}function u6(e,t){let n;for(n in t)if(d1.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Gp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Gi({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Gi({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Gi({start:t.start,end:t.end})+") is still open")}function c6(e){const t=this;t.parser=n;function n(r){return s6(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function d6(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function f6(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function h6(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function p6(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g6(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function m6(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=bi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,s+=1,e.footnoteCounts.set(r,s);const a={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const u={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,u),e.applyData(t,u)}function x6(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y6(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function h1(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=r:i.push({type:"text",value:r}),i}function v6(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return h1(e,t);const i={src:bi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function w6(e,t){const n={src:bi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function k6(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function b6(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return h1(e,t);const i={href:bi(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function S6(e,t){const n={href:bi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function C6(e,t,n){const r=e.all(t),i=n?N6(n):p1(t),o={},l=[];if(typeof t.checked=="boolean"){const f=r[0];let c;f&&f.type==="element"&&f.tagName==="p"?c=f:(c={type:"element",tagName:"p",properties:{},children:[]},r.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const f=r[s];(i||s!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?l.push(...f.children):l.push(f)}const a=r[r.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,u),e.applyData(t,u)}function N6(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=p1(n[r])}return t}function p1(e){const t=e.spread;return t??e.children.length>1}function E6(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const l=r[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function _6(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j6(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function I6(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function M6(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),i.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=Qd(t.children[1]),a=Xy(t.children[t.children.length-1]);s&&a&&(l.position={start:s,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function A6(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,s=l?l.length:t.children.length;let a=-1;const u=[];for(;++a<s;){const c=t.children[a],h={},p=l?l[a]:void 0;p&&(h.align=p);let x={type:"element",tagName:o,properties:h,children:[]};c&&(x.children=e.all(c),e.patch(c,x),x=e.applyData(c,x)),u.push(x)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function L6(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Jp=9,e0=32;function T6(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(t0(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(t0(t.slice(i),i>0,!1)),o.join("")}function t0(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===Jp||o===e0;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===Jp||o===e0;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function P6(e,t){const n={type:"text",value:T6(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function z6(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const R6={blockquote:d6,break:f6,code:h6,delete:p6,emphasis:g6,footnoteReference:m6,heading:x6,html:y6,imageReference:v6,image:w6,inlineCode:k6,linkReference:b6,link:S6,listItem:C6,list:E6,paragraph:_6,root:j6,strong:I6,table:M6,tableCell:L6,tableRow:A6,text:P6,thematicBreak:z6,toml:vl,yaml:vl,definition:vl,footnoteDefinition:vl};function vl(){}const g1=-1,sa=0,eo=1,Ns=2,rf=3,of=4,lf=5,sf=6,m1=7,x1=8,n0=typeof self=="object"?self:globalThis,D6=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case sa:case g1:return n(l,i);case eo:{const s=n([],i);for(const a of l)s.push(r(a));return s}case Ns:{const s=n({},i);for(const[a,u]of l)s[r(a)]=r(u);return s}case rf:return n(new Date(l),i);case of:{const{source:s,flags:a}=l;return n(new RegExp(s,a),i)}case lf:{const s=n(new Map,i);for(const[a,u]of l)s.set(r(a),r(u));return s}case sf:{const s=n(new Set,i);for(const a of l)s.add(r(a));return s}case m1:{const{name:s,message:a}=l;return n(new n0[s](a),i)}case x1:return n(BigInt(l),i);case"BigInt":return n(Object(BigInt(l)),i);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:s}=new Uint8Array(l);return n(new DataView(s),l)}}return n(new n0[o](l),i)};return r},r0=e=>D6(new Map,e)(0),Ir="",{toString:O6}={},{keys:F6}=Object,Pi=e=>{const t=typeof e;if(t!=="object"||!e)return[sa,t];const n=O6.call(e).slice(8,-1);switch(n){case"Array":return[eo,Ir];case"Object":return[Ns,Ir];case"Date":return[rf,Ir];case"RegExp":return[of,Ir];case"Map":return[lf,Ir];case"Set":return[sf,Ir];case"DataView":return[eo,n]}return n.includes("Array")?[eo,n]:n.includes("Error")?[m1,n]:[Ns,n]},wl=([e,t])=>e===sa&&(t==="function"||t==="symbol"),$6=(e,t,n,r)=>{const i=(l,s)=>{const a=r.push(l)-1;return n.set(s,a),a},o=l=>{if(n.has(l))return n.get(l);let[s,a]=Pi(l);switch(s){case sa:{let f=l;switch(a){case"bigint":s=x1,f=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);f=null;break;case"undefined":return i([g1],l)}return i([s,f],l)}case eo:{if(a){let h=l;return a==="DataView"?h=new Uint8Array(l.buffer):a==="ArrayBuffer"&&(h=new Uint8Array(l)),i([a,[...h]],l)}const f=[],c=i([s,f],l);for(const h of l)f.push(o(h));return c}case Ns:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const f=[],c=i([s,f],l);for(const h of F6(l))(e||!wl(Pi(l[h])))&&f.push([o(h),o(l[h])]);return c}case rf:return i([s,l.toISOString()],l);case of:{const{source:f,flags:c}=l;return i([s,{source:f,flags:c}],l)}case lf:{const f=[],c=i([s,f],l);for(const[h,p]of l)(e||!(wl(Pi(h))||wl(Pi(p))))&&f.push([o(h),o(p)]);return c}case sf:{const f=[],c=i([s,f],l);for(const h of l)(e||!wl(Pi(h)))&&f.push(o(h));return c}}const{message:u}=l;return i([s,{name:a,message:u}],l)};return o},i0=(e,{json:t,lossy:n}={})=>{const r=[];return $6(!(t||n),!!t,new Map,r)(e),r},Es=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?r0(i0(e,t)):structuredClone(e):(e,t)=>r0(i0(e,t));function B6(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H6(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function V6(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||B6,r=e.options.footnoteBackLabel||H6,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let a=-1;for(;++a<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[a]);if(!u)continue;const f=e.all(u),c=String(u.identifier).toUpperCase(),h=bi(c.toLowerCase());let p=0;const x=[],v=e.footnoteCounts.get(c);for(;v!==void 0&&++p<=v;){x.length>0&&x.push({type:"text",value:" "});let y=typeof n=="string"?n:n(a,p);typeof y=="string"&&(y={type:"text",value:y}),x.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(a,p),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const b=f[f.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const y=b.children[b.children.length-1];y&&y.type==="text"?y.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...x)}else f.push(...x);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(f,!0)};e.patch(u,m),s.push(m)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Es(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const aa=function(e){if(e==null)return X6;if(typeof e=="function")return ua(e);if(typeof e=="object")return Array.isArray(e)?U6(e):W6(e);if(typeof e=="string")return Y6(e);throw new Error("Expected function, string, or object as test")};function U6(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=aa(e[n]);return ua(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function W6(e){const t=e;return ua(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function Y6(e){return ua(t);function t(n){return n&&n.type===e}}function ua(e){return t;function t(n,r,i){return!!(K6(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function X6(){return!0}function K6(e){return e!==null&&typeof e=="object"&&"type"in e}const y1=[],q6=!0,_c=!1,Q6="skip";function v1(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=aa(i),l=r?-1:1;s(e,void 0,[])();function s(a,u,f){const c=a&&typeof a=="object"?a:{};if(typeof c.type=="string"){const p=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=y1,x,v,b;if((!t||o(a,u,f[f.length-1]||void 0))&&(p=Z6(n(a,f)),p[0]===_c))return p;if("children"in a&&a.children){const m=a;if(m.children&&p[0]!==Q6)for(v=(r?m.children.length:-1)+l,b=f.concat(m);v>-1&&v<m.children.length;){const y=m.children[v];if(x=s(y,v,b)(),x[0]===_c)return x;v=typeof x[1]=="number"?x[1]:v+l}}return p}}}function Z6(e){return Array.isArray(e)?e:typeof e=="number"?[q6,e]:e==null?y1:[e]}function af(e,t,n,r){let i,o,l;typeof t=="function"&&typeof n!="function"?(o=void 0,l=t,i=n):(o=t,l=n,i=r),v1(e,o,s,i);function s(a,u){const f=u[u.length-1],c=f?f.children.indexOf(a):void 0;return l(a,c,f)}}const jc={}.hasOwnProperty,G6={};function J6(e,t){const n=t||G6,r=new Map,i=new Map,o=new Map,l={...R6,...n.handlers},s={all:u,applyData:t8,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:n,patch:e8,wrap:r8};return af(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const c=f.type==="definition"?r:i,h=String(f.identifier).toUpperCase();c.has(h)||c.set(h,f)}}),s;function a(f,c){const h=f.type,p=s.handlers[h];if(jc.call(s.handlers,h)&&p)return p(s,f,c);if(s.options.passThrough&&s.options.passThrough.includes(h)){if("children"in f){const{children:v,...b}=f,m=Es(b);return m.children=s.all(f),m}return Es(f)}return(s.options.unknownHandler||n8)(s,f,c)}function u(f){const c=[];if("children"in f){const h=f.children;let p=-1;for(;++p<h.length;){const x=s.one(h[p],f);if(x){if(p&&h[p-1].type==="break"&&(!Array.isArray(x)&&x.type==="text"&&(x.value=o0(x.value)),!Array.isArray(x)&&x.type==="element")){const v=x.children[0];v&&v.type==="text"&&(v.value=o0(v.value))}Array.isArray(x)?c.push(...x):c.push(x)}}}return c}}function e8(e,t){e.position&&(t.position=HE(e))}function t8(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,Es(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function n8(e,t){const n=t.data||{},r="value"in t&&!(jc.call(n,"hProperties")||jc.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function r8(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function o0(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function l0(e,t){const n=J6(e,t),r=n.one(e,void 0),i=V6(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function i8(e,t){return e&&"run"in e?async function(n,r){const i=l0(n,{file:r,...t});await e.run(i,r)}:function(n,r){return l0(n,{file:r,...e||t})}}function s0(e){if(e)throw e}var Bl=Object.prototype.hasOwnProperty,w1=Object.prototype.toString,a0=Object.defineProperty,u0=Object.getOwnPropertyDescriptor,c0=function(t){return typeof Array.isArray=="function"?Array.isArray(t):w1.call(t)==="[object Array]"},d0=function(t){if(!t||w1.call(t)!=="[object Object]")return!1;var n=Bl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Bl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||Bl.call(t,i)},f0=function(t,n){a0&&n.name==="__proto__"?a0(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},h0=function(t,n){if(n==="__proto__")if(Bl.call(t,n)){if(u0)return u0(t,n).value}else return;return t[n]},o8=function e(){var t,n,r,i,o,l,s=arguments[0],a=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},a=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});a<u;++a)if(t=arguments[a],t!=null)for(n in t)r=h0(s,n),i=h0(t,n),s!==i&&(f&&i&&(d0(i)||(o=c0(i)))?(o?(o=!1,l=r&&c0(r)?r:[]):l=r&&d0(r)?r:{},f0(s,{name:n,newValue:e(f,l,i)})):typeof i<"u"&&f0(s,{name:n,newValue:i}));return s};const Za=js(o8);function Ic(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function l8(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);s(null,...i);function s(a,...u){const f=e[++o];let c=-1;if(a){l(a);return}for(;++c<i.length;)(u[c]===null||u[c]===void 0)&&(u[c]=i[c]);i=u,f?s8(f,s)(...u):l(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function s8(e,t){let n;return r;function r(...l){const s=e.length>l.length;let a;s&&l.push(i);try{a=e.apply(this,l)}catch(u){const f=u;if(s&&n)throw f;return i(f)}s||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...s){n||(n=!0,t(l,...s))}function o(l){i(null,l)}}const Gt={basename:a8,dirname:u8,extname:c8,join:d8,sep:"/"};function a8(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Wo(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else l<0&&(o=!0,l=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function u8(e){if(Wo(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function c8(e){Wo(e);let t=e.length,n=-1,r=0,i=-1,o=0,l;for(;t--;){const s=e.codePointAt(t);if(s===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function d8(...e){let t=-1,n;for(;++t<e.length;)Wo(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":f8(n)}function f8(e){Wo(e);const t=e.codePointAt(0)===47;let n=h8(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function h8(e,t){let n="",r=0,i=-1,o=0,l=-1,s,a;for(;++l<=e.length;){if(l<e.length)s=e.codePointAt(l);else{if(s===47)break;s=47}if(s===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(a=n.lastIndexOf("/"),a!==n.length-1){a<0?(n="",r=0):(n=n.slice(0,a),r=n.length-1-n.lastIndexOf("/")),i=l,o=0;continue}}else if(n.length>0){n="",r=0,i=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,l):n=e.slice(i+1,l),r=l-i-1;i=l,o=0}else s===46&&o>-1?o++:o=-1}return n}function Wo(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const p8={cwd:g8};function g8(){return"/"}function Mc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function m8(e){if(typeof e=="string")e=new URL(e);else if(!Mc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return x8(e)}function x8(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Ga=["history","path","basename","stem","extname","dirname"];class k1{constructor(t){let n;t?Mc(t)?n={path:t}:typeof t=="string"||y8(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":p8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Ga.length;){const o=Ga[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)Ga.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Gt.basename(this.path):void 0}set basename(t){eu(t,"basename"),Ja(t,"basename"),this.path=Gt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gt.dirname(this.path):void 0}set dirname(t){p0(this.basename,"dirname"),this.path=Gt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gt.extname(this.path):void 0}set extname(t){if(Ja(t,"extname"),p0(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Mc(t)&&(t=m8(t)),eu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gt.basename(this.path,this.extname):void 0}set stem(t){eu(t,"stem"),Ja(t,"stem"),this.path=Gt.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new tt(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ja(e,t){if(e&&e.includes(Gt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gt.sep+"`")}function eu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function p0(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function y8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const v8=function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},w8={}.hasOwnProperty;class uf extends v8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=l8()}copy(){const t=new uf;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Za(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ru("data",this.frozen),this.namespace[t]=n,this):w8.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ru("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=kl(t),r=this.parser||this.Parser;return tu("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),tu("process",this.parser||this.Parser),nu("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,l){const s=kl(t),a=r.parse(s);r.run(a,s,function(f,c,h){if(f||!c||!h)return u(f);const p=c,x=r.stringify(p,h);S8(x)?h.value=x:h.result=x,u(f,h)});function u(f,c){f||!c?l(f):o?o(c):n(void 0,c)}}}processSync(t){let n=!1,r;return this.freeze(),tu("processSync",this.parser||this.Parser),nu("processSync",this.compiler||this.Compiler),this.process(t,i),m0("processSync","process",n),r;function i(o,l){n=!0,s0(o),r=l}}run(t,n,r){g0(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,s){const a=kl(n);i.run(t,a,u);function u(f,c,h){const p=c||t;f?s(f):l?l(p):r(void 0,p,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),m0("runSync","run",r),i;function o(l,s){s0(l),i=s,r=!0}}stringify(t,n){this.freeze();const r=kl(n),i=this.compiler||this.Compiler;return nu("stringify",i),g0(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ru("use",this.frozen),t!=null)if(typeof t=="function")a(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")a(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...c]=u;a(f,c)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(i.settings=Za(!0,i.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const c=u[f];o(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function a(u,f){let c=-1,h=-1;for(;++c<r.length;)if(r[c][0]===u){h=c;break}if(h===-1)r.push([u,...f]);else if(f.length>0){let[p,...x]=f;const v=r[h][1];Ic(v)&&Ic(p)&&(p=Za(!0,v,p)),r[h]=[u,p,...x]}}}}const k8=new uf().freeze();function tu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function nu(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ru(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function g0(e){if(!Ic(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function m0(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function kl(e){return b8(e)?e:new k1(e)}function b8(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function S8(e){return typeof e=="string"||C8(e)}function C8(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const N8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",x0=[],y0={allowDangerousHtml:!0},E8=/^(https?|ircs?|mailto|xmpp)$/i,_8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function b1(e){const t=j8(e),n=I8(e);return M8(t.runSync(t.parse(n),n),e)}function j8(e){const t=e.rehypePlugins||x0,n=e.remarkPlugins||x0,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...y0}:y0;return k8().use(c6).use(n).use(i8,r).use(t)}function I8(e){const t=e.children||"",n=new k1;return typeof t=="string"&&(n.value=t),n}function M8(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,l=t.skipHtml,s=t.unwrapDisallowed,a=t.urlTransform||A8;for(const f of _8)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+N8+f.id,void 0);return af(e,u),XE(e,{Fragment:d.Fragment,components:i,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function u(f,c,h){if(f.type==="raw"&&h&&typeof c=="number")return l?h.children.splice(c,1):h.children[c]={type:"text",value:f.value},c;if(f.type==="element"){let p;for(p in Ka)if(Object.hasOwn(Ka,p)&&Object.hasOwn(f.properties,p)){const x=f.properties[p],v=Ka[p];(v===null||v.includes(f.tagName))&&(f.properties[p]=a(String(x||""),p,f))}}if(f.type==="element"){let p=n?!n.includes(f.tagName):o?o.includes(f.tagName):!1;if(!p&&r&&typeof c=="number"&&(p=!r(f,c,h)),p&&h&&typeof c=="number")return s&&f.children?h.children.splice(c,1,...f.children):h.children.splice(c,1),c}}}function A8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||E8.test(e.slice(0,t))?e:""}function v0(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function L8(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function T8(e,t,n){const i=aa((n||{}).ignore||[]),o=P8(t);let l=-1;for(;++l<o.length;)v1(e,"text",s);function s(u,f){let c=-1,h;for(;++c<f.length;){const p=f[c],x=h?h.children:void 0;if(i(p,x?x.indexOf(p):void 0,h))return;h=p}if(h)return a(u,f)}function a(u,f){const c=f[f.length-1],h=o[l][0],p=o[l][1];let x=0;const b=c.children.indexOf(u);let m=!1,y=[];h.lastIndex=0;let g=h.exec(u.value);for(;g;){const k=g.index,C={index:g.index,input:g.input,stack:[...f,u]};let w=p(...g,C);if(typeof w=="string"&&(w=w.length>0?{type:"text",value:w}:void 0),w===!1?h.lastIndex=k+1:(x!==k&&y.push({type:"text",value:u.value.slice(x,k)}),Array.isArray(w)?y.push(...w):w&&y.push(w),x=k+g[0].length,m=!0),!h.global)break;g=h.exec(u.value)}return m?(x<u.value.length&&y.push({type:"text",value:u.value.slice(x)}),c.children.splice(b,1,...y)):y=[u],b+y.length}}function P8(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([z8(i[0]),R8(i[1])])}return t}function z8(e){return typeof e=="string"?new RegExp(L8(e),"g"):e}function R8(e){return typeof e=="function"?e:function(){return e}}const iu="phrasing",ou=["autolink","link","image","label"];function D8(){return{transforms:[U8],enter:{literalAutolink:F8,literalAutolinkEmail:lu,literalAutolinkHttp:lu,literalAutolinkWww:lu},exit:{literalAutolink:V8,literalAutolinkEmail:H8,literalAutolinkHttp:$8,literalAutolinkWww:B8}}}function O8(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:iu,notInConstruct:ou},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:iu,notInConstruct:ou},{character:":",before:"[ps]",after:"\\/",inConstruct:iu,notInConstruct:ou}]}}function F8(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function lu(e){this.config.enter.autolinkProtocol.call(this,e)}function $8(e){this.config.exit.autolinkProtocol.call(this,e)}function B8(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function H8(e){this.config.exit.autolinkEmail.call(this,e)}function V8(e){this.exit(e)}function U8(e){T8(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,W8],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Y8]],{ignore:["link","linkReference"]})}function W8(e,t,n,r,i){let o="";if(!S1(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!X8(n)))return!1;const l=K8(n+r);if(!l[0])return!1;const s={type:"link",title:null,url:o+t+l[0],children:[{type:"text",value:t+l[0]}]};return l[1]?[s,{type:"text",value:l[1]}]:s}function Y8(e,t,n,r){return!S1(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function X8(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function K8(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=v0(e,"(");let o=v0(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function S1(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Sr(n)||oa(n))&&(!t||n!==47)}C1.peek=r7;function q8(){this.buffer()}function Q8(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Z8(){this.buffer()}function G8(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function J8(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function e7(e){this.exit(e)}function t7(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xt(this.sliceSerialize(e)).toLowerCase(),n.label=t}function n7(e){this.exit(e)}function r7(){return"["}function C1(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const l=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),s(),l(),o+=i.move("]"),o}function i7(){return{enter:{gfmFootnoteCallString:q8,gfmFootnoteCall:Q8,gfmFootnoteDefinitionLabelString:Z8,gfmFootnoteDefinition:G8},exit:{gfmFootnoteCallString:J8,gfmFootnoteCall:e7,gfmFootnoteDefinitionLabelString:t7,gfmFootnoteDefinition:n7}}}function o7(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:C1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,l){const s=o.createTracker(l);let a=s.move("[^");const u=o.enter("footnoteDefinition"),f=o.enter("label");return a+=s.move(o.safe(o.associationId(r),{before:a,after:"]"})),f(),a+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),a+=s.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,s.current()),t?N1:l7))),u(),a}}function l7(e,t,n){return t===0?e:N1(e,t,n)}function N1(e,t,n){return(n?"":"    ")+e}const s7=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];E1.peek=f7;function a7(){return{canContainEols:["delete"],enter:{strikethrough:c7},exit:{strikethrough:d7}}}function u7(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:s7}],handlers:{delete:E1}}}function c7(e){this.enter({type:"delete",children:[]},e)}function d7(e){this.exit(e)}function E1(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let l=i.move("~~");return l+=n.containerPhrasing(e,{...i.current(),before:l,after:"~"}),l+=i.move("~~"),o(),l}function f7(){return"~"}function h7(e){return e.length}function p7(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||h7,o=[],l=[],s=[],a=[];let u=0,f=-1;for(;++f<e.length;){const v=[],b=[];let m=-1;for(e[f].length>u&&(u=e[f].length);++m<e[f].length;){const y=g7(e[f][m]);if(n.alignDelimiters!==!1){const g=i(y);b[m]=g,(a[m]===void 0||g>a[m])&&(a[m]=g)}v.push(y)}l[f]=v,s[f]=b}let c=-1;if(typeof r=="object"&&"length"in r)for(;++c<u;)o[c]=w0(r[c]);else{const v=w0(r);for(;++c<u;)o[c]=v}c=-1;const h=[],p=[];for(;++c<u;){const v=o[c];let b="",m="";v===99?(b=":",m=":"):v===108?b=":":v===114&&(m=":");let y=n.alignDelimiters===!1?1:Math.max(1,a[c]-b.length-m.length);const g=b+"-".repeat(y)+m;n.alignDelimiters!==!1&&(y=b.length+y+m.length,y>a[c]&&(a[c]=y),p[c]=y),h[c]=g}l.splice(1,0,h),s.splice(1,0,p),f=-1;const x=[];for(;++f<l.length;){const v=l[f],b=s[f];c=-1;const m=[];for(;++c<u;){const y=v[c]||"";let g="",k="";if(n.alignDelimiters!==!1){const C=a[c]-(b[c]||0),w=o[c];w===114?g=" ".repeat(C):w===99?C%2?(g=" ".repeat(C/2+.5),k=" ".repeat(C/2-.5)):(g=" ".repeat(C/2),k=g):k=" ".repeat(C)}n.delimiterStart!==!1&&!c&&m.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||c)&&m.push(" "),n.alignDelimiters!==!1&&m.push(g),m.push(y),n.alignDelimiters!==!1&&m.push(k),n.padding!==!1&&m.push(" "),(n.delimiterEnd!==!1||c!==u-1)&&m.push("|")}x.push(n.delimiterEnd===!1?m.join("").replace(/ +$/,""):m.join(""))}return x.join(`
`)}function g7(e){return e==null?"":String(e)}function w0(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function m7(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const l=n.indentLines(n.containerFlow(e,o.current()),x7);return i(),l}function x7(e,t,n){return">"+(n?"":" ")+e}function y7(e,t){return k0(e,t.inConstruct,!0)&&!k0(e,t.notInConstruct,!1)}function k0(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function b0(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&y7(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function v7(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,l=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>l&&(l=o):o=1,i=r+t.length,r=n.indexOf(t,i);return l}function w7(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function k7(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function b7(e,t,n,r){const i=k7(n),o=e.value||"",l=i==="`"?"GraveAccent":"Tilde";if(w7(e,n)){const c=n.enter("codeIndented"),h=n.indentLines(o,S7);return c(),h}const s=n.createTracker(r),a=i.repeat(Math.max(v7(o,i)+1,3)),u=n.enter("codeFenced");let f=s.move(a);if(e.lang){const c=n.enter(`codeFencedLang${l}`);f+=s.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),c()}if(e.lang&&e.meta){const c=n.enter(`codeFencedMeta${l}`);f+=s.move(" "),f+=s.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),c()}return f+=s.move(`
`),o&&(f+=s.move(o+`
`)),f+=s.move(a),u(),f}function S7(e,t,n){return(n?"":"    ")+e}function cf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function C7(e,t,n,r){const i=cf(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("definition");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("[");return u+=a.move(n.safe(n.associationId(e),{before:u,after:"]",...a.current()})),u+=a.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),l(),u}function N7(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Io(e){return"&#x"+e.toString(16).toUpperCase()+";"}function _s(e,t,n){const r=mi(e),i=mi(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}_1.peek=E7;function _1(e,t,n,r){const i=N7(n),o=n.enter("emphasis"),l=n.createTracker(r),s=l.move(i);let a=l.move(n.containerPhrasing(e,{after:i,before:s,...l.current()}));const u=a.charCodeAt(0),f=_s(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Io(u)+a.slice(1));const c=a.charCodeAt(a.length-1),h=_s(r.after.charCodeAt(0),c,i);h.inside&&(a=a.slice(0,-1)+Io(c));const p=l.move(i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function E7(e,t,n){return n.options.emphasis||"*"}function _7(e,t){let n=!1;return af(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,_c}),!!((!e.depth||e.depth<3)&&ef(e)&&(t.options.setext||n))}function j7(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if(_7(e,n)){const f=n.enter("headingSetext"),c=n.enter("phrasing"),h=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return c(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const l="#".repeat(i),s=n.enter("headingAtx"),a=n.enter("phrasing");o.move(l+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=Io(u.charCodeAt(0))+u.slice(1)),u=u?l+" "+u:l,n.options.closeAtx&&(u+=" "+l),a(),s(),u}j1.peek=I7;function j1(e){return e.value||""}function I7(){return"<"}I1.peek=M7;function I1(e,t,n,r){const i=cf(n),o=i==='"'?"Quote":"Apostrophe",l=n.enter("image");let s=n.enter("label");const a=n.createTracker(r);let u=a.move("![");return u+=a.move(n.safe(e.alt,{before:u,after:"]",...a.current()})),u+=a.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(n.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(s=n.enter("destinationRaw"),u+=a.move(n.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),s(),e.title&&(s=n.enter(`title${o}`),u+=a.move(" "+i),u+=a.move(n.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),s()),u+=a.move(")"),l(),u}function M7(){return"!"}M1.peek=A7;function M1(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("![");const u=n.safe(e.alt,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const f=n.stack;n.stack=[],l=n.enter("reference");const c=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return l(),n.stack=f,o(),i==="full"||!u||u!==c?a+=s.move(c+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function A7(){return"!"}A1.peek=L7;function A1(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const l=n.unsafe[o],s=n.compilePattern(l);let a;if(l.atBreak)for(;a=s.exec(r);){let u=a.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(a.index+1)}}return i+r+i}function L7(){return"`"}function L1(e,t){const n=ef(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}T1.peek=T7;function T1(e,t,n,r){const i=cf(n),o=i==='"'?"Quote":"Apostrophe",l=n.createTracker(r);let s,a;if(L1(e,n)){const f=n.stack;n.stack=[],s=n.enter("autolink");let c=l.move("<");return c+=l.move(n.containerPhrasing(e,{before:c,after:">",...l.current()})),c+=l.move(">"),s(),n.stack=f,c}s=n.enter("link"),a=n.enter("label");let u=l.move("[");return u+=l.move(n.containerPhrasing(e,{before:u,after:"](",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function T7(e,t,n){return L1(e,n)?"<":"["}P1.peek=P7;function P1(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let l=n.enter("label");const s=n.createTracker(r);let a=s.move("[");const u=n.containerPhrasing(e,{before:a,after:"]",...s.current()});a+=s.move(u+"]["),l();const f=n.stack;n.stack=[],l=n.enter("reference");const c=n.safe(n.associationId(e),{before:a,after:"]",...s.current()});return l(),n.stack=f,o(),i==="full"||!u||u!==c?a+=s.move(c+"]"):i==="shortcut"?a=a.slice(0,-1):a+=s.move("]"),a}function P7(){return"["}function df(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function z7(e){const t=df(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function R7(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function z1(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function D7(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let l=e.ordered?R7(n):df(n);const s=e.ordered?l==="."?")":".":z7(n);let a=t&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((l==="*"||l==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(a=!0),z1(n)===l&&f){let c=-1;for(;++c<e.children.length;){const h=e.children[c];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){a=!0;break}}}}a&&(l=s),n.bulletCurrent=l;const u=n.containerFlow(e,r);return n.bulletLastUsed=l,n.bulletCurrent=o,i(),u}function O7(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function F7(e,t,n,r){const i=O7(n);let o=n.bulletCurrent||df(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let l=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(l=Math.ceil(l/4)*4);const s=n.createTracker(r);s.move(o+" ".repeat(l-o.length)),s.shift(l);const a=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),f);return a(),u;function f(c,h,p){return h?(p?"":" ".repeat(l))+c:(p?o:o+" ".repeat(l-o.length))+c}}function $7(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),l=n.containerPhrasing(e,r);return o(),i(),l}const B7=aa(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function H7(e,t,n,r){return(e.children.some(function(l){return B7(l)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function V7(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}R1.peek=U7;function R1(e,t,n,r){const i=V7(n),o=n.enter("strong"),l=n.createTracker(r),s=l.move(i+i);let a=l.move(n.containerPhrasing(e,{after:i,before:s,...l.current()}));const u=a.charCodeAt(0),f=_s(r.before.charCodeAt(r.before.length-1),u,i);f.inside&&(a=Io(u)+a.slice(1));const c=a.charCodeAt(a.length-1),h=_s(r.after.charCodeAt(0),c,i);h.inside&&(a=a.slice(0,-1)+Io(c));const p=l.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},s+a+p}function U7(e,t,n){return n.options.strong||"*"}function W7(e,t,n,r){return n.safe(e.value,r)}function Y7(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function X7(e,t,n){const r=(z1(n)+(n.options.ruleSpaces?" ":"")).repeat(Y7(n));return n.options.ruleSpaces?r.slice(0,-1):r}const D1={blockquote:m7,break:b0,code:b7,definition:C7,emphasis:_1,hardBreak:b0,heading:j7,html:j1,image:I1,imageReference:M1,inlineCode:A1,link:T1,linkReference:P1,list:D7,listItem:F7,paragraph:$7,root:H7,strong:R1,text:W7,thematicBreak:X7};function K7(){return{enter:{table:q7,tableData:S0,tableHeader:S0,tableRow:Z7},exit:{codeText:G7,table:Q7,tableData:su,tableHeader:su,tableRow:su}}}function q7(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Q7(e){this.exit(e),this.data.inTable=void 0}function Z7(e){this.enter({type:"tableRow",children:[]},e)}function su(e){this.exit(e)}function S0(e){this.enter({type:"tableCell",children:[]},e)}function G7(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,J7));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function J7(e,t){return t==="|"?t:e}function e9(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:l,tableCell:a,tableRow:s}};function l(p,x,v,b){return u(f(p,v,b),p.align)}function s(p,x,v,b){const m=c(p,v,b),y=u([m]);return y.slice(0,y.indexOf(`
`))}function a(p,x,v,b){const m=v.enter("tableCell"),y=v.enter("phrasing"),g=v.containerPhrasing(p,{...b,before:o,after:o});return y(),m(),g}function u(p,x){return p7(p,{align:x,alignDelimiters:r,padding:n,stringLength:i})}function f(p,x,v){const b=p.children;let m=-1;const y=[],g=x.enter("table");for(;++m<b.length;)y[m]=c(b[m],x,v);return g(),y}function c(p,x,v){const b=p.children;let m=-1;const y=[],g=x.enter("tableRow");for(;++m<b.length;)y[m]=a(b[m],p,x,v);return g(),y}function h(p,x,v){let b=D1.inlineCode(p,x,v);return v.stack.includes("tableCell")&&(b=b.replace(/\|/g,"\\$&")),b}}function t9(){return{exit:{taskListCheckValueChecked:C0,taskListCheckValueUnchecked:C0,paragraph:r9}}}function n9(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:i9}}}function C0(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function r9(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,l;for(;++o<i.length;){const s=i[o];if(s.type==="paragraph"){l=s;break}}l===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function i9(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",l="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);o&&s.move(l);let a=D1.listItem(e,t,n,{...r,...s.current()});return o&&(a=a.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),a;function u(f){return f+l}}function o9(){return[D8(),i7(),a7(),K7(),t9()]}function l9(e){return{extensions:[O8(),o7(e),u7(),e9(e),n9()]}}const s9={tokenize:h9,partial:!0},O1={tokenize:p9,partial:!0},F1={tokenize:g9,partial:!0},$1={tokenize:m9,partial:!0},a9={tokenize:x9,partial:!0},B1={name:"wwwAutolink",tokenize:d9,previous:V1},H1={name:"protocolAutolink",tokenize:f9,previous:U1},Nn={name:"emailAutolink",tokenize:c9,previous:W1},an={};function u9(){return{text:an}}let tr=48;for(;tr<123;)an[tr]=Nn,tr++,tr===58?tr=65:tr===91&&(tr=97);an[43]=Nn;an[45]=Nn;an[46]=Nn;an[95]=Nn;an[72]=[Nn,H1];an[104]=[Nn,H1];an[87]=[Nn,B1];an[119]=[Nn,B1];function c9(e,t,n){const r=this;let i,o;return l;function l(c){return!Ac(c)||!W1.call(r,r.previous)||ff(r.events)?n(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(c))}function s(c){return Ac(c)?(e.consume(c),s):c===64?(e.consume(c),a):n(c)}function a(c){return c===46?e.check(a9,f,u)(c):c===45||c===95||Je(c)?(o=!0,e.consume(c),a):f(c)}function u(c){return e.consume(c),i=!0,a}function f(c){return o&&i&&it(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):n(c)}}function d9(e,t,n){const r=this;return i;function i(l){return l!==87&&l!==119||!V1.call(r,r.previous)||ff(r.events)?n(l):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(s9,e.attempt(O1,e.attempt(F1,o),n),n)(l))}function o(l){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(l)}}function f9(e,t,n){const r=this;let i="",o=!1;return l;function l(c){return(c===72||c===104)&&U1.call(r,r.previous)&&!ff(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(c),e.consume(c),s):n(c)}function s(c){if(it(c)&&i.length<5)return i+=String.fromCodePoint(c),e.consume(c),s;if(c===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(c),a}return n(c)}function a(c){return c===47?(e.consume(c),o?u:(o=!0,a)):n(c)}function u(c){return c===null||Cs(c)||Ne(c)||Sr(c)||oa(c)?n(c):e.attempt(O1,e.attempt(F1,f),n)(c)}function f(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function h9(e,t,n){let r=0;return i;function i(l){return(l===87||l===119)&&r<3?(r++,e.consume(l),i):l===46&&r===3?(e.consume(l),o):n(l)}function o(l){return l===null?n(l):t(l)}}function p9(e,t,n){let r,i,o;return l;function l(u){return u===46||u===95?e.check($1,a,s)(u):u===null||Ne(u)||Sr(u)||u!==45&&oa(u)?a(u):(o=!0,e.consume(u),l)}function s(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),l}function a(u){return i||r||!o?n(u):t(u)}}function g9(e,t){let n=0,r=0;return i;function i(l){return l===40?(n++,e.consume(l),i):l===41&&r<n?o(l):l===33||l===34||l===38||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===60||l===63||l===93||l===95||l===126?e.check($1,t,o)(l):l===null||Ne(l)||Sr(l)?t(l):(e.consume(l),i)}function o(l){return l===41&&r++,e.consume(l),i}}function m9(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),o):s===93?(e.consume(s),i):s===60||s===null||Ne(s)||Sr(s)?t(s):n(s)}function i(s){return s===null||s===40||s===91||Ne(s)||Sr(s)?t(s):r(s)}function o(s){return it(s)?l(s):n(s)}function l(s){return s===59?(e.consume(s),r):it(s)?(e.consume(s),l):n(s)}}function x9(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Je(o)?n(o):t(o)}}function V1(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Ne(e)}function U1(e){return!it(e)}function W1(e){return!(e===47||Ac(e))}function Ac(e){return e===43||e===45||e===46||e===95||Je(e)}function ff(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const y9={tokenize:E9,partial:!0};function v9(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:S9,continuation:{tokenize:C9},exit:N9}},text:{91:{name:"gfmFootnoteCall",tokenize:b9},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:w9,resolveTo:k9}}}}function w9(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let l;for(;i--;){const a=r.events[i][1];if(a.type==="labelImage"){l=a;break}if(a.type==="gfmFootnoteCall"||a.type==="labelLink"||a.type==="label"||a.type==="image"||a.type==="link")break}return s;function s(a){if(!l||!l._balanced)return n(a);const u=Xt(r.sliceSerialize({start:l.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(a):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(a),e.exit("gfmFootnoteCallLabelMarker"),t(a))}}function k9(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},l={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",l,t],["exit",l,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function b9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,l;return s;function s(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),a}function a(c){return c!==94?n(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(o>999||c===93&&!l||c===null||c===91||Ne(c))return n(c);if(c===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Xt(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(c)}return Ne(c)||(l=!0),o++,e.consume(c),c===92?f:u}function f(c){return c===91||c===92||c===93?(e.consume(c),o++,u):u(c)}}function S9(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,l=0,s;return a;function a(x){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(x){return x===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):n(x)}function f(x){if(l>999||x===93&&!s||x===null||x===91||Ne(x))return n(x);if(x===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return o=Xt(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(x),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Ne(x)||(s=!0),l++,e.consume(x),x===92?c:f}function c(x){return x===91||x===92||x===93?(e.consume(x),l++,f):f(x)}function h(x){return x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),i.includes(o)||i.push(o),me(e,p,"gfmFootnoteDefinitionWhitespace")):n(x)}function p(x){return t(x)}}function C9(e,t,n){return e.check(Uo,t,e.attempt(y9,t,n))}function N9(e){e.exit("gfmFootnoteDefinition")}function E9(e,t,n){const r=this;return me(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const l=r.events[r.events.length-1];return l&&l[1].type==="gfmFootnoteDefinitionIndent"&&l[2].sliceSerialize(l[1],!0).length===4?t(o):n(o)}}function _9(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(l,s){let a=-1;for(;++a<l.length;)if(l[a][0]==="enter"&&l[a][1].type==="strikethroughSequenceTemporary"&&l[a][1]._close){let u=a;for(;u--;)if(l[u][0]==="exit"&&l[u][1].type==="strikethroughSequenceTemporary"&&l[u][1]._open&&l[a][1].end.offset-l[a][1].start.offset===l[u][1].end.offset-l[u][1].start.offset){l[a][1].type="strikethroughSequence",l[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},l[u][1].start),end:Object.assign({},l[a][1].end)},c={type:"strikethroughText",start:Object.assign({},l[u][1].end),end:Object.assign({},l[a][1].start)},h=[["enter",f,s],["enter",l[u][1],s],["exit",l[u][1],s],["enter",c,s]],p=s.parser.constructs.insideSpan.null;p&&bt(h,h.length,0,la(p,l.slice(u+1,a),s)),bt(h,h.length,0,[["exit",c,s],["enter",l[a][1],s],["exit",l[a][1],s],["exit",f,s]]),bt(l,u-1,a-u+3,h),a=u+h.length-2;break}}for(a=-1;++a<l.length;)l[a][1].type==="strikethroughSequenceTemporary"&&(l[a][1].type="data");return l}function o(l,s,a){const u=this.previous,f=this.events;let c=0;return h;function h(x){return u===126&&f[f.length-1][1].type!=="characterEscape"?a(x):(l.enter("strikethroughSequenceTemporary"),p(x))}function p(x){const v=mi(u);if(x===126)return c>1?a(x):(l.consume(x),c++,p);if(c<2&&!n)return a(x);const b=l.exit("strikethroughSequenceTemporary"),m=mi(x);return b._open=!m||m===2&&!!v,b._close=!v||v===2&&!!m,s(x)}}}class j9{constructor(){this.map=[]}add(t,n,r){I9(this,t,n,r)}consume(t){if(this.map.sort(function(o,l){return o[0]-l[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function I9(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function M9(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function A9(){return{flow:{null:{name:"table",tokenize:L9,resolveAll:T9}}}}function L9(e,t,n){const r=this;let i=0,o=0,l;return s;function s(_){let M=r.events.length-1;for(;M>-1;){const E=r.events[M][1].type;if(E==="lineEnding"||E==="linePrefix")M--;else break}const z=M>-1?r.events[M][1].type:null,D=z==="tableHead"||z==="tableRow"?w:a;return D===w&&r.parser.lazy[r.now().line]?n(_):D(_)}function a(_){return e.enter("tableHead"),e.enter("tableRow"),u(_)}function u(_){return _===124||(l=!0,o+=1),f(_)}function f(_){return _===null?n(_):oe(_)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p):n(_):fe(_)?me(e,f,"whitespace")(_):(o+=1,l&&(l=!1,i+=1),_===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),l=!0,f):(e.enter("data"),c(_)))}function c(_){return _===null||_===124||Ne(_)?(e.exit("data"),f(_)):(e.consume(_),_===92?h:c)}function h(_){return _===92||_===124?(e.consume(_),c):c(_)}function p(_){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(_):(e.enter("tableDelimiterRow"),l=!1,fe(_)?me(e,x,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):x(_))}function x(_){return _===45||_===58?b(_):_===124?(l=!0,e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),v):C(_)}function v(_){return fe(_)?me(e,b,"whitespace")(_):b(_)}function b(_){return _===58?(o+=1,l=!0,e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),m):_===45?(o+=1,m(_)):_===null||oe(_)?k(_):C(_)}function m(_){return _===45?(e.enter("tableDelimiterFiller"),y(_)):C(_)}function y(_){return _===45?(e.consume(_),y):_===58?(l=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(_),e.exit("tableDelimiterMarker"),g):(e.exit("tableDelimiterFiller"),g(_))}function g(_){return fe(_)?me(e,k,"whitespace")(_):k(_)}function k(_){return _===124?x(_):_===null||oe(_)?!l||i!==o?C(_):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(_)):C(_)}function C(_){return n(_)}function w(_){return e.enter("tableRow"),N(_)}function N(_){return _===124?(e.enter("tableCellDivider"),e.consume(_),e.exit("tableCellDivider"),N):_===null||oe(_)?(e.exit("tableRow"),t(_)):fe(_)?me(e,N,"whitespace")(_):(e.enter("data"),A(_))}function A(_){return _===null||_===124||Ne(_)?(e.exit("data"),N(_)):(e.consume(_),_===92?O:A)}function O(_){return _===92||_===124?(e.consume(_),A):A(_)}}function T9(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],l=[0,0,0,0],s=!1,a=0,u,f,c;const h=new j9;for(;++n<e.length;){const p=e[n],x=p[1];p[0]==="enter"?x.type==="tableHead"?(s=!1,a!==0&&(N0(h,t,a,u,f),f=void 0,a=0),u={type:"table",start:Object.assign({},x.start),end:Object.assign({},x.end)},h.add(n,0,[["enter",u,t]])):x.type==="tableRow"||x.type==="tableDelimiterRow"?(r=!0,c=void 0,o=[0,0,0,0],l=[0,n+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},x.start),end:Object.assign({},x.end)},h.add(n,0,[["enter",f,t]])),i=x.type==="tableDelimiterRow"?2:f?3:1):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")?(r=!1,l[2]===0&&(o[1]!==0&&(l[0]=l[1],c=bl(h,t,o,i,void 0,c),o=[0,0,0,0]),l[2]=n)):x.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(l[0]=l[1],c=bl(h,t,o,i,void 0,c)),o=l,l=[o[1],n,0,0])):x.type==="tableHead"?(s=!0,a=n):x.type==="tableRow"||x.type==="tableDelimiterRow"?(a=n,o[1]!==0?(l[0]=l[1],c=bl(h,t,o,i,n,c)):l[1]!==0&&(c=bl(h,t,l,i,n,c)),i=0):i&&(x.type==="data"||x.type==="tableDelimiterMarker"||x.type==="tableDelimiterFiller")&&(l[3]=n)}for(a!==0&&N0(h,t,a,u,f),h.consume(t.events),n=-1;++n<t.events.length;){const p=t.events[n];p[0]==="enter"&&p[1].type==="table"&&(p[1]._align=M9(t.events,n))}return e}function bl(e,t,n,r,i,o){const l=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(o.end=Object.assign({},Mr(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const a=Mr(t.events,n[1]);if(o={type:l,start:Object.assign({},a),end:Object.assign({},a)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=Mr(t.events,n[2]),f=Mr(t.events,n[3]),c={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(n[2],0,[["enter",c,t]]),r!==2){const h=t.events[n[2]],p=t.events[n[3]];if(h[1].end=Object.assign({},p[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const x=n[2]+1,v=n[3]-n[2]-1;e.add(x,v,[])}}e.add(n[3]+1,0,[["exit",c,t]])}return i!==void 0&&(o.end=Object.assign({},Mr(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function N0(e,t,n,r,i){const o=[],l=Mr(t.events,n);i&&(i.end=Object.assign({},l),o.push(["exit",i,t])),r.end=Object.assign({},l),o.push(["exit",r,t]),e.add(n+1,0,o)}function Mr(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const P9={name:"tasklistCheck",tokenize:R9};function z9(){return{text:{91:P9}}}function R9(e,t,n){const r=this;return i;function i(a){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(a):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),o)}function o(a){return Ne(a)?(e.enter("taskListCheckValueUnchecked"),e.consume(a),e.exit("taskListCheckValueUnchecked"),l):a===88||a===120?(e.enter("taskListCheckValueChecked"),e.consume(a),e.exit("taskListCheckValueChecked"),l):n(a)}function l(a){return a===93?(e.enter("taskListCheckMarker"),e.consume(a),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(a)}function s(a){return oe(a)?t(a):fe(a)?e.check({tokenize:D9},t,n)(a):n(a)}}function D9(e,t,n){return me(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function O9(e){return e1([u9(),v9(),_9(e),A9(),z9()])}const F9={};function Y1(e){const t=this,n=e||F9,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),l=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(O9(n)),o.push(o9()),l.push(l9(n))}const Lc="klisk-assistant-messages";function $9(){try{const e=localStorage.getItem(Lc);return e?JSON.parse(e):[]}catch{return[]}}const B9=I.forwardRef(({active:e,onMessagesChange:t},n)=>{const[r,i]=I.useState($9),[o,l]=I.useState(""),[s,a]=I.useState(!1),[u,f]=I.useState(null),[c,h]=I.useState(null),[p,x]=I.useState(!1),[v,b]=I.useState(null),m=I.useRef(null),y=I.useRef(null),g=I.useRef(null);I.useEffect(()=>{localStorage.setItem(Lc,JSON.stringify(r))},[r]),I.useEffect(()=>{var D;(D=y.current)==null||D.scrollIntoView({behavior:"smooth"})},[r]);const k=I.useCallback(()=>{fetch("/api/assistant/status").then(D=>D.json()).then(D=>{f(D.status??(D.available?"ready":"not_installed")),D.checks&&h(D.checks)}).catch(()=>{f("not_installed")})},[]);I.useEffect(()=>{e&&k()},[e,k]),I.useEffect(()=>{if(!e||u!=="ready")return;const D=new WebSocket(`ws://${window.location.host}/ws/assistant`);return m.current=D,D.onmessage=E=>{const P=JSON.parse(E.data);switch(P.type){case"token":if(!P.data)break;i(R=>{const F=R[R.length-1];return F&&F.role==="assistant"?[...R.slice(0,-1),{...F,content:F.content+P.data}]:[...R,{role:"assistant",content:P.data}]});break;case"tool_use":i(R=>[...R,{role:"tool_use",tool:P.data.tool,detail:P.data.detail||""}]);break;case"permission_request":i(R=>[...R,{role:"permission_request",tool:P.data.tool,command:P.data.command,status:"pending"}]);break;case"question":i(R=>[...R,{role:"question",questions:P.data.questions,status:"pending"}]);break;case"done":a(!1);break;case"error":i(R=>[...R,{role:"system",content:`Error: ${P.data}`}]),a(!1);break}},D.onclose=()=>{m.current=null,a(!1)},()=>{D.close(),m.current=null}},[e,u]);const C=I.useCallback(D=>{!m.current||m.current.readyState!==WebSocket.OPEN||(i(E=>[...E,{role:"user",content:D}]),m.current.send(JSON.stringify({message:D})),a(!0))},[]),w=I.useCallback(D=>{!m.current||m.current.readyState!==WebSocket.OPEN||(m.current.send(JSON.stringify({type:"permission_response",allowed:D})),i(E=>{const P=E.findLastIndex(F=>F.role==="permission_request"&&F.status==="pending");if(P===-1)return E;const R=E[P];return R.role!=="permission_request"?E:[...E.slice(0,P),{...R,status:D?"allowed":"denied"},...E.slice(P+1)]}))},[]),N=I.useCallback((D,E)=>{!m.current||m.current.readyState!==WebSocket.OPEN||(m.current.send(JSON.stringify({type:"question_response",answers:E})),i(P=>{const R=P.findLastIndex(L=>L.role==="question"&&L.status==="pending");if(R===-1)return P;const F=P[R];return F.role!=="question"?P:[...P.slice(0,R),{...F,status:"answered"},...P.slice(R+1)]}))},[]),A=I.useCallback(()=>{!m.current||m.current.readyState!==WebSocket.OPEN||(m.current.send(JSON.stringify({type:"cancel"})),a(!1))},[]),O=I.useCallback(()=>{i([]),a(!1),localStorage.removeItem(Lc),m.current&&m.current.readyState===WebSocket.OPEN&&m.current.send(JSON.stringify({type:"clear"}))},[]);I.useImperativeHandle(n,()=>({clearChat:O,sendMessage:C}),[O,C]),I.useEffect(()=>{t==null||t(r.length>0)},[r.length,t]);const _=D=>{D.preventDefault();const E=o.trim();!E||s||(l(""),C(E),requestAnimationFrame(()=>{g.current&&(g.current.style.height="auto")}))},M=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),_(D))};return r.length===0?d.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:d.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col",children:u!=="ready"&&u!==null?d.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6 space-y-6",children:[d.jsx("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:d.jsxs("div",{className:"px-6 py-4 flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Klisk Assistant"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 leading-relaxed",children:"The Klisk Assistant helps you build your agents. It requires a Claude subscription  usage will count against your account limits."}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 leading-relaxed",children:"If you don't have a Claude subscription, you can use any general-purpose coding agent to build agents with Klisk."})]}),d.jsx("a",{href:"https://klisk.productomania.io/docs/studio/assistant.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 flex-shrink-0 mt-0.5",title:"Documentation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})]})}),d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Requirements"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Complete these steps to start using the assistant."})]}),d.jsx("button",{onClick:k,className:"p-1.5 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex-shrink-0",title:"Refresh status",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182M21.015 4.356v4.992"})})})]}),d.jsxs("div",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:[d.jsx(au,{ok:c==null?void 0:c.sdk_installed,title:"Klisk Assistant SDK",okText:"Installed",detail:"To use the assistant you need to install this extra dependency. Run the command in your terminal or click the button.",action:!(c!=null&&c.sdk_installed)&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(uu,{command:"pip install 'klisk[assistant]'"}),p?d.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 px-3 py-1.5",children:[d.jsxs("svg",{className:"animate-spin w-3.5 h-3.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Installing..."]}):d.jsx("button",{onClick:()=>{x(!0),b(null),fetch("/api/assistant/install",{method:"POST"}).then(D=>D.json()).then(D=>{D.ok?k():b(D.error||"Installation failed")}).catch(D=>b(String(D))).finally(()=>x(!1))},className:"px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors flex-shrink-0",children:"Install"})]}),v&&d.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1.5",children:v})]})}),d.jsx(au,{ok:c==null?void 0:c.cli_installed,title:"Claude Code CLI",okText:"Installed",detail:"The assistant is powered by the Claude Agent SDK, which requires the Claude Code CLI.",action:!(c!=null&&c.cli_installed)&&d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Download the Claude desktop app (includes the CLI):"}),d.jsxs("a",{href:"https://claude.com/download",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 transition-colors",children:["Download Claude",d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-3 h-3",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"})})]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1.5",children:"Or install the CLI manually:"}),d.jsx(uu,{command:"npm install -g @anthropic-ai/claude-code"})]})]})}),d.jsx(au,{ok:c==null?void 0:c.authenticated,title:"Claude authentication",okText:"Logged in",detail:"You need to log in to your Claude account. The Klisk Assistant will consume usage from your Claude subscription.",extraDetail:"Open your terminal and run this command:",action:!(c!=null&&c.authenticated)&&(c!=null&&c.cli_installed)?d.jsx(uu,{command:"claude auth login"}):(c!=null&&c.cli_installed,void 0),disabledText:c!=null&&c.cli_installed?void 0:"Install Claude Code first"})]})]})]}):u==="ready"?d.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-4",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 mb-3",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-blue-500",children:d.jsx("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"})})}),d.jsx("p",{className:"text-base font-medium text-gray-700 dark:text-gray-200",children:"What do you need help with?"}),d.jsx("p",{className:"text-sm mt-1 text-gray-500 dark:text-gray-400",children:"The Klisk Assistant can help you create agents, tools, or fix errors"})]}),d.jsx("div",{className:"w-full max-w-[700px] px-3 pb-3",children:d.jsxs("form",{onSubmit:_,className:"flex items-end gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-3xl px-4 py-2 focus-within:border-blue-400 dark:focus-within:border-blue-500 transition-colors",children:[d.jsx("textarea",{ref:g,value:o,onChange:D=>{l(D.target.value);const E=D.target;E.style.height="auto",E.style.height=`${E.scrollHeight}px`},onKeyDown:M,placeholder:s?"Waiting for response...":"Ask the assistant...",disabled:s,rows:1,className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none resize-none max-h-40 leading-6 py-1 disabled:opacity-50"}),s?d.jsx("button",{type:"button",onClick:A,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}):d.jsx("button",{type:"submit",disabled:!o.trim(),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors ${o.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-default"}`,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})})]})})]}):null})}):d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 p-4 pb-2 space-y-3",children:[r.map((D,E)=>{if(D.role==="tool_use")return d.jsx(H9,{tool:D.tool,detail:D.detail},E);if(D.role==="permission_request"){const P=D.status==="pending";return d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[90%] rounded-lg text-sm border border-amber-300 dark:border-amber-700 bg-amber-50 dark:bg-amber-900/20 overflow-hidden",children:d.jsxs("div",{className:"px-3 py-2",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 text-amber-500",children:d.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})}),d.jsx("span",{className:"font-medium text-amber-800 dark:text-amber-300",children:"Permission required"})]}),d.jsx("pre",{className:"text-xs bg-amber-100 dark:bg-amber-900/40 text-amber-900 dark:text-amber-200 rounded px-2 py-1.5 overflow-x-auto whitespace-pre-wrap font-mono",children:D.command}),P?d.jsxs("div",{className:"flex gap-2 mt-2",children:[d.jsx("button",{onClick:()=>w(!0),className:"px-3 py-1 rounded-md text-xs font-medium bg-green-600 text-white hover:bg-green-700 transition-colors",children:"Allow"}),d.jsx("button",{onClick:()=>w(!1),className:"px-3 py-1 rounded-md text-xs font-medium bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Deny"})]}):d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`text-xs font-medium ${D.status==="allowed"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:D.status==="allowed"?"Allowed":"Denied"})})]})})},E)}if(D.role==="question"){const P=D.status==="pending";return d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"max-w-[90%] rounded-lg text-sm border border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/20 overflow-hidden",children:d.jsxs("div",{className:"px-3 py-2 space-y-3",children:[D.questions.map((R,F)=>d.jsx(V9,{question:R,enabled:P,onAnswer:L=>{N(D.questions,{[R.question]:L})}},F)),!P&&d.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"Answered"})]})})},E)}return d.jsx("div",{className:`flex ${D.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[85%] rounded-lg px-3 py-2 text-sm ${D.role==="user"?"bg-blue-600 text-white":D.role==="system"?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 border border-red-300 dark:border-red-800":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:D.role==="user"?d.jsx("span",{className:"whitespace-pre-wrap",children:D.content}):d.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:d.jsx(b1,{remarkPlugins:[Y1],children:D.content})})})},E)}),s&&d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"flex items-center gap-1 px-3 py-2",children:[d.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),d.jsx("span",{className:"w-1.5 h-1.5 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),d.jsx("div",{ref:y})]}),u==="ready"&&d.jsx("div",{className:"sticky bottom-0 pb-3 px-3 bg-gray-50 dark:bg-gray-950",children:d.jsxs("form",{onSubmit:_,className:"flex items-end gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-3xl px-4 py-2 focus-within:border-blue-400 dark:focus-within:border-blue-500 transition-colors",children:[d.jsx("textarea",{ref:g,value:o,onChange:D=>{l(D.target.value);const E=D.target;E.style.height="auto",E.style.height=`${E.scrollHeight}px`},onKeyDown:M,placeholder:s?"Waiting for response...":"Ask the assistant...",disabled:s,rows:1,className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none resize-none max-h-40 leading-6 py-1 disabled:opacity-50"}),s?d.jsx("button",{type:"button",onClick:A,className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full bg-red-600 text-white hover:bg-red-700 transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"1"})})}):d.jsx("button",{type:"submit",disabled:!o.trim(),className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors ${o.trim()?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-default"}`,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})})]})})]})});function H9({tool:e,detail:t}){const[n,r]=I.useState(!1),i=!!t;return d.jsx("div",{className:"flex justify-start",children:d.jsxs("button",{type:"button",onClick:()=>i&&r(o=>!o),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs border border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 text-left transition-colors ${i?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800":"cursor-default"}`,children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5 text-blue-500 flex-shrink-0",children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})}),d.jsx("span",{className:"font-medium flex-shrink-0",children:e}),i&&d.jsx("span",{className:`text-gray-400 dark:text-gray-500 ${n?"break-all":"truncate max-w-[200px]"}`,children:t}),i&&d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-3 h-3 flex-shrink-0 text-gray-400 transition-transform ${n?"rotate-180":""}`,children:d.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]})})}function V9({question:e,enabled:t,onAnswer:n}){const[r,i]=I.useState(!1),[o,l]=I.useState("");return d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-300 mb-1.5",children:e.question}),d.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.options.map((s,a)=>d.jsxs("button",{disabled:!t,onClick:()=>n(s.label),className:"text-left px-3 py-2 rounded-md border border-blue-300 dark:border-blue-600 hover:bg-blue-100 dark:hover:bg-blue-800/50 disabled:opacity-50 disabled:cursor-default transition-colors",children:[d.jsx("span",{className:"text-xs font-medium text-blue-700 dark:text-blue-300",children:s.label}),s.description&&d.jsx("span",{className:"block text-[11px] text-blue-600/70 dark:text-blue-400/70 mt-0.5",children:s.description})]},a)),r?d.jsxs("div",{className:"flex gap-1.5",children:[d.jsx("input",{type:"text",autoFocus:!0,value:o,onChange:s=>l(s.target.value),onKeyDown:s=>{s.key==="Enter"&&o.trim()&&n(o.trim())},disabled:!t,placeholder:"Type your answer...",className:"flex-1 px-2.5 py-1.5 rounded-md text-xs border border-blue-300 dark:border-blue-600 bg-white dark:bg-gray-800 text-blue-800 dark:text-blue-200 placeholder:text-blue-400/60 dark:placeholder:text-blue-500/60 focus:outline-none focus:ring-1 focus:ring-blue-400 disabled:opacity-50"}),d.jsx("button",{disabled:!t||!o.trim(),onClick:()=>n(o.trim()),className:"px-2.5 py-1.5 rounded-md text-xs font-medium bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Send"})]}):d.jsx("button",{disabled:!t,onClick:()=>i(!0),className:"text-left px-3 py-2 rounded-md border border-dashed border-blue-300 dark:border-blue-600 text-xs font-medium text-blue-500 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-800/30 disabled:opacity-50 disabled:cursor-default transition-colors",children:"Other..."})]})]})}function au({ok:e,title:t,okText:n,detail:r,extraDetail:i,action:o,disabledText:l}){const[s,a]=I.useState(!e);return d.jsxs("div",{children:[d.jsxs("button",{type:"button",onClick:()=>a(u=>!u),className:"w-full flex items-center gap-3 px-6 py-3.5 text-left cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e?d.jsx("div",{className:"w-5 h-5 flex-shrink-0 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-green-600 dark:text-green-400",children:d.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"})})}):d.jsx("div",{className:"w-5 h-5 flex-shrink-0 rounded-full border-2 border-gray-300 dark:border-gray-600"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t}),e&&d.jsx("span",{className:"ml-2 text-xs text-green-600 dark:text-green-400",children:n}),!e&&l&&d.jsx("span",{className:"ml-2 text-xs text-gray-400 dark:text-gray-500",children:l})]}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-4 h-4 flex-shrink-0 text-gray-400 transition-transform ${s?"rotate-180":""}`,children:d.jsx("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})]}),s&&d.jsxs("div",{className:"px-6 pb-3.5 ml-8",children:[d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed mb-2",children:r}),i&&d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 leading-relaxed mb-2",children:i}),o]})]})}function uu({command:e}){return d.jsxs("div",{className:"relative group inline-block",children:[d.jsx("code",{className:"block text-xs bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-800 dark:text-gray-200 rounded-lg px-3 py-2 pr-8 font-mono whitespace-nowrap",children:e}),d.jsx("button",{onClick:t=>{t.stopPropagation(),navigator.clipboard.writeText(e)},title:"Copy",className:"absolute right-1.5 top-1/2 -translate-y-1/2 p-1 rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})})})]})}const E0="image/jpeg,image/png,image/gif,image/webp,application/pdf";function U9(e){return new Promise((t,n)=>{if(e.size>20*1024*1024){n(new Error(`File ${e.name} exceeds 20MB limit`));return}const r=new FileReader;r.onload=()=>{const i=r.result.split(",")[1];t({type:e.type==="application/pdf"?"file":"image",name:e.name,mime_type:e.type,data:i})},r.onerror=()=>n(r.error),r.readAsDataURL(e)})}function _0({icon:e,label:t,badge:n,children:r,spinning:i}){const[o,l]=I.useState(!1);return d.jsx("div",{className:"flex justify-start",children:d.jsxs("div",{className:"max-w-[80%] rounded-lg text-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[d.jsxs("button",{onClick:()=>l(s=>!s),className:"flex items-center gap-2 px-3 py-2 w-full text-left hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[d.jsx("span",{className:i?"animate-spin":"",children:e}),d.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-medium",children:t}),n&&d.jsx("span",{className:"text-[11px] bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 px-1.5 py-0.5 rounded",children:n}),d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:`w-3.5 h-3.5 text-gray-400 ml-auto transition-transform ${o?"rotate-180":""}`,children:d.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 0 1 1.06.02L10 11.168l3.71-3.938a.75.75 0 1 1 1.08 1.04l-4.25 4.5a.75.75 0 0 1-1.08 0l-4.25-4.5a.75.75 0 0 1 .02-1.06z",clipRule:"evenodd"})})]}),o&&d.jsx("div",{className:"px-3 py-2 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:r})]})})}function W9({spinning:e}){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:`w-4 h-4 text-blue-500 ${e?"animate-spin":""}`,children:e?d.jsx(d.Fragment,{children:d.jsx("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})}):d.jsx(d.Fragment,{children:d.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})})}function Y9(){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4 text-purple-500",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4"}),d.jsx("path",{d:"M12 8h.01"})]})}function X9({messages:e,onSend:t}){const[n,r]=I.useState(""),[i,o]=I.useState([]),[l,s]=I.useState(!1),a=I.useRef(null),u=I.useRef(null),f=I.useRef(null);I.useEffect(()=>{var g;(g=a.current)==null||g.scrollIntoView({behavior:"smooth"})},[e]);const c=I.useCallback(()=>{const g=u.current;g&&(g.style.height="auto",g.style.height=`${g.scrollHeight}px`)},[]),h=I.useCallback(async g=>{const k=Array.from(g).filter(w=>E0.split(",").includes(w.type)&&w.size<=20971520),C=await Promise.all(k.map(U9));o(w=>[...w,...C])},[]),p=I.useCallback(g=>{o(k=>k.filter((C,w)=>w!==g))},[]),x=g=>{g.preventDefault();const k=n.trim();!k&&i.length===0||(r(""),t(k,i.length>0?i:void 0),o([]),requestAnimationFrame(()=>{u.current&&(u.current.style.height="auto")}))},v=g=>{g.key==="Enter"&&!g.shiftKey&&(g.preventDefault(),x(g))},b=I.useCallback(g=>{g.preventDefault(),s(!0)},[]),m=I.useCallback(g=>{g.preventDefault(),s(!1)},[]),y=I.useCallback(g=>{g.preventDefault(),s(!1),g.dataTransfer.files.length>0&&h(g.dataTransfer.files)},[h]);return d.jsxs("div",{className:`flex-1 flex flex-col min-h-0 ${l?"ring-2 ring-blue-400 ring-inset bg-blue-50/30 dark:bg-blue-900/10":""}`,onDragOver:b,onDragLeave:m,onDrop:y,children:[d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[e.length===0&&d.jsx("div",{className:"text-center text-gray-400 dark:text-gray-500 mt-20",children:d.jsx("p",{className:"text-lg",children:"Send a message to test your agent"})}),e.map((g,k)=>{if(g.role==="tool_call"){const C=g.status==="running",w=Oy(g.tool)?d.jsx(Fy,{name:g.tool,className:`w-4 h-4 text-blue-500 ${C?"animate-pulse":""}`}):d.jsx(W9,{spinning:C});return d.jsxs(_0,{icon:w,label:Yd(g.tool),badge:C?"running":"done",spinning:!1,children:[g.arguments&&d.jsxs("div",{className:"mb-2",children:[d.jsx("div",{className:"text-[11px] font-medium text-gray-400 dark:text-gray-500 mb-1 uppercase tracking-wide",children:"Arguments"}),d.jsx("pre",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1.5 overflow-x-auto whitespace-pre-wrap font-mono",children:g.arguments})]}),g.output&&d.jsxs("div",{children:[d.jsx("div",{className:"text-[11px] font-medium text-gray-400 dark:text-gray-500 mb-1 uppercase tracking-wide",children:"Output"}),d.jsx("pre",{className:"text-xs text-gray-600 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 rounded px-2 py-1.5 overflow-x-auto whitespace-pre-wrap font-mono max-h-48 overflow-y-auto",children:g.output})]}),!g.arguments&&!g.output&&d.jsx("div",{className:"text-xs text-gray-400 dark:text-gray-500 italic",children:C?"Waiting for result...":"No data"})]},k)}return g.role==="thinking"?d.jsx(_0,{icon:d.jsx(Y9,{}),label:"Thinking",children:d.jsx("pre",{className:"text-xs text-gray-600 dark:text-gray-300 whitespace-pre-wrap font-mono max-h-64 overflow-y-auto",children:g.content})},k):d.jsx("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:`max-w-[80%] rounded-lg px-4 py-2 text-sm ${g.role==="user"?"bg-blue-600 text-white":g.role==="system"?"bg-red-100 dark:bg-red-900/50 text-red-700 dark:text-red-300 border border-red-300 dark:border-red-800":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}`,children:g.role==="user"?d.jsxs(d.Fragment,{children:[g.attachments&&g.attachments.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:g.attachments.map((C,w)=>C.type==="image"&&C.data?d.jsx("img",{src:`data:${C.mime_type};base64,${C.data}`,alt:C.name,className:"max-w-[200px] max-h-[150px] rounded object-cover"},w):d.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-500/30 text-white text-xs px-2 py-1 rounded",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5",children:d.jsx("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 0 0 3 3.5v13A1.5 1.5 0 0 0 4.5 18h11a1.5 1.5 0 0 0 1.5-1.5V7.621a1.5 1.5 0 0 0-.44-1.06l-4.12-4.122A1.5 1.5 0 0 0 11.378 2H4.5Z",clipRule:"evenodd"})}),C.name]},w))}),g.content&&d.jsx("span",{className:"whitespace-pre-wrap",children:g.content})]}):d.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:d.jsx(b1,{remarkPlugins:[Y1],children:g.content})})})},k)}),d.jsx("div",{ref:a})]}),d.jsxs("div",{className:"p-4",children:[i.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-2 px-2",children:i.map((g,k)=>d.jsxs("div",{className:"relative group",children:[g.type==="image"?d.jsx("img",{src:`data:${g.mime_type};base64,${g.data}`,alt:g.name,className:"w-16 h-16 rounded-lg object-cover border border-gray-300 dark:border-gray-600"}):d.jsxs("div",{className:"h-16 px-3 flex items-center gap-1.5 rounded-lg border border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800 text-xs text-gray-600 dark:text-gray-300",children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4 text-red-500",children:d.jsx("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 0 0 3 3.5v13A1.5 1.5 0 0 0 4.5 18h11a1.5 1.5 0 0 0 1.5-1.5V7.621a1.5 1.5 0 0 0-.44-1.06l-4.12-4.122A1.5 1.5 0 0 0 11.378 2H4.5Z",clipRule:"evenodd"})}),d.jsx("span",{className:"max-w-[80px] truncate",children:g.name})]}),d.jsx("button",{onClick:()=>p(k),className:"absolute -top-1.5 -right-1.5 w-5 h-5 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-full flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity",children:""})]},k))}),d.jsxs("form",{onSubmit:x,className:"flex items-end gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-3xl px-4 py-2 focus-within:border-gray-400 dark:focus-within:border-gray-500 transition-colors",children:[d.jsx("input",{ref:f,type:"file",accept:E0,multiple:!0,className:"hidden",onChange:g=>{g.target.files&&h(g.target.files),g.target.value=""}}),d.jsx("button",{type:"button",onClick:()=>{var g;return(g=f.current)==null?void 0:g.click()},className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",title:"Attach files",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"w-4 h-4",children:d.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),d.jsx("textarea",{ref:u,value:n,onChange:g=>{r(g.target.value),c()},onKeyDown:v,placeholder:"Type a message...",rows:1,className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none resize-none max-h-40 leading-6 py-1"}),d.jsx("button",{type:"submit",className:`flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-full transition-colors ${n.trim()||i.length>0?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-700 dark:hover:bg-gray-200":"bg-gray-300 dark:bg-gray-600 text-gray-500 dark:text-gray-400 cursor-default"}`,disabled:!n.trim()&&i.length===0,children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})})]})]})]})}const K9=[{id:"agents",label:"Agents",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[d.jsx("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),d.jsx("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121ZM19.573 14.573a.563.563 0 0 0 .338.45 9.687 9.687 0 0 1-1.764.44 8.287 8.287 0 0 0-1.308-5.135 6.798 6.798 0 0 1 2.735 4.245Z"})]})},{id:"assistant",label:"Assistant",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 0 1 .721.544l.813 2.846a3.75 3.75 0 0 0 2.576 2.576l2.846.813a.75.75 0 0 1 0 1.442l-2.846.813a3.75 3.75 0 0 0-2.576 2.576l-.813 2.846a.75.75 0 0 1-1.442 0l-.813-2.846a3.75 3.75 0 0 0-2.576-2.576l-2.846-.813a.75.75 0 0 1 0-1.442l2.846-.813A3.75 3.75 0 0 0 7.466 7.89l.813-2.846A.75.75 0 0 1 9 4.5ZM18 1.5a.75.75 0 0 1 .728.568l.258 1.036c.236.94.97 1.674 1.91 1.91l1.036.258a.75.75 0 0 1 0 1.456l-1.036.258c-.94.236-1.674.97-1.91 1.91l-.258 1.036a.75.75 0 0 1-1.456 0l-.258-1.036a2.625 2.625 0 0 0-1.91-1.91l-1.036-.258a.75.75 0 0 1 0-1.456l1.036-.258a2.625 2.625 0 0 0 1.91-1.91l.258-1.036A.75.75 0 0 1 18 1.5ZM16.5 15a.75.75 0 0 1 .712.513l.394 1.183c.15.447.5.799.948.948l1.183.395a.75.75 0 0 1 0 1.422l-1.183.395c-.447.15-.799.5-.948.948l-.395 1.183a.75.75 0 0 1-1.422 0l-.395-1.183a1.5 1.5 0 0 0-.948-.948l-1.183-.395a.75.75 0 0 1 0-1.422l1.183-.395c.447-.15.799-.5.948-.948l.395-1.183A.75.75 0 0 1 16.5 15Z",clipRule:"evenodd"})})}],q9=[{id:"playground",label:"Playground",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M10.5 3.798v5.02a3 3 0 0 1-.879 2.121l-2.377 2.377a9.845 9.845 0 0 1 5.091 1.013 8.315 8.315 0 0 0 5.713.636l.285-.071-3.954-3.955a3 3 0 0 1-.879-2.121v-5.02a23.614 23.614 0 0 0-3 0Zm4.5.138a.75.75 0 0 0 .093-1.495A24.837 24.837 0 0 0 12 2.25a25.048 25.048 0 0 0-3.093.191A.75.75 0 0 0 9 3.936v4.882a1.5 1.5 0 0 1-.44 1.06l-6.293 6.294c-1.62 1.621-.903 4.475 1.471 4.88 2.686.46 5.447.698 8.262.698 2.816 0 5.576-.239 8.262-.697 2.373-.406 3.092-3.26 1.471-4.881L15.44 9.879A1.5 1.5 0 0 1 15 8.818V3.936Z",clipRule:"evenodd"})})},{id:"env",label:".env",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M15.75 1.5a6.75 6.75 0 0 0-6.651 7.906c.067.39-.032.717-.221.906l-6.5 6.499a3 3 0 0 0-.878 2.121v2.818c0 .414.336.75.75.75H6a.75.75 0 0 0 .75-.75v-1.5h1.5A.75.75 0 0 0 9 19.5V18h1.5a.75.75 0 0 0 .53-.22l2.658-2.658c.19-.189.517-.288.906-.22A6.75 6.75 0 1 0 15.75 1.5Zm0 3a.75.75 0 0 0 0 1.5A2.25 2.25 0 0 1 18 8.25a.75.75 0 0 0 1.5 0 3.75 3.75 0 0 0-3.75-3.75Z",clipRule:"evenodd"})})},{id:"customize",label:"Customize",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M20.599 1.5c-.376 0-.743.111-1.055.32l-5.08 3.385a18.747 18.747 0 0 0-3.471 2.987 10.04 10.04 0 0 1 4.815 4.815 18.748 18.748 0 0 0 2.987-3.472l3.386-5.079A1.902 1.902 0 0 0 20.599 1.5Zm-8.3 14.025a18.76 18.76 0 0 0 1.896-1.207 8.026 8.026 0 0 0-4.513-4.513A18.75 18.75 0 0 0 8.475 11.7l-.278.5a5.26 5.26 0 0 1 3.601 3.602l.5-.278ZM6.75 13.5A3.75 3.75 0 0 0 3 17.25a1.5 1.5 0 0 1-1.601 1.497.75.75 0 0 0-.7 1.123 5.25 5.25 0 0 0 9.8-2.62 3.75 3.75 0 0 0-3.75-3.75Z",clipRule:"evenodd"})})},{id:"security",label:"Security",icon:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})})},{id:"deploy",label:"Deployment",icon:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[d.jsx("path",{fillRule:"evenodd",d:"M9.315 7.584C12.195 3.883 16.695 1.5 21.75 1.5a.75.75 0 0 1 .75.75c0 5.056-2.383 9.555-6.084 12.436A6.75 6.75 0 0 1 9.75 22.5a.75.75 0 0 1-.75-.75v-4.131A15.838 15.838 0 0 1 6.382 15H2.25a.75.75 0 0 1-.75-.75 6.75 6.75 0 0 1 7.815-6.666ZM15 6.75a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"}),d.jsx("path",{d:"M5.26 17.242a.75.75 0 1 0-.897-1.203 5.243 5.243 0 0 0-2.05 5.022.75.75 0 0 0 .625.627 5.243 5.243 0 0 0 5.022-2.051.75.75 0 1 0-1.202-.897 3.744 3.744 0 0 1-3.008 1.51c0-1.23.592-2.323 1.51-3.008Z"})]})}];function Q9({collapsed:e,onToggle:t,dark:n,onToggleDark:r,mode:i,activeListingItem:o,activeDetailItem:l,onListingNavigate:s,onDetailNavigate:a,onLogoClick:u}){const f=i==="detail"?q9:K9,c=i==="detail"?l:o;return d.jsxs("aside",{className:`flex flex-col flex-shrink-0 bg-gray-50 dark:bg-gray-950 border-r border-gray-200 dark:border-gray-800 transition-[width] duration-200 ease-in-out overflow-hidden ${e?"w-[52px]":"w-[220px]"}`,children:[d.jsx("div",{className:`flex items-center h-[57px] flex-shrink-0 ${e?"justify-center":"px-3 gap-2"}`,children:e?d.jsx("button",{onClick:t,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Open sidebar",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})}):d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:u,className:"flex items-center gap-2 flex-1 min-w-0 hover:opacity-80 transition-opacity",title:"Go to agents",children:[d.jsx("img",{src:"/favicon.png",alt:"Klisk",className:"w-5 h-5 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:"Klisk Studio"})]}),d.jsx("button",{onClick:t,className:"p-1.5 rounded-lg text-gray-400 dark:text-gray-500 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors flex-shrink-0",title:"Close sidebar",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v15m-6-15h16.5a.75.75 0 0 1 .75.75v13.5a.75.75 0 0 1-.75.75H3a.75.75 0 0 1-.75-.75V5.25A.75.75 0 0 1 3 4.5Z"})})})]})}),d.jsx("nav",{className:`flex flex-col gap-0.5 mt-2 ${e?"px-1.5":"px-2"}`,children:f.map(h=>{const p=c===h.id;return d.jsxs("button",{onClick:()=>{i==="detail"&&a?a(h.id):i==="listing"&&s&&s(h.id)},title:e?h.label:void 0,className:`flex items-center gap-2.5 rounded-lg transition-colors ${e?"justify-center p-2.5":"px-3 py-2"} ${p?"bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-200/60 dark:hover:bg-gray-800/60 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[h.icon,!e&&d.jsx("span",{className:"text-sm font-medium truncate",children:h.label})]},h.id)})}),d.jsx("div",{className:"flex-1"}),d.jsx("div",{className:`flex-shrink-0 mb-3 ${e?"px-1.5":"px-2"}`,children:d.jsxs("button",{onClick:r,title:n?"Switch to light mode":"Switch to dark mode",className:`flex items-center gap-2.5 rounded-lg transition-colors text-gray-600 dark:text-gray-400 hover:bg-gray-200/60 dark:hover:bg-gray-800/60 hover:text-gray-900 dark:hover:text-gray-200 ${e?"justify-center p-2.5":"px-3 py-2 w-full"}`,children:[n?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M12 2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-1.5 0V3a.75.75 0 0 1 .75-.75ZM7.5 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Zm11.394-5.834a.75.75 0 0 0-1.06-1.06l-1.591 1.59a.75.75 0 1 0 1.06 1.061l1.591-1.59Zm-12.728.53a.75.75 0 1 0 1.06-1.06l-1.59-1.591a.75.75 0 0 0-1.061 1.06l1.59 1.591ZM12 18a.75.75 0 0 1 .75.75V21a.75.75 0 0 1-1.5 0v-2.25A.75.75 0 0 1 12 18ZM7.758 17.303a.75.75 0 0 0-1.061-1.06l-1.591 1.59a.75.75 0 0 0 1.06 1.061l1.591-1.59Zm9.544-1.06a.75.75 0 0 0-1.06 1.06l1.59 1.591a.75.75 0 1 0 1.061-1.06l-1.59-1.591ZM21.75 12a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1 0-1.5H21a.75.75 0 0 1 .75.75ZM5.25 12a.75.75 0 0 1-.75.75H2.25a.75.75 0 0 1 0-1.5H4.5a.75.75 0 0 1 .75.75Z"})}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"})}),!e&&d.jsx("span",{className:"text-sm font-medium",children:n?"Light mode":"Dark mode"})]})})]})}const Z9=["openai","anthropic","gemini"];function G9(e){if(!e||e==="")return{provider:"openai",model:""};if(!e.includes("/"))return{provider:"openai",model:e};const[t,...n]=e.split("/");return Z9.includes(t)?{provider:t,model:n.join("/")}:{provider:"custom",model:e}}function j0(e,t,n){return e==="custom"?n:e==="openai"?t:t?`${e}/${t}`:""}function J9({agent:e,onClose:t,onSave:n}){const[r,i]=I.useState(e.name),[o,l]=I.useState(e.instructions??""),[s,a]=I.useState(e.temperature!=null?String(e.temperature):""),[u,f]=I.useState(e.reasoning_effort??""),[c,h]=I.useState(!1),[p,x]=I.useState("openai"),[v,b]=I.useState(""),[m,y]=I.useState(""),[g,k]=I.useState({}),[C,w]=I.useState(!0);I.useEffect(()=>{let M=!1;async function z(){try{const D=await fetch("/api/models");if(!D.ok)throw new Error("Failed to fetch models");const E=await D.json();if(M)return;k(E.providers);const P=G9(e.model),R=E.providers[P.provider];P.provider==="custom"||!R||P.model&&!R.includes(P.model)?(x("custom"),y(e.model??"")):(x(P.provider),b(P.model))}catch{if(M)return;x("custom"),y(e.model??"")}finally{M||w(!1)}}return z(),()=>{M=!0}},[e.model]);const N=M=>{if(x(M),M==="custom")y(j0(p,v,m));else{const z=g[M]??[];b(z[0]??"")}};I.useEffect(()=>{const M=z=>{z.key==="Escape"&&t()};return window.addEventListener("keydown",M),()=>window.removeEventListener("keydown",M)},[t]);const A=async()=>{h(!0);try{const M={};r!==e.name&&(M.name=r),o!==(e.instructions??"")&&(M.instructions=o);const z=j0(p,v,m);z!==(e.model??"")&&(M.model=z);const D=s!==""?parseFloat(s):null;D!==e.temperature&&(M.temperature=D);const E=u||null;E!==(e.reasoning_effort??null)&&(M.reasoning_effort=E),console.log("[AgentModal] updates:",M),Object.keys(M).length>0&&await n(e.name,M)}catch(M){console.error("[AgentModal] save error:",M)}finally{h(!1),t()}},O=g[p]??[],_=d.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})});return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl shadow-2xl w-full max-w-2xl mx-4",onClick:M=>M.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Edit Agent"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-lg",children:""})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:r,onChange:M=>i(M.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Instructions"}),d.jsx("textarea",{value:o,onChange:M=>l(M.target.value),rows:4,className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500 resize-vertical"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Provider"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:p,onChange:M=>N(M.target.value),disabled:C,className:"w-full appearance-none bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 pr-10 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500 disabled:opacity-50",children:[d.jsx("option",{value:"openai",children:"OpenAI"}),d.jsx("option",{value:"anthropic",children:"Anthropic"}),d.jsx("option",{value:"gemini",children:"Gemini"}),d.jsx("option",{value:"custom",children:"Custom"})]}),_]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Model"}),p==="custom"?d.jsx("input",{type:"text",value:m,onChange:M=>y(M.target.value),placeholder:"provider/model-name",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"}):d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:v,onChange:M=>b(M.target.value),disabled:C,className:"w-full appearance-none bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 pr-10 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500 disabled:opacity-50",children:[v===""&&d.jsx("option",{value:"",children:"Select a model..."}),O.map(M=>d.jsx("option",{value:M,children:M},M))]}),_]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Temperature"}),d.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:s,onChange:M=>a(M.target.value),placeholder:"0.7",className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Reasoning Effort"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:u,onChange:M=>f(M.target.value),className:"w-full appearance-none bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 pr-10 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"",children:"Not set"}),d.jsx("option",{value:"none",children:"none"}),d.jsx("option",{value:"minimal",children:"minimal"}),d.jsx("option",{value:"low",children:"low"}),d.jsx("option",{value:"medium",children:"medium"}),d.jsx("option",{value:"high",children:"high"}),d.jsx("option",{value:"xhigh",children:"xhigh"})]}),_]})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-gray-200 dark:border-gray-800",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:A,disabled:c||!r.trim(),className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:c?"Saving...":"Save"})]})]})})}function eI({tool:e,onClose:t,onSave:n}){const[r,i]=I.useState(e.name),[o,l]=I.useState(e.description??""),[s,a]=I.useState(null),[u,f]=I.useState(!0),[c,h]=I.useState(!1);I.useEffect(()=>{const x=v=>{v.key==="Escape"&&t()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[t]),I.useEffect(()=>{fetch(`/api/tools/${encodeURIComponent(e.name)}/source`).then(x=>x.json()).then(x=>{a(x.source_code??""),f(!1)}).catch(()=>f(!1))},[e.name]);const p=async()=>{h(!0);try{const x={};r!==e.name&&(x.name=r),o!==(e.description??"")&&(x.description=o),console.log("[ToolModal] updates:",x),Object.keys(x).length>0&&await n(e.name,x)}catch(x){console.error("[ToolModal] save error:",x)}finally{h(!1),t()}};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",onClick:t,children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-300 dark:border-gray-700 rounded-xl shadow-2xl w-full max-w-2xl mx-4 max-h-[90vh] flex flex-col",onClick:x=>x.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Edit Tool"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-lg",children:""})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4 overflow-y-auto flex-1",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Name"}),d.jsx("input",{type:"text",value:r,onChange:x=>i(x.target.value),className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Description"}),d.jsx("textarea",{value:o,onChange:x=>l(x.target.value),rows:2,className:"w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500 resize-vertical"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:["Source Code",d.jsx("span",{className:"ml-2 text-[10px] text-gray-400 dark:text-gray-500 font-normal",children:"read-only"})]}),u?d.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-4 text-sm text-gray-400 dark:text-gray-500 text-center",children:"Loading..."}):d.jsx("pre",{className:"bg-gray-100 dark:bg-gray-950 border border-gray-300 dark:border-gray-700 rounded-lg px-4 py-3 text-xs text-gray-700 dark:text-gray-300 overflow-x-auto font-mono whitespace-pre leading-relaxed max-h-64 overflow-y-auto",children:s||"No source code available"})]})]}),d.jsxs("div",{className:"flex justify-end gap-2 px-6 py-4 border-t border-gray-200 dark:border-gray-800 flex-shrink-0",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 rounded-lg",children:"Cancel"}),d.jsx("button",{onClick:p,disabled:c||!r.trim(),className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:c?"Saving...":"Save"})]})]})})}const tI=/KEY|SECRET|TOKEN|PASSWORD|CREDENTIAL/i;function nI({project:e,onToast:t}){const[n,r]=I.useState([]),[i,o]=I.useState(new Set),[l,s]=I.useState(!1),[a,u]=I.useState(!0),f=I.useCallback(async()=>{u(!0);try{const C=e?`?project=${encodeURIComponent(e)}`:"",N=await(await fetch(`/api/env${C}`)).json();if(N.error){t(`Error: ${N.error}`);return}r(N.variables??[])}catch(C){t(`Error: ${String(C)}`)}finally{u(!1)}},[e,t]);I.useEffect(()=>{f()},[f]);const c=(C,w,N)=>{r(A=>A.map((O,_)=>_===C?{...O,[w]:N}:O))},h=()=>{r(C=>[...C,{key:"",value:""}])},p=C=>{r(w=>w.filter((N,A)=>A!==C)),o(w=>{const N=new Set;for(const A of w)A<C?N.add(A):A>C&&N.add(A-1);return N})},x=C=>{o(w=>{const N=new Set(w);return N.has(C)?N.delete(C):N.add(C),N})},v=C=>tI.test(C),b=new Set,m=new Map;n.forEach((C,w)=>{const N=C.key.trim();N&&(m.has(N)&&b.add(N),m.set(N,w))});const y=b.size>0,g=!l&&!y,k=async()=>{s(!0);try{const C=e?`?project=${encodeURIComponent(e)}`:"",N=await(await fetch(`/api/env${C}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({variables:n})})).json();N.error?t(`Error: ${N.error}`):t("Environment variables saved")}catch(C){t(`Error: ${String(C)}`)}finally{s(!1)}};return d.jsx("div",{className:"w-full max-w-2xl mx-auto",children:d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800",children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Environment Variables"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Manage API keys and environment variables for your project."})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4",children:[a&&d.jsx("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:"Loading..."}),!a&&d.jsx(d.Fragment,{children:n.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"No environment variables configured."}),d.jsx("button",{onClick:h,className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"+ Add your first variable"})]}):d.jsxs("div",{className:"space-y-2",children:[n.map((C,w)=>{const N=b.has(C.key.trim()),A=v(C.key),O=i.has(w);return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"text",value:C.key,onChange:_=>c(w,"key",_.target.value),placeholder:"KEY",className:`w-1/3 font-mono bg-gray-50 dark:bg-gray-800 border rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500 ${N?"border-red-500 dark:border-red-500":"border-gray-300 dark:border-gray-700"}`}),d.jsx("input",{type:A&&!O?"password":"text",value:C.value,onChange:_=>c(w,"value",_.target.value),placeholder:"value",className:"flex-1 font-mono bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"}),A&&d.jsx("button",{onClick:()=>x(w),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors flex-shrink-0",title:O?"Hide value":"Show value",children:O?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12c1.292 4.338 5.31 7.5 10.066 7.5.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})})}),d.jsx("button",{onClick:()=>p(w),className:"p-2 text-red-400 hover:text-red-600 dark:hover:text-red-300 transition-colors flex-shrink-0",title:"Remove variable",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"})})})]},w)}),d.jsx("button",{onClick:h,className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition-colors mt-2",children:"+ Add Variable"})]})})]}),d.jsx("div",{className:"flex justify-end px-6 py-4 border-t border-gray-200 dark:border-gray-800",children:d.jsx("button",{onClick:k,disabled:!g,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:l?"Saving...":"Save"})})]})})}const I0={chat:{enabled:!0,title:"",welcome_message:"",attachments:!0},widget:{enabled:!0,color:"#2563eb",position:"bottom-right",width:"380px",height:"560px",welcome_message:"",placeholder:"Type a message...",auto_open:!1,user_message_color:"#2563eb",header_color:"",bubble_icon:"chat"},api:{cors_origins:["*"]}};function M0({label:e,checked:t,onChange:n}){return d.jsxs("label",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),d.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:()=>n(!t),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${t?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:d.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${t?"translate-x-[18px]":"translate-x-[2px]"}`})})]})}function Dt({label:e,children:t}){return d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:e}),t]})}const An="w-full bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500",rI="w-full appearance-none bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 pr-10 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500";function iI(e){const t=e.replace("#","");if(t.length!==6)return 1;const n=parseInt(t.slice(0,2),16)/255,r=parseInt(t.slice(2,4),16)/255,i=parseInt(t.slice(4,6),16)/255,o=l=>l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4);return .2126*o(n)+.7152*o(r)+.0722*o(i)}function tn(e){return iI(e)<.4}const A0={chat:d.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),sparkle:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M12 2l2.09 6.26L20.18 10l-6.09 1.74L12 18l-2.09-6.26L3.82 10l6.09-1.74L12 2z"}),d.jsx("path",{d:"M19 15l1.04 3.13L23.18 19l-3.14.87L19 23l-1.04-3.13L14.82 19l3.14-.87L19 15z",opacity:".6"})]}),help:d.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}),d.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]})};function X1({icon:e,className:t}){return d.jsx("span",{className:t,style:{display:"inline-flex"},children:A0[e]||A0.chat})}const K1="This is a preview response so you can see the style of the chat. To interact with your agent, go to Playground.";function oI({config:e,projectName:t}){const n=e.chat.title||t||"My Agent",r=e.chat.welcome_message||"Send a message to start chatting",[i,o]=I.useState([]),[l,s]=I.useState(""),a=I.useCallback(c=>{c==null||c.scrollIntoView({behavior:"smooth"})},[]),u=()=>{const c=l.trim();c&&(s(""),o(h=>[...h,{role:"user",text:c},{role:"assistant",text:K1}]))},f=()=>{o([]),s("")};return d.jsx("div",{className:"h-full flex items-center justify-center p-5",style:{background:"var(--tw-bg, #f3f4f6)",backgroundImage:"radial-gradient(circle, #d1d5db 1px, transparent 1px)",backgroundSize:"24px 24px"},children:d.jsxs("div",{className:"w-full max-w-[520px] h-[580px] bg-white dark:bg-gray-900 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-[0_1px_3px_rgba(0,0,0,0.06),0_4px_16px_rgba(0,0,0,0.04)] flex flex-col overflow-hidden",children:[d.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",style:e.widget.header_color?{background:e.widget.header_color}:void 0,children:[d.jsx("span",{className:"text-[15px] font-semibold flex-1 truncate",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"#ffffff":void 0},children:n}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.6)":void 0,borderColor:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.2)":void 0},children:d.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"})})}),d.jsx("button",{onClick:f,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 hover:opacity-80 transition-colors",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.6)":void 0,borderColor:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.2)":void 0},children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3 min-h-0",children:[i.length===0?d.jsx("div",{className:"flex items-start justify-center pt-20",children:d.jsx("p",{className:"text-[15px] text-gray-400 dark:text-gray-500 text-center",children:r})}):i.map((c,h)=>d.jsx("div",{className:`flex ${c.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:"max-w-[85%] px-3.5 py-2 rounded-xl text-sm leading-relaxed break-words",style:c.role==="user"?{background:e.widget.user_message_color||"#2563eb",color:"#ffffff"}:{background:"#f3f4f6",color:"#1f2937"},children:c.text})},h)),d.jsx("div",{ref:a})]}),d.jsx("div",{className:"px-4 pb-1.5 flex-shrink-0",children:d.jsxs("form",{onSubmit:c=>{c.preventDefault(),u()},className:"flex items-end gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-3xl px-4 py-2",children:[e.chat.attachments&&d.jsx("div",{className:"w-8 h-8 flex items-center justify-center flex-shrink-0 text-gray-400",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),d.jsx("input",{type:"text",value:l,onChange:c=>s(c.target.value),placeholder:"Type a message...",className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 outline-none py-1"}),d.jsx("button",{type:"submit",className:"w-8 h-8 rounded-full bg-gray-800 dark:bg-white flex items-center justify-center flex-shrink-0",children:d.jsx("svg",{className:"w-4 h-4 text-white dark:text-gray-800",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})})]})}),d.jsx("div",{className:"pb-1.5 text-center flex-shrink-0",children:d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-gray-500",children:["Built with"," ",d.jsx("a",{href:"https://klisk.productomania.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium no-underline hover:opacity-80",children:"Klisk"})]})})]})})}function lI({config:e,projectName:t}){const[n,r]=I.useState(!1),[i,o]=I.useState([]),[l,s]=I.useState(""),a=e.widget.position==="bottom-left",u=e.widget.color||"#2563eb",f=e.widget.placeholder||"Type a message...",c=e.chat.welcome_message||"Send a message to start chatting",h=e.chat.title||t||"My Agent",p=I.useCallback(b=>{b==null||b.scrollIntoView({behavior:"smooth"})},[]),x=()=>{const b=l.trim();b&&(s(""),o(m=>[...m,{role:"user",text:b},{role:"assistant",text:K1}]))},v=()=>{o([]),s("")};return d.jsxs("div",{className:"relative h-full w-full overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800/50",children:d.jsxs("div",{className:"p-6 space-y-3 opacity-30",children:[d.jsx("div",{className:"h-6 w-48 bg-gray-300 dark:bg-gray-600 rounded"}),d.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded"}),d.jsx("div",{className:"h-3 w-5/6 bg-gray-200 dark:bg-gray-700 rounded"}),d.jsx("div",{className:"h-3 w-4/6 bg-gray-200 dark:bg-gray-700 rounded"}),d.jsx("div",{className:"h-20 w-full bg-gray-200 dark:bg-gray-700 rounded mt-4"}),d.jsx("div",{className:"h-3 w-full bg-gray-200 dark:bg-gray-700 rounded"}),d.jsx("div",{className:"h-3 w-3/4 bg-gray-200 dark:bg-gray-700 rounded"})]})}),d.jsxs("div",{className:"absolute bottom-6 flex flex-col items-end gap-3",style:{[a?"left":"right"]:"24px"},children:[n&&d.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl flex flex-col overflow-hidden",style:{width:"380px",height:"500px",boxShadow:"0 8px 30px rgba(0,0,0,0.12), 0 2px 8px rgba(0,0,0,0.08)"},children:[d.jsxs("div",{className:"flex items-center px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",style:e.widget.header_color?{background:e.widget.header_color}:void 0,children:[d.jsx("span",{className:"text-[15px] font-semibold flex-1 truncate",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"#ffffff":void 0},children:h}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.6)":void 0,borderColor:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.2)":void 0},children:d.jsx("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.701-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z",clipRule:"evenodd"})})}),d.jsx("button",{onClick:v,className:"w-8 h-8 flex items-center justify-center rounded-lg border border-gray-300 dark:border-gray-600 hover:opacity-80 transition-colors",style:{color:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.6)":void 0,borderColor:e.widget.header_color&&tn(e.widget.header_color)?"rgba(255,255,255,0.2)":void 0},children:d.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-5 py-4 space-y-3 min-h-0",children:[i.length===0?d.jsx("div",{className:"flex items-start justify-center pt-16",children:d.jsx("p",{className:"text-[15px] text-gray-400 dark:text-gray-500 text-center",children:c})}):i.map((b,m)=>d.jsx("div",{className:`flex ${b.role==="user"?"justify-end":"justify-start"}`,children:d.jsx("div",{className:"max-w-[85%] px-3.5 py-2 rounded-xl text-sm leading-relaxed break-words",style:b.role==="user"?{background:e.widget.user_message_color||"#2563eb",color:"#ffffff"}:{background:"#f3f4f6",color:"#1f2937"},children:b.text})},m)),d.jsx("div",{ref:p})]}),d.jsx("div",{className:"px-4 pb-1.5 flex-shrink-0",children:d.jsxs("form",{onSubmit:b=>{b.preventDefault(),x()},className:"flex items-end gap-2 bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-3xl px-4 py-2",children:[e.chat.attachments&&d.jsx("div",{className:"w-8 h-8 flex items-center justify-center flex-shrink-0 text-gray-400",children:d.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"})})}),d.jsx("input",{type:"text",value:l,onChange:b=>s(b.target.value),placeholder:f,className:"flex-1 bg-transparent text-sm text-gray-800 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 outline-none py-1"}),d.jsx("button",{type:"submit",className:"w-8 h-8 rounded-full bg-gray-800 dark:bg-white flex items-center justify-center flex-shrink-0",children:d.jsx("svg",{className:"w-4 h-4 text-white dark:text-gray-800",viewBox:"0 0 24 24",fill:"currentColor",children:d.jsx("path",{d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})})})]})}),d.jsx("div",{className:"pb-1.5 text-center flex-shrink-0",children:d.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-gray-500",children:["Built with"," ",d.jsx("a",{href:"https://klisk.productomania.io",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-medium no-underline hover:opacity-80",children:"Klisk"})]})})]}),d.jsx("button",{onClick:()=>r(!n),className:"w-14 h-14 rounded-full flex items-center justify-center text-white transition-transform hover:scale-105",style:{background:u,alignSelf:a?"flex-start":"flex-end",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:n?d.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),d.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}):d.jsx(X1,{icon:e.widget.bubble_icon||"chat",className:"w-6 h-6"})})]})]})}function sI({isWorkspace:e,project:t,projectName:n,onToast:r}){const[i,o]=I.useState(I0),[l,s]=I.useState(I0),[a,u]=I.useState(!0),[f,c]=I.useState(!1),[h,p]=I.useState("chat"),x=JSON.stringify(i)!==JSON.stringify(l),v=I.useCallback(async()=>{u(!0);try{const w=e&&t?`?project=${encodeURIComponent(t)}`:"",A=await(await fetch(`/api/deploy-config${w}`)).json();if(A.error){r(`Error: ${A.error}`);return}o(A),s(A)}catch(w){r(`Error: ${String(w)}`)}finally{u(!1)}},[e,t,r]);I.useEffect(()=>{v()},[v]);const b=async()=>{c(!0);try{const w=e&&t?`?project=${encodeURIComponent(t)}`:"",A=await(await fetch(`/api/deploy-config${w}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).json();A.error?r(`Error: ${A.error}`):(r("Settings saved"),s(i))}catch(w){r(`Error: ${String(w)}`)}finally{c(!1)}},m={title:{chat:"title"},welcome_message:{chat:"welcome_message",widget:"welcome_message"},placeholder:{widget:"placeholder"}},y=(w,N)=>{const A=m[w];o(O=>{const _={...O};return A!=null&&A.chat&&(_.chat={...O.chat,[A.chat]:N}),A!=null&&A.widget&&(_.widget={...O.widget,[A.widget]:N}),_})},g=(w,N)=>{o(A=>({...A,chat:{...A.chat,[w]:N}}))},k=(w,N)=>{o(A=>({...A,widget:{...A.widget,[w]:N}}))},C='<script src="https://your-domain.com/widget.js"><\/script>';return a?d.jsx("div",{className:"flex items-center justify-center h-full text-sm text-gray-500 dark:text-gray-400",children:"Loading deploy settings..."}):d.jsxs("div",{className:"flex h-full",children:[d.jsxs("div",{className:"w-[420px] flex-shrink-0 border-r border-gray-200 dark:border-gray-800 flex flex-col min-h-0",children:[d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"px-5 py-5 space-y-4",children:[d.jsx(Dt,{label:"Title",children:d.jsx("input",{type:"text",value:i.chat.title,onChange:w=>y("title",w.target.value),placeholder:n||"Agent name",className:An})}),d.jsx(Dt,{label:"Welcome message",children:d.jsx("textarea",{value:i.chat.welcome_message,onChange:w=>y("welcome_message",w.target.value),placeholder:"Send a message to start chatting",rows:2,className:An+" resize-none"})}),d.jsx(Dt,{label:"Input placeholder",children:d.jsx("input",{type:"text",value:i.widget.placeholder,onChange:w=>y("placeholder",w.target.value),className:An})}),d.jsx(Dt,{label:"User message color",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"color",value:i.widget.user_message_color||"#2563eb",onChange:w=>k("user_message_color",w.target.value),className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-700 cursor-pointer p-0"}),d.jsx("input",{type:"text",value:i.widget.user_message_color,onChange:w=>k("user_message_color",w.target.value),className:An+" flex-1"})]})}),d.jsx(Dt,{label:"Header background",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"color",value:i.widget.header_color||"#ffffff",onChange:w=>k("header_color",w.target.value),className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-700 cursor-pointer p-0"}),d.jsx("input",{type:"text",value:i.widget.header_color,onChange:w=>k("header_color",w.target.value),placeholder:"Default",className:An+" flex-1"})]})}),d.jsx(M0,{label:"File attachments",checked:i.chat.attachments,onChange:w=>g("attachments",w)}),d.jsxs("div",{className:"pt-2 border-t border-gray-200 dark:border-gray-800 space-y-4",children:[d.jsx("h3",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3",children:"Widget"}),d.jsx(Dt,{label:"Bubble color",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"color",value:i.widget.color,onChange:w=>k("color",w.target.value),className:"w-8 h-8 rounded border border-gray-300 dark:border-gray-700 cursor-pointer p-0"}),d.jsx("input",{type:"text",value:i.widget.color,onChange:w=>k("color",w.target.value),className:An+" flex-1"})]})}),d.jsx(Dt,{label:"Bubble icon",children:d.jsx("div",{className:"flex gap-2",children:["chat","sparkle","help"].map(w=>d.jsx("button",{type:"button",onClick:()=>k("bubble_icon",w),className:`w-10 h-10 rounded-lg border flex items-center justify-center transition-colors ${i.widget.bubble_icon===w?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"border-gray-300 dark:border-gray-700 text-gray-500 dark:text-gray-400 hover:border-gray-400 dark:hover:border-gray-500"}`,title:w.charAt(0).toUpperCase()+w.slice(1),children:d.jsx(X1,{icon:w,className:"w-5 h-5"})},w))})}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Dt,{label:"Position",children:d.jsxs("div",{className:"relative",children:[d.jsxs("select",{value:i.widget.position,onChange:w=>k("position",w.target.value),className:rI,children:[d.jsx("option",{value:"bottom-right",children:"Bottom right"}),d.jsx("option",{value:"bottom-left",children:"Bottom left"})]}),d.jsx("svg",{className:"pointer-events-none absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:d.jsx("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z",clipRule:"evenodd"})})]})}),d.jsx("div",{})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(Dt,{label:"Width",children:d.jsx("input",{type:"text",value:i.widget.width,onChange:w=>k("width",w.target.value),className:An})}),d.jsx(Dt,{label:"Height",children:d.jsx("input",{type:"text",value:i.widget.height,onChange:w=>k("height",w.target.value),className:An})})]}),d.jsx(M0,{label:"Auto-open on page load",checked:i.widget.auto_open,onChange:w=>k("auto_open",w)}),d.jsx(Dt,{label:"Embed snippet",children:d.jsxs("div",{className:"relative",children:[d.jsx("pre",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-xs text-gray-600 dark:text-gray-400 font-mono overflow-x-auto",children:C}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(C),r("Snippet copied to clipboard")},className:"absolute top-2 right-2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",title:"Copy",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})})})]})})]})]})}),d.jsxs("div",{className:"flex justify-end gap-2 px-5 py-3 border-t border-gray-200 dark:border-gray-800 flex-shrink-0",children:[x&&d.jsx("button",{onClick:()=>o(l),disabled:f,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{onClick:b,disabled:f||!x,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:f?"Saving...":"Save"})]})]}),d.jsxs("div",{className:"flex-1 min-w-0 bg-gray-50 dark:bg-gray-950 flex flex-col",children:[d.jsxs("div",{className:"px-4 py-2.5 border-b border-gray-200 dark:border-gray-800 flex-shrink-0 flex items-center justify-between",children:[d.jsx("span",{className:"text-xs font-medium text-gray-400 dark:text-gray-500 uppercase tracking-wider",children:"Preview"}),d.jsx("div",{className:"flex items-center bg-gray-200 dark:bg-gray-800 rounded-lg p-0.5",children:["chat","widget"].map(w=>d.jsx("button",{onClick:()=>p(w),className:`px-3 py-1 text-xs font-medium rounded-md transition-colors ${h===w?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:w==="chat"?"Chat Page":"Widget"},w))})]}),d.jsx("div",{className:"flex-1 min-h-0",children:h==="chat"?d.jsx(oI,{config:i,projectName:n}):d.jsx(lI,{config:i,projectName:n})})]})]})}function aI({project:e,agentName:t,sourceFile:n,onToast:r,onDeployWithAssistant:i}){const[o,l]=I.useState({running:!1,port:null,pid:null,url:null}),[s,a]=I.useState(!0),[u,f]=I.useState(!1),[c,h]=I.useState(null),p=e?`?project=${encodeURIComponent(e)}`:"",x=I.useCallback(async()=>{a(!0);try{const g=await fetch(`/api/local-server/status${p}`);if(!g.ok)return;const k=await g.json();l(k)}catch{}finally{a(!1)}},[p]);I.useEffect(()=>{x()},[x]);const v=async()=>{f(!0);try{const k=await(await fetch(`/api/local-server/start${p}`,{method:"POST"})).json();k.ok?(r("Server started"),await x()):r(`Error: ${k.error}`)}catch(g){r(`Error: ${String(g)}`)}finally{f(!1)}},b=async()=>{f(!0);try{const k=await(await fetch(`/api/local-server/stop${p}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})})).json();k.ok?(r("Server stopped"),await x()):r(`Error: ${k.error||"Failed to stop"}`)}catch(g){r(`Error: ${String(g)}`)}finally{f(!1)}},m=(g,k)=>{navigator.clipboard.writeText(k),h(g),setTimeout(()=>h(null),1500)},y=({id:g,text:k})=>d.jsx("button",{onClick:()=>m(g,k),className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 flex-shrink-0",title:"Copy",children:c===g?d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-green-500",children:d.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"})}):d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5",children:[d.jsx("path",{d:"M7 3.5A1.5 1.5 0 0 1 8.5 2h3.879a1.5 1.5 0 0 1 1.06.44l3.122 3.12A1.5 1.5 0 0 1 17 6.622V12.5a1.5 1.5 0 0 1-1.5 1.5h-1v-3.379a3 3 0 0 0-.879-2.121L10.5 5.379A3 3 0 0 0 8.379 4.5H7v-1Z"}),d.jsx("path",{d:"M4.5 6A1.5 1.5 0 0 0 3 7.5v9A1.5 1.5 0 0 0 4.5 18h7a1.5 1.5 0 0 0 1.5-1.5v-5.879a1.5 1.5 0 0 0-.44-1.06L9.44 6.439A1.5 1.5 0 0 0 8.378 6H4.5Z"})]})});return d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:d.jsx("div",{className:"px-4 pt-10 pb-6 space-y-6",children:d.jsxs("div",{className:"w-full max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Local Server"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Run your agent locally as a production server."})]}),d.jsx("a",{href:"https://klisk.productomania.io/docs/guides/deploy.html#local-server",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 flex-shrink-0 mt-0.5",title:"Documentation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})]}),d.jsx("div",{className:"px-6 py-5",children:s?d.jsx("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:"Loading..."}):o.running?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-400 animate-pulse"}),d.jsxs("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Running on port ",o.port]})]}),d.jsx("button",{onClick:b,disabled:u,className:"px-3 py-1.5 text-xs font-medium border border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950 disabled:opacity-50 rounded-lg transition-colors",children:u?"Stopping...":"Stop"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 w-12 flex-shrink-0",children:"Chat"}),d.jsx("code",{className:"text-sm text-blue-600 dark:text-blue-400 font-mono truncate min-w-0",children:o.url}),d.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[d.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",title:"Open in browser",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5",children:[d.jsx("path",{fillRule:"evenodd",d:"M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z",clipRule:"evenodd"}),d.jsx("path",{fillRule:"evenodd",d:"M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z",clipRule:"evenodd"})]})}),d.jsx(y,{id:"local-chat",text:o.url})]})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 w-12 flex-shrink-0",children:"API"}),d.jsxs("code",{className:"text-sm text-gray-700 dark:text-gray-300 font-mono truncate min-w-0",children:[o.url,"/api/chat"]}),d.jsx(y,{id:"local-api",text:`${o.url}/api/chat`})]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400",children:"Widget"}),d.jsxs("div",{className:"mt-1.5 relative group",children:[d.jsx("pre",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2.5 text-xs font-mono text-gray-700 dark:text-gray-300 overflow-x-auto",children:`<script src="${o.url}/widget.js"><\/script>`}),d.jsx("div",{className:"absolute top-1.5 right-1.5",children:d.jsx(y,{id:"local-widget",text:`<script src="${o.url}/widget.js"><\/script>`})})]})]})]}):d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-gray-300 dark:bg-gray-600"}),d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Not running"})]}),d.jsx("button",{onClick:v,disabled:u,className:"px-4 py-1.5 text-xs font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:u?"Starting...":"Start Server"})]})})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Deploy to Production"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Deploy your agent to any cloud platform."})]}),d.jsx("a",{href:"https://klisk.productomania.io/docs/guides/deploy.html#deploy-to-the-cloud",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 flex-shrink-0 mt-0.5",title:"Documentation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})]}),d.jsxs("div",{className:"px-6 py-5 space-y-5",children:[d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"The assistant will guide you step by step to deploy your agent to the platform of your choice, including Google Cloud Run, AWS, Railway, Fly.io, and more."}),i&&d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"The assistant will guide you through the process."}),d.jsx("button",{onClick:()=>{let g=`Help me deploy the agent "${t||"my agent"}" to production.`;e&&(g+=`
The agent belongs to the project directory: ${e}`),n&&(g+=`
The agent is defined in: ${n}`),i(g)},className:"px-4 py-1.5 text-xs font-medium bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-colors flex-shrink-0",children:"Deploy Agent"})]})]})]})]})})})}const L0={interfaces:{chat_enabled:!0,widget_enabled:!0},keys:{api_key:"",chat_key:"",widget_key:""}};function cu({label:e,checked:t,onChange:n,disabled:r}){return d.jsxs("label",{className:`flex items-center justify-between ${r?"opacity-50":""}`,children:[d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e}),d.jsx("button",{type:"button",role:"switch","aria-checked":t,disabled:r,onClick:()=>n(!t),className:`relative inline-flex h-5 w-9 items-center rounded-full transition-colors ${t?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"} ${r?"cursor-not-allowed":""}`,children:d.jsx("span",{className:`inline-block h-3.5 w-3.5 transform rounded-full bg-white transition-transform ${t?"translate-x-[18px]":"translate-x-[2px]"}`})})]})}function q1(){const e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function du({label:e,value:t,onChange:n,disabled:r,onToast:i}){const[o,l]=I.useState(!1);return d.jsxs("div",{className:r?"opacity-40 pointer-events-none":"",children:[d.jsx("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:e}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:o||!t?"text":"password",value:t,onChange:s=>n(s.target.value),placeholder:"Not set",className:"flex-1 font-mono bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 text-sm text-gray-800 dark:text-gray-200 focus:outline-none focus:border-blue-500"}),t&&d.jsx("button",{onClick:()=>l(!o),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors flex-shrink-0",title:o?"Hide":"Show",children:o?d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:[d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}):d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12c1.292 4.338 5.31 7.5 10.066 7.5.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"})})}),d.jsx("button",{onClick:()=>{t&&(navigator.clipboard.writeText(t),i("Key copied to clipboard"))},disabled:!t,className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors flex-shrink-0 disabled:opacity-30",title:"Copy",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"})})}),d.jsx("button",{onClick:()=>n(q1()),className:"px-3 py-2 text-xs font-medium text-blue-600 hover:text-blue-500 border border-blue-600 hover:border-blue-500 rounded-lg transition-colors flex-shrink-0",title:t?"Regenerate random key":"Generate random key",children:t?"Regenerate":"Generate"})]})]})}function uI({project:e,isWorkspace:t,onToast:n}){const[r,i]=I.useState(L0),[o,l]=I.useState(L0),[s,a]=I.useState(!0),[u,f]=I.useState(!1),c=JSON.stringify(r)!==JSON.stringify(o),h=r.keys.api_key!==""||r.keys.chat_key!==""||r.keys.widget_key!=="",p=I.useCallback(async()=>{a(!0);try{const b=t&&e?`?project=${encodeURIComponent(e)}`:"",y=await(await fetch(`/api/security${b}`)).json();if(y.error){n(`Error: ${y.error}`);return}i(y),l(y)}catch(b){n(`Error: ${String(b)}`)}finally{a(!1)}},[t,e,n]);I.useEffect(()=>{p()},[p]);const x=async()=>{f(!0);try{const b=t&&e?`?project=${encodeURIComponent(e)}`:"",y=await(await fetch(`/api/security${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();y.error?n(`Error: ${y.error}`):(n("Security settings saved"),l(r))}catch(b){n(`Error: ${String(b)}`)}finally{f(!1)}},v=b=>{i(b?m=>({...m,keys:{api_key:q1(),chat_key:"",widget_key:""}}):m=>({...m,keys:{api_key:"",chat_key:"",widget_key:""}}))};return s?d.jsx("div",{className:"flex-1 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400",children:"Loading security settings..."}):d.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-6 space-y-6",children:[d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Interfaces"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Control which interfaces are available for your agent."})]}),d.jsx("a",{href:"https://klisk.productomania.io/docs/guides/interfaces.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 flex-shrink-0 mt-0.5",title:"Documentation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"REST API"}),d.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400",children:[d.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500"}),"Always on"]})]}),d.jsx(cu,{label:"Chat page",checked:r.interfaces.chat_enabled,onChange:b=>i(m=>({...m,interfaces:{...m.interfaces,chat_enabled:b}}))}),d.jsx(cu,{label:"Widget",checked:r.interfaces.widget_enabled,onChange:b=>i(m=>({...m,interfaces:{...m.interfaces,widget_enabled:b}}))})]})]}),d.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-xl shadow-sm",children:[d.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-800 flex items-start justify-between",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"API Keys"}),d.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Protect your endpoints with API keys when deployed."})]}),d.jsx("a",{href:"https://klisk.productomania.io/docs/guides/interfaces.html#protecting-your-interfaces",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-400 flex-shrink-0 mt-0.5",title:"Documentation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})})]}),d.jsxs("div",{className:"px-6 py-4 space-y-4",children:[d.jsx(cu,{label:"Require authentication",checked:h,onChange:v}),d.jsx(du,{label:"API Key",value:r.keys.api_key,onChange:b=>i(m=>({...m,keys:{...m.keys,api_key:b}})),disabled:!h,onToast:n}),d.jsx(du,{label:"Chat Key",value:r.keys.chat_key,onChange:b=>i(m=>({...m,keys:{...m.keys,chat_key:b}})),disabled:!h,onToast:n}),d.jsx(du,{label:"Widget Key",value:r.keys.widget_key,onChange:b=>i(m=>({...m,keys:{...m.keys,widget_key:b}})),disabled:!h,onToast:n}),!h&&d.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Set at least one key to enable authentication."})]})]}),d.jsxs("div",{className:"flex justify-end gap-2",children:[c&&d.jsx("button",{onClick:()=>i(o),disabled:u,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 disabled:opacity-50 rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{onClick:x,disabled:u||!c,className:"px-4 py-2 text-sm font-medium bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded-lg transition-colors",children:u?"Saving...":"Save"})]})]})})})}function cI({onServerReady:e}){const[t,n]=I.useState(!1),r=I.useRef(e);I.useEffect(()=>{r.current=e},[e]),I.useEffect(()=>{let o=!0;const l=async()=>{try{(await fetch("/api/project")).ok&&o&&r.current()}catch{}};l();const s=setInterval(l,3e3);return()=>{o=!1,clearInterval(s)}},[]);const i=()=>{navigator.clipboard.writeText("klisk studio").then(()=>{n(!0),setTimeout(()=>n(!1),2e3)})};return d.jsx("div",{className:"flex flex-col h-screen items-center justify-center bg-gray-950 text-gray-100",children:d.jsxs("div",{className:"flex flex-col items-center gap-6 max-w-sm w-full px-6",children:[d.jsx("img",{src:"/favicon.png",alt:"Klisk",className:"w-12 h-12 opacity-60"}),d.jsxs("div",{className:"text-center",children:[d.jsx("h1",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Klisk Studio offline"}),d.jsx("p",{className:"text-sm text-gray-400",children:"El servidor no est corriendo."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Ejecuta en tu terminal:"})]}),d.jsxs("div",{className:"flex items-center gap-2 bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 w-full",children:[d.jsx("code",{className:"text-sm text-green-400 flex-1 font-mono",children:"$ klisk studio"}),d.jsx("button",{onClick:i,className:"text-xs text-gray-400 hover:text-gray-200 transition-colors px-2 py-1 rounded hover:bg-gray-800",title:"Copiar comando",children:t?"Copiado":"Copiar"})]}),d.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[d.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),d.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})]})})}const Q1="klisk-theme",Z1="klisk-split-percent",T0="klisk-sidebar-collapsed",P0="klisk-chat-messages",z0="klisk-chat-response-id";function Mo(e){return`klisk-chat-messages-${e}`}function Ao(e){return`klisk-chat-response-id-${e}`}function dI(e){try{const t=localStorage.getItem(Mo(e));return t?JSON.parse(t):[]}catch{return[]}}function fI(e){return localStorage.getItem(Ao(e))}function hI(){return localStorage.getItem(Q1)!=="light"}function pI(){const e=localStorage.getItem(Z1);if(e){const t=parseFloat(e);if(t>=20&&t<=80)return t}return 50}function gI(e){const t=localStorage.getItem(P0),n=localStorage.getItem(z0);(t||n)&&(t&&!localStorage.getItem(Mo(e))&&localStorage.setItem(Mo(e),t),n&&!localStorage.getItem(Ao(e))&&localStorage.setItem(Ao(e),n),localStorage.removeItem(P0),localStorage.removeItem(z0))}function mI(){var te,pe,ve,ce,Re;const[e,t]=I.useState(null),[n,r]=I.useState(null),[i,o]=I.useState({page:"listing"}),[l,s]=I.useState([]),[a,u]=I.useState(!1),[f,c]=I.useState({}),h=I.useRef(null),p=I.useRef(null),[x,v]=I.useState(null),b=I.useRef(null),[m,y]=I.useState(hI),[g,k]=I.useState(pI),C=I.useRef(!1),w=I.useRef(null);I.useEffect(()=>{localStorage.setItem(Z1,String(g))},[g]);const N=I.useCallback(K=>{K.preventDefault(),C.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},[]);I.useEffect(()=>{const K=ie=>{if(!C.current||!w.current)return;const we=w.current.getBoundingClientRect(),Oe=(ie.clientX-we.left)/we.width*100;k(Math.min(80,Math.max(20,Oe)))},ne=()=>{C.current&&(C.current=!1,document.body.style.cursor="",document.body.style.userSelect="")};return window.addEventListener("mousemove",K),window.addEventListener("mouseup",ne),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",ne)}},[]);const[A,O]=I.useState(null),[_,M]=I.useState(null),[z,D]=I.useState(!1),E=I.useRef(null),[P,R]=I.useState(!1),[F,L]=I.useState(()=>localStorage.getItem(T0)==="true");I.useEffect(()=>{document.documentElement.classList.toggle("dark",m),localStorage.setItem(Q1,m?"dark":"light");const K=document.querySelector('meta[name="theme-color"]');K&&K.setAttribute("content",m?"#111827":"#2563eb")},[m]);const T=I.useCallback(()=>{L(K=>(localStorage.setItem(T0,String(!K)),!K))},[]);I.useEffect(()=>{if(n&&Object.keys(n.agents).length>0){const K=Object.keys(n.agents)[0];gI(K)}},[n]),I.useEffect(()=>{if(i.page==="detail"){const K=i.agentName;s(dI(K)),b.current=fI(K)}},[i]),I.useEffect(()=>{if(i.page!=="detail")return;const K=i.agentName,ne=l.map(ie=>ie.role==="user"&&ie.attachments?{...ie,attachments:ie.attachments.map(({data:we,...Oe})=>Oe)}:ie);localStorage.setItem(Mo(K),JSON.stringify(ne))},[l,i]),I.useEffect(()=>{fetch("/api/project").then(K=>{if(!K.ok)throw new Error("not ok");return K.json()}).then(K=>{r(K),t(!0)}).catch(()=>{t(!1)})},[]),I.useEffect(()=>{let K=!0,ne,ie;const we=()=>{K&&(ne=new WebSocket(`ws://${window.location.host}/ws/reload`),p.current=ne,ne.onmessage=Oe=>{const be=JSON.parse(Oe.data);be.type==="reload"&&(r(be.snapshot),v("Project reloaded"),setTimeout(()=>v(null),2e3))},ne.onclose=()=>{K&&(ie=setTimeout(we,2e3))})};return we(),()=>{K=!1,clearTimeout(ie),ne==null||ne.close()}},[]),I.useEffect(()=>{let K=!0,ne,ie;const we=()=>{K&&(ne=new WebSocket(`ws://${window.location.host}/ws/chat`),h.current=ne,ne.onopen=()=>{u(!0),t(!0)},ne.onclose=()=>{K&&(u(!1),h.current=null,fetch("/api/project").then(Oe=>{if(!Oe.ok)throw new Error}).catch(()=>t(!1)),ie=setTimeout(we,2e3))},ne.onmessage=Oe=>{const be=JSON.parse(Oe.data);switch(be.type){case"thinking":s(ge=>{for(let Ce=ge.length-1;Ce>=0;Ce--){const $=ge[Ce];if($.role==="thinking")return[...ge.slice(0,Ce),{...$,content:$.content+be.data},...ge.slice(Ce+1)];if($.role!=="assistant"||$.content.trim()!=="")break}return[...ge,{role:"thinking",content:be.data}]});break;case"token":if(!be.data)break;s(ge=>{const Ce=ge[ge.length-1];return Ce&&Ce.role==="assistant"?[...ge.slice(0,-1),{...Ce,content:Ce.content+be.data}]:[...ge,{role:"assistant",content:be.data}]});break;case"tool_call":s(ge=>[...ge,{role:"tool_call",tool:be.data.tool,arguments:be.data.arguments??"",output:"",status:"running"}]);break;case"tool_result":s(ge=>{const Ce=[...ge].reverse().findIndex(ae=>ae.role==="tool_call"&&ae.status==="running");if(Ce===-1)return ge;const $=ge.length-1-Ce,X=ge[$];return X.role!=="tool_call"?ge:[...ge.slice(0,$),{...X,output:be.data.output??"",status:"done"},...ge.slice($+1)]});break;case"done":s(ge=>ge.map(Ce=>Ce.role==="tool_call"&&Ce.status==="running"?{...Ce,status:"done"}:Ce)),be.response_id&&(b.current=be.response_id,o(ge=>(ge.page==="detail"&&localStorage.setItem(Ao(ge.agentName),be.response_id),ge)));break;case"error":s(ge=>[...ge,{role:"system",content:`Error: ${be.data}`}]);break}})};return we(),()=>{K=!1,clearTimeout(ie),ne==null||ne.close()}},[]),I.useEffect(()=>{i.page==="detail"&&n&&!n.agents[i.agentName]&&o({page:"listing"})},[n,i]),I.useEffect(()=>{if(!n)return;const K=new Set;for(const Oe of Object.values(n.agents))K.add(Oe.project??"");let ne=!0;const ie=async()=>{const Oe=await Promise.all([...K].map(async be=>{const ge=be?`?project=${encodeURIComponent(be)}`:"";try{const Ce=await fetch(`/api/local-server/status${ge}`);if(!Ce.ok)return[be,!1];const $=await Ce.json();return[be,$.running]}catch{return[be,!1]}}));ne&&c(Object.fromEntries(Oe))};ie();const we=setInterval(ie,5e3);return()=>{ne=!1,clearInterval(we)}},[n]);const S=I.useCallback((K,ne)=>{if(!h.current||h.current.readyState!==WebSocket.OPEN)return;s(we=>[...we,{role:"user",content:K,...ne?{attachments:ne}:{}}]);const ie={message:K};b.current&&(ie.previous_response_id=b.current),ne&&ne.length>0&&(ie.attachments=ne),o(we=>(we.page==="detail"&&(ie.agent_name=we.agentName),h.current.send(JSON.stringify(ie)),we))},[]),B=I.useCallback(()=>{s([]),b.current=null,o(K=>(K.page==="detail"&&(localStorage.removeItem(Mo(K.agentName)),localStorage.removeItem(Ao(K.agentName))),K)),h.current&&h.current.readyState===WebSocket.OPEN&&h.current.send(JSON.stringify({type:"clear"}))},[]),H=I.useCallback(K=>{o({page:"detail",agentName:K,tab:"playground"})},[]),j=I.useCallback(()=>{o({page:"listing"})},[]),Y=I.useCallback(async(K,ne)=>{try{const ie=await fetch(`/api/agents/${encodeURIComponent(K)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!ie.ok){v(`Error: ${ie.status} ${ie.statusText}`),setTimeout(()=>v(null),3e3);return}const we=await ie.json();we.error?(v(`Error: ${we.error}`),setTimeout(()=>v(null),3e3)):(v("Agent updated"),setTimeout(()=>v(null),2e3))}catch(ie){v(`Error: ${String(ie)}`),setTimeout(()=>v(null),3e3)}},[]),Q=I.useCallback(async(K,ne)=>{try{const ie=await fetch(`/api/tools/${encodeURIComponent(K)}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!ie.ok){v(`Error: ${ie.status} ${ie.statusText}`),setTimeout(()=>v(null),3e3);return}const we=await ie.json();we.error?(v(`Error: ${we.error}`),setTimeout(()=>v(null),3e3)):(v("Tool updated"),setTimeout(()=>v(null),2e3))}catch(ie){v(`Error: ${String(ie)}`),setTimeout(()=>v(null),3e3)}},[]),q=I.useCallback(K=>{v(K),setTimeout(()=>v(null),2e3)},[]),G=I.useCallback(K=>{o({page:"listing"}),D(!0),setTimeout(()=>{var ne;(ne=E.current)==null||ne.clearChat(),setTimeout(()=>{var ie;(ie=E.current)==null||ie.sendMessage(K)},300)},100)},[]),V=(n==null?void 0:n.config)??{},J=i.page==="detail",le=J?i.tab:"playground";if(e===!1)return d.jsx(cI,{onServerReady:()=>{fetch("/api/project").then(K=>K.json()).then(K=>{r(K),t(!0)}).catch(()=>{})}});const se=K=>{K==="agents"?(D(!1),o({page:"listing"})):K==="assistant"&&(D(!0),o({page:"listing"}))},re=K=>{i.page==="detail"&&o({...i,tab:K})};return d.jsxs("div",{className:"flex h-screen overflow-hidden",children:[d.jsx("div",{className:"wco-titlebar hidden bg-blue-600 dark:bg-gray-950 border-b border-blue-700 dark:border-gray-800"}),d.jsx(Q9,{collapsed:F,onToggle:T,dark:m,onToggleDark:()=>y(K=>!K),mode:J?"detail":"listing",activeListingItem:z?"assistant":"agents",activeDetailItem:le,onListingNavigate:se,onDetailNavigate:re,onLogoClick:()=>{D(!1),o({page:"listing"})}}),d.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[J&&d.jsxs("div",{className:"flex items-center justify-between px-4 py-4 border-b border-gray-200 dark:border-gray-800 flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:j,className:"p-1.5 -ml-1 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Back to agents",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}),d.jsx("h1",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:i.agentName}),d.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{var ie;const K=((ie=n==null?void 0:n.agents[i.agentName])==null?void 0:ie.project)??"",ne=f[K]??!1;return d.jsxs(d.Fragment,{children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${ne?"bg-green-400":"bg-gray-300 dark:bg-gray-600"}`,title:ne?"Local server running":"Local server not running"}),d.jsx("span",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:ne?"Deployed":"Not deployed"})]})})(),typeof V.name=="string"&&!V.workspace&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),d.jsx("span",{className:"text-[11px] text-gray-500 dark:text-gray-400",children:String(V.name)})]})]})]}),d.jsx("div",{className:"flex items-center gap-2",children:le==="playground"&&d.jsx("button",{onClick:B,className:"p-2 border border-gray-300 dark:border-gray-700 rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",title:"Reset conversation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})})]}),i.page==="listing"?z?d.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[d.jsxs("div",{className:"flex-shrink-0 flex items-center justify-end px-5 pt-3 pb-1 gap-1",children:[d.jsxs("div",{className:"group relative",children:[d.jsx("div",{className:"p-2 rounded-lg text-amber-500 dark:text-amber-400 cursor-default",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})})}),d.jsx("div",{className:"absolute right-0 top-full mt-1 hidden group-hover:block pointer-events-none z-20",children:d.jsx("div",{className:"bg-gray-900 dark:bg-gray-700 text-white text-xs rounded-lg px-3 py-2 whitespace-nowrap shadow-lg",children:"Using the assistant consumes your Claude account usage"})})]}),P&&d.jsx("button",{onClick:()=>{var K;return(K=E.current)==null?void 0:K.clearChat()},className:"p-2 rounded-lg text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-800 transition-colors",title:"Clear conversation",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})})})]}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto flex flex-col",children:d.jsx("div",{className:"flex-1 flex flex-col items-center px-4 pb-4",children:d.jsx("div",{className:"w-full max-w-[700px] flex-1 flex flex-col",children:d.jsx(B9,{ref:E,active:z,onMessagesChange:R})})})})]}):d.jsx("div",{className:"flex-1 min-h-0 pt-2",children:d.jsx(QN,{snapshot:n,onSelect:H,localServerMap:f})}):le==="playground"?d.jsxs("div",{ref:w,className:"flex flex-1 min-h-0",children:[d.jsx("div",{style:{width:`${g}%`},className:"flex-shrink-0 min-w-0",children:d.jsx(Py,{children:d.jsx(qN,{snapshot:n,agentName:i.agentName,onSelectAgent:O,onSelectTool:M})})}),d.jsx("div",{onMouseDown:N,className:"splitter-divider flex-shrink-0"}),d.jsx("div",{style:{width:`${100-g}%`},className:"flex flex-col min-h-0 min-w-0",children:d.jsx(X9,{messages:l,onSend:S})})]}):le==="env"?d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:d.jsx("div",{className:"px-4 py-6",children:d.jsx(nI,{project:((te=n==null?void 0:n.agents[i.agentName])==null?void 0:te.project)??void 0,onToast:q})})}):le==="security"?d.jsx("div",{className:"flex-1 min-h-0 flex flex-col",children:d.jsx(uI,{isWorkspace:!!V.workspace,project:((pe=n==null?void 0:n.agents[i.agentName])==null?void 0:pe.project)??void 0,onToast:q})}):le==="customize"?d.jsx("div",{className:"flex-1 min-h-0",children:d.jsx(sI,{isWorkspace:!!V.workspace,project:((ve=n==null?void 0:n.agents[i.agentName])==null?void 0:ve.project)??void 0,projectName:typeof V.name=="string"?V.name:void 0,onToast:q})}):d.jsx(aI,{project:((ce=n==null?void 0:n.agents[i.agentName])==null?void 0:ce.project)??void 0,agentName:i.agentName,sourceFile:((Re=n==null?void 0:n.agents[i.agentName])==null?void 0:Re.source_file)??void 0,isWorkspace:!!V.workspace,onToast:q,onDeployWithAssistant:K=>G(K)}),d.jsxs("div",{className:"flex-shrink-0 border-t border-gray-200 dark:border-gray-800 bg-gray-50 dark:bg-gray-900/50 px-4 py-4 flex items-center justify-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",children:[d.jsx("span",{children:"Built with"}),d.jsx("span",{className:"text-red-400",children:""}),d.jsx("span",{children:"by"}),d.jsx("a",{href:"https://www.linkedin.com/in/echeverriajuan/",target:"_blank",rel:"noopener noreferrer",className:"font-medium text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:"Juan Echeverria"})]})]}),A&&d.jsx(J9,{agent:A,onClose:()=>O(null),onSave:Y}),_&&d.jsx(eI,{tool:_,onClose:()=>M(null),onSave:Q}),x&&d.jsx("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg text-sm z-50",children:x})]})}fu.createRoot(document.getElementById("root")).render(d.jsx(Y0.StrictMode,{children:d.jsx(mI,{})}));
